WEBVTT

00:00.000 --> 00:06.360
My searches for understanding how to integrate different temperature sensors and gadgets into home assistant

00:06.360 --> 00:11.680
I kept coming across the intermittent tech channel and when Alex suggested that we chat with

00:12.280 --> 00:18.800
Quintin are today. I thought it was a great opportunity to really geek out Quintor. Welcome to the self-hosted program

00:18.800 --> 00:21.720
Thank you very much. Thank you for joining us Alex

00:21.720 --> 00:25.680
And I are both impressed with the amount of output that you have on your channel

00:25.680 --> 00:31.360
But also the depth of detail that you seem to go into like project after project you must

00:31.800 --> 00:33.800
You must put a lot of work into that

00:34.160 --> 00:37.200
Yeah, it's it takes up a lot of my free time

00:37.200 --> 00:42.600
But I'm I guess I geek you would call it by heart and I like finding

00:43.320 --> 00:48.200
Going to the bottom of things and then trying to explain it to others so they can do it also

00:48.920 --> 00:50.720
Well, I appreciate that

00:50.720 --> 00:56.720
Well, it's kind of the ground basis why it started as a blog and then it transitioned into a YouTube channel

00:56.720 --> 01:02.440
So yeah, there are some things that just don't translate into text, huh? Yeah, very true

01:02.440 --> 01:04.960
and and the other way around too, so like

01:06.200 --> 01:10.560
Heaps of code do better on a blog. So now I do kind of both. I

01:12.160 --> 01:16.520
Appreciate that because I agree completely with that and Alex has been striking a good balance with that himself

01:16.520 --> 01:22.800
So Alex was at the recent home server series that put quindor on your radar this time. It was yeah, so

01:23.400 --> 01:30.300
You've been building a server lately. Haven't you with ZFS and doing some stuff with Ryzen and Proxmox and all that kind of stuff

01:30.480 --> 01:34.780
Yeah, my my old server was about six years old now

01:34.780 --> 01:40.360
I think and there were some disks starting to fail and I started to have some other problems and

01:40.680 --> 01:46.240
One of the ways we noticed that is I actually run demotics and home assistant still at both

01:46.240 --> 01:52.040
And well at some point the lights didn't turn on because a disk was crashing stuff like that

01:52.040 --> 01:54.760
So I thought okay time to build a new one

01:54.760 --> 01:59.800
That's the side of self-hosting people don't talk about very often is when it breaks. It's your fault. You got to fix it

01:59.800 --> 02:01.800
Sometimes it's an opportunity

02:02.200 --> 02:09.600
Yeah, so this server looks really sweet. It's a hundred terabyte 10 gigabit server that that's the that's the branding on all of all

02:09.600 --> 02:13.240
Of your videos. How did you come to some of the decisions around?

02:13.240 --> 02:20.100
Choosing the hardware and and and Proxmox and stuff like that for me. The server is kind of

02:20.920 --> 02:26.160
Multi-purpose. I have my youtube channel as we just mentioned and for that I need a lot of storage

02:26.160 --> 02:30.300
I generate about six to eight terabytes of footage raw footage a year

02:31.320 --> 02:37.440
and I also like to live edit from the server, but my old server wasn't really up to that and

02:37.440 --> 02:44.760
Next to that. I run my home animation VMs like with demotics and home assistant from it and for work

02:44.760 --> 02:48.920
I also run some testing environments and things like that. So I

02:49.640 --> 02:51.640
kind of wanted to renew it and

02:52.000 --> 02:54.880
more cores is more better in that regard and

02:55.620 --> 02:56.980
the new

02:56.980 --> 02:59.100
Ryzen 3000 series was launching

02:59.840 --> 03:04.100
So I was like, okay, let's move my old Ryzen

03:04.100 --> 03:09.980
a 1700 desktop to my server platform and then buy a new Ryzen

03:10.140 --> 03:16.220
3000 series and basically buy a new desktop but get a new server out of it. Now have you found the Ryzen switch because

03:16.700 --> 03:18.580
Intel these days

03:18.580 --> 03:24.140
I don't know if you've seen the the latest videos from like Jay's two cents and Linus tech tips and all that

03:24.140 --> 03:31.380
But they are beating up hard on Intel these days. Yeah, well this sort kind of started during the Ryzen 1000 series

03:31.380 --> 03:36.700
So as I said, I was one of the first guys to get it and I did a whole series called the road to Ryzen

03:37.580 --> 03:42.240
Getting the first eight core where I came from a quad core and Intel

03:42.500 --> 03:48.000
well, they quickly followed with six and eight cores, but now I have a 12 core and

03:49.300 --> 03:53.180
Intel basically has nothing that can compete with it even

03:53.820 --> 03:55.940
In the areas where they used to be better

03:55.940 --> 04:03.100
So in IPC and power usage and stuff like that the right especially the Ryzen 3000 series is just better

04:03.860 --> 04:10.540
Yeah, I'm curious specifically which workloads you see a big improvement on is it encoding work? What types of?

04:11.340 --> 04:16.940
CPU loads are you using that benefit? Well take my video rendering from the Intel box

04:16.940 --> 04:23.260
I had before and granted it was a few years old that basically became four times as fast. That's wonderful

04:23.260 --> 04:30.700
we have from a four and a half gigahertz quad core to it basically a four and a half gigahertz with higher IPC 12 core and

04:31.420 --> 04:35.780
the CPU was about the same during that era in price and

04:37.060 --> 04:39.740
From the server. That's now an eight core server

04:39.740 --> 04:46.820
Well, like five years ago that would have been ultra high-end and now it's just like it's eight cores. It's okay

04:46.820 --> 04:52.660
It's something isn't it and you said something in there that piqued my interest because it's something we've attempted

04:53.300 --> 04:59.820
To various degrees of success your live editing over that 10 gigabit connection. You've built on that server

05:00.500 --> 05:05.680
How is that and had did you have to do any particular tweaking to your network your switches in general your network card?

05:05.780 --> 05:09.100
Configuration to make that work. Well, it started in the design of the server

05:09.940 --> 05:14.100
Reusing a desktop platform, but wanting to have high bandwidth

05:14.100 --> 05:17.100
Capabilities you need to take a lot into account

05:17.580 --> 05:22.500
So for instance a desktop platform is mostly limited in regards to PCIe bandwidth

05:22.700 --> 05:29.000
so I did some research and made some videos about that and how to look up how many PCIe lanes there are and your

05:29.000 --> 05:35.960
Motherboard and how they're distributed and then how you should basically distribute your cards over the available PCI slots

05:35.960 --> 05:37.960
so that there won't be a bottleneck there and

05:37.960 --> 05:43.280
After that, I run Proxmox with ZFS under it

05:43.280 --> 05:49.240
And I did a little bit of tuning in regards to flash based caching in ZFS

05:49.560 --> 05:54.000
So basically on the server the the project I'm editing

05:54.640 --> 06:01.540
After a little while, especially from ingesting footage is basically all on the cache drive, which is an NVMe drive

06:01.840 --> 06:05.640
so I can basically edit at full 10 gig speeds and

06:05.640 --> 06:12.040
although that's still slower than locally, especially the latency that it doesn't come from a hard disk and

06:12.400 --> 06:18.840
Well one gigabyte a second. That's plenty fast to edit video. I gotta say you're making me want to try it again

06:18.840 --> 06:24.520
That's great. And then the storage is taken care of you're investing your money in one place

06:24.520 --> 06:28.040
You have you can you can focus your performance on the server. That's really clever

06:28.120 --> 06:32.520
Yeah, but also things around it like backup scripts and stuff like that

06:32.520 --> 06:37.440
We're all kind of lax in setting that up on our desktop or workstation and stuff like that

06:37.560 --> 06:43.080
But on my server, I basically have directories where everything goes. So I have some scripts running which make

06:43.800 --> 06:49.480
backups to my as I call a DIY cloud backup solution, which I set up a few years ago and

06:50.080 --> 06:54.920
That always runs that just runs during the night when my desktop is off, but my server is on

06:54.920 --> 06:58.720
So I know if my stuff is on there, it's good

06:58.720 --> 07:05.960
Because using ZFS you have the advantage of stuff like data sets and do you do make use of anything like ZFS send

07:05.960 --> 07:10.200
For remote backups or like how do you do you even worry about off-site backups?

07:10.200 --> 07:15.960
Yeah, I don't make bad use of ZFS send or receive but I do off-site backups using a

07:16.520 --> 07:20.120
Basically a DIY cloud backup solution. I built a few years ago

07:20.120 --> 07:28.600
Um, do you guys remember a backup service called crash plan? Oh, yeah with a horrible Java client and everything. Yep. Wonderful

07:30.080 --> 07:37.880
Okay, granted, but they were the first to offer online backups with an unlimited plan basically for like a few bucks a month

07:38.160 --> 07:44.140
So I've been using that for a few years and it was great and they allowed you to back up 10 PCs

07:44.140 --> 07:50.560
So I backed up my mother's and father's PC and my sister's and mine and my laptop and some VMs

07:50.560 --> 07:54.800
I had and that was all fine. And then they announced well, we're stopping and

07:55.400 --> 07:57.400
a lot of other

07:57.520 --> 08:01.360
Cloud hosted backup solutions out there. They're limited to

08:02.280 --> 08:07.640
One client only so let's say you have black place and you have their unlimited plan

08:07.640 --> 08:14.440
They limit you to have only a single client, but I have like eight or ten clients which have all my data

08:14.880 --> 08:21.080
naturally, so I basically got together with a few friends and my parents home just got

08:21.440 --> 08:23.200
500

08:23.200 --> 08:25.200
Symmetrical megabits fiber

08:25.280 --> 08:30.440
so we basically chipped in got five ten terabyte hard disks and I set up a

08:30.920 --> 08:34.880
s3 server on their LAN which we could access remotely and

08:34.880 --> 08:41.440
Ever since I've been backing up to that because it turns out if you buy five times ten terabytes with

08:41.660 --> 08:45.600
Like an atom based server and run minio for s3

08:45.960 --> 08:52.280
you can use all kinds of backup tools out there which talk as s3 and currently using RESTIC and

08:53.600 --> 08:56.920
Back up anything you want to that and if you share that with a few friends

08:56.920 --> 09:01.180
It's even a lot cheaper than the cloud if you take in if you look at it for like five years

09:01.180 --> 09:05.900
Absolutely, I love that you chose to essentially implement

09:06.740 --> 09:11.060
Self-hosted s3 services simply because of the client compatibility. That's probably a similar direction

09:11.060 --> 09:14.940
I would have considered going because you're right you get so many good backup clients now and

09:16.420 --> 09:21.640
Yeah, even if even if once a year around, you know, like an annual sale

09:22.340 --> 09:27.380
Everybody goes in and you buy one more hard drive or two more hard drives to add to the mix or whatever your whatever your plan

09:27.380 --> 09:33.260
Is have you thought about that long term? Like will you just continue to add this at an add to at a time or what?

09:33.260 --> 09:36.260
Your thoughts around long term five years like you were saying

09:36.860 --> 09:37.940
well

09:37.940 --> 09:39.940
Since I went to ZFS route

09:40.940 --> 09:45.500
Expandability isn't really a thing yet. So we went with five times ten terabyte

09:45.740 --> 09:52.780
Which would basically be enough for the people involved for those five years and just don't even have to worry about it then no

09:52.780 --> 09:56.520
No, that's gonna be fine for a few years

09:57.140 --> 10:00.220
That is fantastic. Well going back to your new server

10:00.220 --> 10:04.380
I don't want to spoil it because it's a series of videos and there's a lot of details in there

10:04.580 --> 10:08.660
but something that Alex mentioned to me that I I wanted to sort of

10:09.060 --> 10:14.040
Not only get you to chat about here on the show, but it kind of is a great example of your attention detail

10:14.560 --> 10:20.820
You spend some time in this home server build specifically paying attention to the PCI Lane setup

10:20.820 --> 10:24.200
I'm not really familiar with that part of the series. So could you fill me in on those details?

10:24.700 --> 10:27.380
Basically if you're using a desktop platform

10:28.100 --> 10:32.740
those are basically geared towards having you have everything on board and

10:33.220 --> 10:37.560
Then having a graphics card and nowadays, maybe an NVMe SSD

10:37.900 --> 10:45.040
So the PCI lanes so it's what is particularly is it just more more of them and more performance on the desktop boards versus a server

10:45.040 --> 10:47.040
board have you heard of the

10:47.040 --> 10:55.000
The eight times or 16 times graphics card situations like when you're plugging a graphics card in it says I'm running at eight times speed

10:55.000 --> 10:57.480
Or 16 times speed or whatever. Sure

10:57.480 --> 11:05.280
okay, and those refer to the number of PCIe lanes that are available for bandwidth between that device and the CPU one of the

11:05.280 --> 11:07.600
nice things about Threadripper is that it has

11:08.080 --> 11:13.700
Like I forget the exact number but it has like 30 or it might even be 60 PCIe lanes

11:13.700 --> 11:20.620
Yeah, Threadripper has 64 and the newer generation that launched this year actually has 72. Holy crap

11:20.860 --> 11:25.720
So like an NVMe SSD will will generally have a an x4

11:26.420 --> 11:29.020
Slot so that will use four of your PCIe lanes

11:29.020 --> 11:32.480
Which is why it's so fast because it's basically plugged directly into the matrix

11:33.060 --> 11:36.240
When when you're looking at a desktop platform like Andreas says

11:36.820 --> 11:41.980
One of the ways they save money is by not including so many PCIe lanes in the chipsets

11:41.980 --> 11:44.820
if you do want to use your desktop chipset and

11:45.540 --> 11:52.040
Platform for a server and you want to hook up 24 drives and some NVMe cache and have 10 gigabit

11:52.220 --> 11:57.160
You kind of need to take that into account because just plugging all those cards into your motherboard

11:57.700 --> 12:02.680
It might work, but it'll be very limited in regards to bandwidth

12:02.900 --> 12:09.500
You're able to get so in my case if I plug in my graphics cards even into a times one slot

12:09.500 --> 12:15.980
My times four slot will get limited to times two instead of times four PCIe lanes

12:15.980 --> 12:21.980
and that means I can only get about five six gigabit over my ten giga leg instead of getting ten and

12:23.140 --> 12:26.380
That's of course easily testable using network performance tools

12:26.580 --> 12:30.360
But if this happens to your HBA which is hooked up to your hard disks

12:30.740 --> 12:37.040
You'll be scratching behind your ears like why isn't this performing the way I thought it would but yeah

12:37.040 --> 12:40.800
Okay, because Ryzen needs a graphics card, right?

12:40.800 --> 12:47.440
It doesn't have a built-in GPU of any any description like the Intel chips might so one of the one of the videos

12:47.960 --> 12:49.840
Andreas shows he literally

12:49.840 --> 12:56.360
has a GPU that's just garbage just for installing the OS and then he pulls it out and he shows the difference between

12:56.920 --> 13:00.000
his network card running at 6 giga second on a

13:00.720 --> 13:04.720
X 2 or X 4 link and then pulls it out

13:04.720 --> 13:09.320
And then suddenly the extra PCIe lanes are available and he gets the full 10 gig speed

13:09.320 --> 13:12.680
It's actually pretty interesting to watch that is fascinating

13:12.680 --> 13:16.720
I love that you took the time to actually demonstrate that to you. That's that's great

13:16.720 --> 13:22.600
As you said, I think it's the details that the bigger youtubers they might build something cool

13:22.600 --> 13:25.980
But they don't really have time to work that in the videos

13:26.000 --> 13:31.420
So I thought like okay, let's do a whole series about this so that people want to do the same

13:31.420 --> 13:35.060
Actually know what to take into account because what's your background?

13:36.060 --> 13:41.280
I've picked up in some of the some of the episodes that you might have an enterprise you storage you type background

13:41.280 --> 13:46.900
I'm just curious. I've been doing enterprise storage and mainly backup focused storage

13:47.500 --> 13:50.880
And and backup solutions for the past 20 years now

13:51.420 --> 13:53.900
In the bigger enterprise situation

13:53.900 --> 13:59.220
So if you have like five and a terabyte or even a few petabyte and you want a storage solution for that or a backup

13:59.220 --> 14:04.480
Solution and basically you're a guy. So what what we're doing at home is is kind of cute to you, I guess

14:05.260 --> 14:07.260
in some ways, but it also

14:08.140 --> 14:11.940
Teaches me a lot of stuff. So it's it's a win-win for that for both

14:12.500 --> 14:14.820
Both sides basically and how do you square off?

14:14.820 --> 14:20.000
You know because in the enterprise everything's about being highly available which will lead into another topic shortly

14:20.860 --> 14:24.100
You know, how do you square off desktop hardware of you know?

14:24.100 --> 14:30.960
Having a single power supply only and stuff like that against that kind of enterprise. Let's have redundant everything

14:31.140 --> 14:33.140
so in the enterprise

14:33.900 --> 14:35.740
Time is basically money

14:35.740 --> 14:40.860
So if you can spend more money to not have downtime basically

14:41.180 --> 14:46.060
That's most often worth it. So having a dual PSU which will cost you

14:47.020 --> 14:50.620
$600 instead of having a single one which will cost you $200

14:50.620 --> 14:54.840
But being down one hour costs you $2,000

14:55.420 --> 14:57.420
Well that choice is easy

14:57.460 --> 14:59.460
Mm-hmm, but at home

15:00.260 --> 15:02.260
$2,000 for like oh, sorry

15:02.260 --> 15:07.740
$600 for like a dual power supply is a lot of money where two hundred dollars will work fine

15:07.800 --> 15:10.820
Except indeed if it fails, but then if it fails

15:10.820 --> 15:18.440
I'll just run out get a different power supply plug it in and I've been down maybe a day and during that day

15:18.440 --> 15:22.800
And well not two thousand dollars per 24 per hour were lost

15:24.000 --> 15:25.960
So I can't really

15:25.960 --> 15:31.280
Make the same judgment call. So my time is worth less money than it is in the enterprise

15:31.320 --> 15:35.800
Yeah, it's a good rationale and I can't argue with it, you know

15:35.840 --> 15:41.840
But one thing that has come up in your latest video is a highly available home assistant

15:41.840 --> 15:44.000
I am super interested in this

15:44.000 --> 15:50.800
So please talk us through what that is first of all what that means because some people listening to this may not be familiar with what?

15:50.800 --> 15:57.400
Highly available means in the enterprise next to having redundant components on a single server

15:57.680 --> 16:03.120
they also have a term ha or called high availability is that if a

16:03.520 --> 16:05.600
Complete hardware box would go down

16:06.200 --> 16:11.980
basically, there's a cluster of hardware boxes, which then would take over the function or

16:11.980 --> 16:17.580
VMs or guests or whatever that other box was running and then basically started again

16:17.860 --> 16:21.660
To make that service it was running or providing available again

16:22.060 --> 16:27.340
So a really simple example of this in the real world would be if you only have one car

16:27.460 --> 16:32.860
That's a single point of failure in your life, right if your car breaks down and you can't drive it anymore

16:33.460 --> 16:38.620
Suddenly you think to yourself. Well, I should have a backup car. Well, this is what we're talking about in terms of

16:38.620 --> 16:43.540
Site reliability engineering here. It's a bit of a DevOps II type topic

16:43.540 --> 16:47.700
but it's very important in in cloud architectures and that kind of thing as well and

16:48.220 --> 16:53.580
I don't see any reason why we can't start implementing some of this stuff in our home setups

16:53.580 --> 16:55.580
I home assistant and stuff like that when you're running

16:56.500 --> 17:00.780
Services in your house that you rely on to control your lighting your heating etc, etc

17:02.020 --> 17:04.380
having home assistant able to be able to

17:04.380 --> 17:09.900
Move between a Raspberry Pi and your server and a NUC under the stairs, you know

17:09.900 --> 17:14.580
So you've got two or three different devices that are capable of running that setup. You might have one

17:14.580 --> 17:19.660
That's your primary beefy, you know your best car or whatever to get back to that analogy

17:20.140 --> 17:23.300
But you might have your backup car that might be a bit old and a bit rusty

17:23.300 --> 17:28.860
But it will get the job done in a in a pinch. Yeah, that's that's exactly as I've well

17:28.860 --> 17:33.260
I'm still trying to build this or looking into it, but that's basically what I have

17:33.260 --> 17:40.460
I have the the beefy new server, but the old server has become one of the nodes in a Proxmox cluster and

17:41.500 --> 17:48.980
It certainly can't do everything the new server can but if if the new server would fail for whatever reason I am

17:49.500 --> 17:56.580
Well, we'll go into it deeper, but you can basically start the home assistant VM again on one of the lesser power machines

17:56.580 --> 18:01.300
So you won't get all functionality maybe but you'll get the functionality you need

18:01.300 --> 18:07.380
So what what considerations do you have to make with home assistant when you're trying to run it in two places at once?

18:07.700 --> 18:12.780
Effectively, are you are you a has I O user first of all, or do you run it out of a container or an LXC?

18:12.780 --> 18:15.260
or what I've been looking into that and

18:16.420 --> 18:17.340
To start off

18:17.340 --> 18:23.220
I've been a has I O user in a on a Raspberry Pi and then I basically quickly moved into a VM

18:23.300 --> 18:28.180
Because if you want to do something with influx DB and Grafana and stuff like that

18:28.180 --> 18:35.660
The the pie will die a very quiet death. Well the SD card more specifically will will fail very quickly. Yeah. Yes

18:35.980 --> 18:37.980
That's not good news for me

18:38.780 --> 18:41.940
Yeah, cuz I'm feeling all what you're saying right now thinking to myself

18:42.460 --> 18:48.120
Yeah, I really don't want to be troubleshooting a struggling pie at 9 p.m. When I'd rather just sit down on the couch

18:48.120 --> 18:50.120
I can relate to that

18:50.980 --> 18:52.580
You know if you do a lot of this stuff

18:52.580 --> 18:56.780
There's certain times of the day where you just want to be done and when it's something as important as home assistant

18:56.780 --> 18:58.780
This just happened to me recently

18:58.820 --> 19:03.980
Instead of going to bed. I was I was resolving a home assistant issue and I thought to myself for a minute

19:03.980 --> 19:04.780
You know what?

19:04.780 --> 19:10.540
I need to have a way to just switch over to another system or have a snapshot or something. So

19:11.420 --> 19:16.940
it it might sound silly to think about making your home assistant system highly available, but

19:18.060 --> 19:21.100
Listening to the two of you. I think you both make a very compelling argument

19:21.100 --> 19:24.460
It's making me rethink some of my setup even though it's so new which I just hate that

19:24.460 --> 19:29.140
Yeah, that's how it goes but making

19:30.340 --> 19:37.540
Locally run home automation highly available isn't talked about much or at least I don't see a lot of topics about it

19:37.780 --> 19:39.780
but for me, I've just

19:39.860 --> 19:47.340
Encountered this where the box is down because of a hardware issue and I know the VM is on there and I have another box

19:47.860 --> 19:49.860
but I just well

19:50.180 --> 19:52.180
If you don't take any precautions

19:52.180 --> 19:56.140
You're you're done and that's basically what we're talking about here

19:56.860 --> 19:59.820
Making sure that by whatever means possible

20:00.860 --> 20:07.380
The VM if that hardware goes down you can basically start it somewhere else and doesn't even have to be fully automated, right?

20:07.380 --> 20:13.660
Because a lot of stuff in the enterprise has health checks and heartbeats and all that kind of stuff that does automatic failover

20:14.260 --> 20:20.900
But at home, you know this this weekend, for example, I spent a bit of time with has I owe automating snapshots and stuff like that

20:20.900 --> 20:27.140
so I now have the tar files are syncing from my house I owe instance to a

20:28.180 --> 20:29.940
folder on my ZFS

20:29.940 --> 20:32.460
Array, and maybe I could run a house

20:32.460 --> 20:38.060
I ovm on my desktop for a week whilst I wait for a part to come in or something like that using that snapshot

20:38.060 --> 20:40.060
So is that the kind of approach you were taking?

20:40.900 --> 20:45.420
Yes, but a bit more enterprising. I guess you could say so first

20:45.420 --> 20:50.980
I built a four node Proxmox cluster with basically hardware ahead around the house

20:50.980 --> 20:57.140
And even if you just have two boxes instead of one, that's fine. You can build a Proxmox cluster

20:57.660 --> 21:04.500
With that and then the first thing I set up was in Proxmox a few versions back. They introduced

21:05.140 --> 21:06.340
ZFS

21:06.340 --> 21:07.300
replication

21:07.300 --> 21:08.940
so basically

21:08.940 --> 21:12.980
Proxmox will take a snapshot every 15 minutes of your VM and

21:12.980 --> 21:19.140
Send it to the other box and the same VM is over there. It's just turned off. Oh, that's slick

21:19.140 --> 21:24.540
I didn't know you could do that that could turn the recovery time into five minutes. That's really great. I

21:25.340 --> 21:30.040
Want to make sure we chat about something before we go because Alex and I have been getting really into

21:30.300 --> 21:36.100
LED light strips that are controlled by home assistant and you have a really cool DIY project called Quinn LED

21:36.380 --> 21:39.580
I'm not very familiar with it, but it looks like it could be right up our alley

21:39.580 --> 21:44.020
I started this when I started building the house. I'm currently living in I

21:44.420 --> 21:49.620
Wanted to have a dimmer for LED strips and LED lights. It's mainly for LED strips

21:50.140 --> 21:53.580
which I could control using demotics at that time and

21:54.060 --> 21:59.780
I started looking into this and Philips U just became a thing and I started looking into that

21:59.780 --> 22:05.020
I was like, okay, I can do this in my whole house and it's cloud connected and then I have to pay like

22:05.020 --> 22:09.620
$20,000 I was like, that's never gonna happen

22:11.420 --> 22:17.100
How can we do this otherwise and I started looking into this and I basically built the the Quinn LED

22:17.220 --> 22:19.460
OG as I now call it. It was in

22:20.580 --> 22:26.540
2015 I think and I basically designed a PCB in a board with some custom code on an ESP

22:26.980 --> 22:33.740
8266 was an ESP 01 at the time and built a little dimmer board which integrated into demotics

22:33.740 --> 22:39.580
Now fast-forward a few years. I've built more boards. I've built the Quinn LED quad and deca

22:39.580 --> 22:45.460
That's a four channel and ten channel board which I for instance use for all the lighting in my home

22:45.460 --> 22:53.340
But also in my film studio and stuff like that because it's able to do very high PBM frequencies and the newest board

22:53.340 --> 22:56.140
I've released is the Quinn LED dig uno

22:56.660 --> 22:58.660
That's a single channel

22:58.660 --> 23:05.140
Digital LED controller so where analog LEDs can basically only set the strip to a single color

23:05.740 --> 23:07.740
or brightness intensity

23:09.020 --> 23:11.860
Digital LEDs can do this per LED

23:12.100 --> 23:16.100
So you can make all kinds of effects and patterns and all kinds of cool stuff

23:16.240 --> 23:22.340
one thing that I never really considered because the smart LEDs was the first project that got me into

23:23.020 --> 23:25.300
You know, I used to build my own racing drones

23:25.300 --> 23:29.900
I mean I still do but that got me into electronics and soldering and that kind of thing

23:29.900 --> 23:31.900
but the first thing that got me into

23:32.300 --> 23:38.220
Building my own stuff at home was LED lighting and I've got three or four of these things around my house right now

23:38.220 --> 23:40.540
And then I watch your video about this

23:41.420 --> 23:47.060
Dig uno with a fuse in it and polarity protection and all the rest of it and I'm like, oh, yeah

23:47.060 --> 23:49.460
No, I probably should have a fuse in there, shouldn't I?

23:49.460 --> 23:56.260
The Quinn LED dig uno basically was like, okay, I want to do more with digital LEDs around the house and

23:56.260 --> 24:03.460
you can just take an ESP8266 or an Arduino or something like that hook up the pin to the LED strip and

24:03.460 --> 24:05.460
Then you can make the effects

24:05.460 --> 24:09.860
But if you want to install this in somewhat more permanent fashion

24:10.420 --> 24:18.460
You want it like controllable in home assistant and you don't want it to burn down or if you're working it up at 380

24:18.460 --> 24:21.580
Working it up at 3 a.m. And you cross the wires the wrong way

24:21.900 --> 24:27.380
You don't want everything to blow up and that's basically everything I put into the dig uno design

24:27.380 --> 24:29.700
so if a fuse reverse polarity protection

24:29.700 --> 24:37.940
there is a level shifter on there because a ESP sends out 3.3 volts and the LED strip expects 5 volts and

24:38.420 --> 24:41.060
Most of the time it works except when it doesn't

24:41.780 --> 24:45.060
So I kind of incorporated all that into the board

24:45.060 --> 24:52.500
But for people who want to move on from the breadboard with DuPont connections, and if you wiggle it it well turns off

24:53.260 --> 24:55.260
To a bit more permanent setup.

24:55.260 --> 25:01.340
I absolutely love and and thank you for this. I love that you have open-sourced the PCB design

25:01.340 --> 25:03.340
I just think that's so cool.

25:03.340 --> 25:05.580
I basically want it to be available for everyone

25:05.580 --> 25:11.940
I want to talk about two year convert for a few minutes and for those of you that aren't familiar with this wonderful project

25:11.940 --> 25:19.340
There are a bunch of smart plugs that you can buy based around the ESP8266 chip

25:20.380 --> 25:24.860
Tekin in the US makes some and I'm sure Andreas will fill us in on a few

25:25.380 --> 25:29.100
that are available in Europe. These things they try and

25:30.060 --> 25:35.980
Connect back to the the manufacturers data center for some reason to get their firmware updates

25:35.980 --> 25:43.500
And so what two year convert does which there'll be a link in the show notes is it emulates the update server

25:43.820 --> 25:51.260
On a Raspberry Pi or any other device with two NICs what one has to be a Wi-Fi adapter and one has to be an Ethernet

25:51.980 --> 25:57.660
But essentially you turn your Raspberry Pi into the update server of this company

25:57.660 --> 26:03.940
You then flash Tasmota or whatever other firmware you want to onto these devices and then you own them forever

26:03.940 --> 26:09.660
It's really really cool and two year convert is something that you've got into a fair bit, right Andreas?

26:10.100 --> 26:15.820
About a year or one and a half ago a lot of two year based projects like light bulbs and also

26:16.260 --> 26:22.980
Smart metering plugs became available for really interesting prices. These were like 10-15 bucks apiece and

26:23.540 --> 26:29.220
At the time I wanted to measure some stuff in my home for power usage and things like that

26:29.220 --> 26:35.900
And I basically want to have that data in home assistant so it can go to influx and Grafana and you can do all the stuff

26:35.900 --> 26:36.540
with it

26:36.540 --> 26:43.300
But these plugs as you said for some reason have to have an online connection and you can use an app and stuff like that

26:43.900 --> 26:48.180
The hardware is in there. We just want to use it in our own way

26:48.580 --> 26:55.580
But for some reason these manufacturers they don't allow that they they want you to run their firmware and then

26:55.580 --> 27:00.180
And then connect to their data centers and then be allowed to use your data

27:00.180 --> 27:04.580
And I really don't know why it needs to know when I turn on my Christmas lights or not

27:04.580 --> 27:06.220
What are they doing with that data?

27:06.220 --> 27:14.180
I often wonder particularly something that is so random as a switch like what possible information can they have from a switch being on or off?

27:14.700 --> 27:21.340
Presence detection at least at least they know you're there. Do they I mean, I've definitely left my soldering iron on when I'm not home

27:21.340 --> 27:23.660
I

27:23.660 --> 27:25.660
Mean there's such a big community

27:26.140 --> 27:33.100
Basically liberating these kinds of devices with ESP home and Tasmota firmware that I think like okay if even one

27:33.420 --> 27:39.900
manufacturer would just give us the ability to easily do this by hitting a switch in some kind of web interface like

27:40.420 --> 27:45.300
Allow custom third-party binary you take all responsibility click here

27:45.580 --> 27:50.060
It would be an instant hit with the home home automation community, I think but

27:50.060 --> 27:54.140
Nobody does this and is our data worth that much

27:54.140 --> 27:59.180
I mean, I I can't imagine it is and there's so many motivating factors for doing it for myself

27:59.180 --> 28:03.940
I just want it to completely function offline with no internet connection

28:03.940 --> 28:06.820
So when I take the RV somewhere where we have no connectivity

28:06.820 --> 28:11.540
I want everything to remain functional all of my automations to continue to work

28:11.540 --> 28:18.300
I'm not as concerned about the privacy aspect, but that's number two on the list. Those are two pretty strong motivators right there

28:18.300 --> 28:23.740
so I'm already adjusting my buying habits based on what the community seems to be able to

28:24.660 --> 28:30.100
Reflash at different times when I'm purchasing and I'm I know more and more people are doing it and it reminds me of

28:30.580 --> 28:33.460
the battle days with cheap routers

28:34.700 --> 28:36.700
DWRT

28:37.940 --> 28:39.940
Yeah, it's just like that all over again

28:40.540 --> 28:44.000
Only more of them and of different varying quality now

28:44.000 --> 28:51.240
There is a fun Twitter account that I like to follow called the Internet of shit and this talks about how the Internet of things is

28:52.480 --> 28:58.160
It's vulnerable to quite a few things and it isn't always updated and that kind of stuff. It's it's pretty funny

28:58.160 --> 29:01.200
Well and and to Andres's point a little bit more

29:02.040 --> 29:10.080
Why do all of these companies want to be cloud companies with infrastructure and vulnerabilities and services to maintain and API's to update?

29:10.080 --> 29:14.640
Why does a smart plug manufacturer want to even get in that game planned?

29:15.160 --> 29:20.620
Obsolescence Chris you think it is planned. It could be that's the office. That's a little conspiracy bacon Alex

29:22.040 --> 29:25.460
Well, yeah, think about it right if you're a hardware manufacturer and you're selling

29:26.320 --> 29:28.320
it's what's essentially a

29:29.000 --> 29:34.840
one or two dollar circuit board wrapped up in let's say another two or three dollars worth of plastic and

29:34.840 --> 29:40.840
Then you've got to get an FCC rating and all that kind of stuff right there isn't gonna be much money to be made

29:40.840 --> 29:44.760
I wouldn't have thought on a $10 smart plug. The margins are gonna be quite small

29:45.480 --> 29:50.360
so you've got to find some way to get people to buy these things every X number of years and

29:50.800 --> 29:57.040
One fun way to do that is to accidentally I mean air quotes accidentally brick the device

29:57.120 --> 30:00.320
you don't even have to break it you just bring out a new app and

30:00.320 --> 30:06.520
And then the new app can't talk to the old devices, but all the new devices can only talk to the new app

30:06.960 --> 30:14.360
Philips hue hub did yes. Yes, exactly. That's exactly what I have that exact situation because I went into an old

30:14.840 --> 30:19.840
Office that was shutting down and they had old Hughes lights all over the place and I thought well

30:19.840 --> 30:21.840
How great is this and of course?

30:21.860 --> 30:26.520
none of them could be controlled I had to go spelunking for an old app that I

30:26.520 --> 30:30.600
Had I guess had gotten at one point and so I was able to retrieve it

30:30.600 --> 30:32.900
I'm not even know if that normally how it works on the iOS App Store

30:33.800 --> 30:39.560
And then I had to bring it through a generational upgrade process is obnoxious

30:39.760 --> 30:44.780
So, I mean if you can own your hardware, I highly recommend doing it and this two-year convert

30:46.040 --> 30:51.240
Collection of scripts is is really pretty cool. And there's been some updates over this course of this year

30:51.240 --> 30:56.840
Two-year or the two-year compatible device manufacturers patched a lot of the exploits that were being used

30:57.640 --> 31:03.320
And then in September sort of time an update came out and people have found another exploit and that's what we're currently using

31:03.320 --> 31:09.760
So bear in mind this could go away at any time, but a device I bought this week is the Tekin

31:10.160 --> 31:14.960
SS 30 and this thing has four individually controllable

31:15.640 --> 31:17.640
AC ports and four

31:17.640 --> 31:26.920
And four controllable USB ports. So in home assistant, I now have five switches that I can control on one like power strip

31:27.720 --> 31:33.360
Using the the TAS motor firmware and it's really great because I know that that's just going to carry on working now until the end

31:33.360 --> 31:39.420
Of time or until that device physically fails. Wow, that is really great. Is this the one that's only $24 on Amazon?

31:39.420 --> 31:43.200
Yep, believe it or not. I'm gonna drop a link to that in the notes. That's really cool

31:43.200 --> 31:47.480
and all you need to flash it is a Raspberry Pi right and then you own it forever and

31:48.080 --> 31:52.240
They may not make that device forever and or they may patch that vulnerability

31:52.240 --> 31:57.240
but that one now that you own it's good and if you were to buy a couple at a time, you could just kind of set

31:57.240 --> 32:03.880
Up a production chain and just flash a few of them and get it over with and the thing that home assistance enables is now

32:03.880 --> 32:08.120
That you you can use hue and your own flash plugs and all

32:08.120 --> 32:14.360
All kinds of stuff from all kinds of brands and basically connect it all together as long as you can get it into home assistant

32:14.360 --> 32:21.280
And it does that with a lot of cloud enabled stuff too, but getting in it and in there native with Tasmota or ESP home

32:21.280 --> 32:25.280
It's just it makes it work so flawlessly every time

32:25.960 --> 32:27.160
Mm-hmm. Yeah

32:27.160 --> 32:33.320
I really do appreciate that aspect of home assistant because it means that some of these old IOT devices aren't throwaways a

32:33.320 --> 32:38.200
Home assistant doesn't care that these hue bulbs that I got have old firmware on them

32:38.200 --> 32:41.000
It still controls them just fine every now and then they pop offline

32:41.360 --> 32:42.560
It's a little obnoxious

32:42.560 --> 32:49.200
But it's so great at the same time to have three or four different vendors products all controlled locally by one piece of software

32:49.600 --> 32:55.160
But the key thing that I've found is now I shop with home assistant compatibility in mind

32:55.160 --> 33:01.360
That's where I start or a refresh ability for that. But yeah, right? Yep. Yep a good good point

33:01.360 --> 33:05.400
That's another way to look at it. That's basically why I started one of the reasons

33:05.400 --> 33:08.760
I designed my own hardware and dimmers and boards and stuff like that

33:08.800 --> 33:12.920
It's all geared to being controlled with home assistant now

33:12.920 --> 33:15.520
It's an ESP so you can run anything you want on it

33:15.600 --> 33:19.860
But from what I gather and the people in discord and on my website and stuff like that

33:21.040 --> 33:26.840
95% uses it with home assistant. Well Condor. I just want to say thank you again for not only all of the great details

33:26.840 --> 33:34.200
I came across your channel when I was looking for cheap integration thermostats and the home assistant which has made my life more comfortable and

33:35.000 --> 33:37.720
I also just really appreciate the level of details

33:37.720 --> 33:42.840
so we will link to the intermittent tech YouTube channel in the show notes keep up the great work and

33:43.400 --> 33:47.080
Keep us in the loop on future projects and we'd love to chat about them. Sure will do

33:47.080 --> 33:51.880
Thank you for having me. Is there anywhere you would explicitly like to send people? I mean are you on Twitter?

33:51.880 --> 33:54.080
I know you have a discord for example

33:54.080 --> 34:00.960
Um, well people starting with the YouTube channel and if they then want to join the discords the link and stuff are there

34:01.040 --> 34:05.760
So start with the YouTube channel. I think that's a good starting point and you can get more self-hosted show

34:06.480 --> 34:10.320
On Twitter at self-hosted show. I'm on Twitter at ironic badger

34:10.560 --> 34:18.080
I'm at Chris LAS and I'm there under intermittent tech and you can find links to all of those good things in the show notes

34:18.080 --> 34:24.080
at self-hosted.show slash nine

