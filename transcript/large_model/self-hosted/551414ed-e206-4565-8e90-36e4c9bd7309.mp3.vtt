WEBVTT

00:00.000 --> 00:06.800
I have an idea for a charging station in the home that I think would be a brilliant way

00:06.800 --> 00:08.040
to save battery life.

00:08.040 --> 00:09.880
I think I'm onto something here.

00:09.880 --> 00:14.080
So if you need to save battery life, why do you need a charging station?

00:14.080 --> 00:15.080
Here's the thing.

00:15.080 --> 00:16.080
So you got your devices, right?

00:16.080 --> 00:19.440
Like your laptops and your iPads.

00:19.440 --> 00:25.040
And the actual truth is you shouldn't keep these things at 100% charge state all the

00:25.040 --> 00:26.040
time, right?

00:26.040 --> 00:27.040
Whoa.

00:27.040 --> 00:28.040
No, no, no.

00:28.040 --> 00:32.880
Somewhere between 40 and 60% is probably ideal for the type of lithium ion batteries that

00:32.880 --> 00:33.880
are in our devices.

00:33.880 --> 00:34.880
Do you agree?

00:34.880 --> 00:35.880
Yeah.

00:35.880 --> 00:39.220
When I worked in the Genius Bar, I can't tell you the number of MacBooks I saw with batteries

00:39.220 --> 00:43.840
that were exploding through the keyboard or stopping the trackpad from working.

00:43.840 --> 00:50.540
I wish there was a way to just set in any OS, I want my battery level to be at this

00:50.540 --> 00:53.800
unless I press I'm going traveling button.

00:53.800 --> 00:55.040
Here's what I'm thinking.

00:55.040 --> 00:58.720
So there's a couple of ways I think I could solve this, but I've got a really old MacBook

00:58.720 --> 01:03.380
from like 2013 and the battery is still kind of working and I want to keep it alive.

01:03.380 --> 01:07.160
And it dawned on me that they have that Home Assistant app for Mac OS that tracks your

01:07.160 --> 01:08.160
battery life.

01:08.160 --> 01:09.160
Oh my God, you're a genius.

01:09.160 --> 01:10.160
Right?

01:10.160 --> 01:13.440
So you just put the adapter, you plug that into a smart plug and you have Home Assistant

01:13.440 --> 01:17.760
automatically turn off the smart plug when the Mac gets to 60%.

01:17.760 --> 01:19.720
And I think you could probably do it with Linux.

01:19.720 --> 01:23.000
I'm wondering maybe somebody in the audience knows how you could report back a battery

01:23.000 --> 01:24.820
status to Home Assistant, but...

01:24.820 --> 01:26.680
That's a great idea, Brent.

01:26.680 --> 01:29.280
So I want to expand the idea for other devices as well.

01:29.280 --> 01:33.260
So I want input from people on how to do this, but essentially my goal would be to use a

01:33.260 --> 01:37.600
couple of smart plugs that are managed by Home Assistant to charge things for a while

01:37.600 --> 01:39.240
and then turn the charge off.

01:39.240 --> 01:43.780
And if there was a way to do it intelligently, maybe I don't even need the sensor data.

01:43.780 --> 01:46.040
Maybe I could just do it by like some math.

01:46.040 --> 01:48.480
I don't know.

01:48.480 --> 01:50.000
That's my current goal at home right now.

01:50.000 --> 01:52.840
So if anybody has some suggestions, I'd like them.

01:52.840 --> 01:58.000
In the meantime, if you just have a Mac that you want to limit the maximum charging for,

01:58.000 --> 01:59.740
you should look into Aldente.

01:59.740 --> 02:05.400
It works with Intel or M1 Macs and it's just letting you set a hard limit on the charge

02:05.400 --> 02:09.180
before the system continues to charge, I suppose.

02:09.180 --> 02:10.180
You could look into that.

02:10.180 --> 02:11.180
We'll have a link in the show notes.

02:11.180 --> 02:12.180
This is fantastic.

02:12.180 --> 02:19.680
I gave my wife my old laptop last year sometime and I know for a fact, even though I've told

02:19.680 --> 02:24.040
her you need to unplug it at least once a month and cycle the battery.

02:24.040 --> 02:28.160
I know it's been sat there since my daughter was born and hasn't moved.

02:28.160 --> 02:29.160
Right.

02:29.160 --> 02:33.200
Well, we have like one Mac here in the studio that's for effects processing and it just

02:33.200 --> 02:34.920
sits there always plugged in.

02:34.920 --> 02:38.240
So I put this Aldente on there and capped it at 60%.

02:38.240 --> 02:41.920
And then I started thinking, how could I do this where it's not Mac OS specific or maybe

02:41.920 --> 02:43.760
it could be for multiple devices.

02:43.760 --> 02:46.000
So I'm going to expand the idea.

02:46.000 --> 02:49.480
In the meantime, you could expand your mind at a cloud guru.

02:49.480 --> 02:53.240
They are the leading in learning for the cloud Linux and other modern tech skills, hundreds

02:53.240 --> 02:56.080
of courses, thousands of hands on labs.

02:56.080 --> 03:00.220
Get certified, get hired, get learning at a cloud guru.com.

03:00.220 --> 03:02.240
I think we've talked about this before.

03:02.240 --> 03:07.440
I'm talking of course about health checks to IO, but I've had a little epiphany with

03:07.440 --> 03:11.800
health checks recently and I've started using it quite heavily for my own purposes.

03:11.800 --> 03:13.840
I wonder if you used it for anything.

03:13.840 --> 03:18.700
You have talked about it before and I've considered it, but I haven't been able to grok if it's

03:18.700 --> 03:19.960
worth the setup time yet.

03:19.960 --> 03:22.320
It was actually one of the things I've been meaning to talk to you about.

03:22.320 --> 03:29.920
I did go last time we talked about it with the hosted service and one of the struggles

03:29.920 --> 03:34.320
of being a self-hoster is do I self-host, do I use the hosted version?

03:34.320 --> 03:38.580
With different services, I fall on different sides of that line and Bitward and I use the

03:38.580 --> 03:43.460
hosted service and I pay, I think it's $10 or $12 a year for that.

03:43.460 --> 03:47.680
With health checks, their hosted version is actually free for up to 10 health checks.

03:47.680 --> 03:51.320
Beyond that, they have a pricing page.

03:51.320 --> 03:56.640
The hobbyist is actually free for up to 20 jobs, not 10, my mistake.

03:56.640 --> 04:01.720
Beyond that, you can pay $5 a month and you'll get some phone support and some email support

04:01.720 --> 04:08.460
and then they have business plans at $20 and up for 100 jobs and stuff like that.

04:08.460 --> 04:15.660
I was doing a bunch of different ZFS replication tasks and what I wanted to happen was I've

04:15.660 --> 04:18.780
just done a whole bunch of hardware shuffles in my house.

04:18.780 --> 04:19.780
You?

04:19.780 --> 04:20.780
Never.

04:20.780 --> 04:25.880
Well, this all stems from January when I was basing everything around GVTG and wanting

04:25.880 --> 04:29.840
to do everything with that single Intel box and it didn't work out.

04:29.840 --> 04:34.600
I've had to kind of rewind and kind of reconfigure a few things.

04:34.600 --> 04:40.200
My old dual Xeon box is now purely Homelab that is running ESXi and it's just going to

04:40.200 --> 04:46.960
sit in a corner turned off for 95% of its life now, just such an overkill for that box

04:46.960 --> 04:53.440
because it's so powerful, but it consumes a lot of power in the process.

04:53.440 --> 04:58.200
The Intel i5 system in the basement is the full-time one, but what I figured I could

04:58.200 --> 05:02.880
do is take a couple of these slightly older 10 terabyte hard drives I have that are two

05:02.880 --> 05:09.280
or three years old at this point, put those into the Homelab box and then schedule that

05:09.280 --> 05:11.600
to turn on at least once a week.

05:11.600 --> 05:16.320
I'll probably turn it on more whilst I'm working during the week and doing OpenShift stuff,

05:16.320 --> 05:20.480
but what I wanted to happen was to have a local backup.

05:20.480 --> 05:27.760
So I wanted my ZFS in the basement to replicate to the ZFS in my Homelab box upstairs and

05:27.760 --> 05:34.240
to keep track of when the last backup was, I needed some kind of a tool to do that because

05:34.240 --> 05:38.240
I've got a lot going on as we all do and I'm going to forget stuff.

05:38.240 --> 05:45.640
The last thing I want is to come to need that backup and go, oh yes, the last time it ran

05:45.640 --> 05:46.640
was 2019.

05:46.640 --> 05:47.640
Oh dear.

05:47.640 --> 05:48.640
Right.

05:48.640 --> 05:52.080
Well, you recall that did happen to me where I had a Google account outage and so the backup

05:52.080 --> 05:55.320
hadn't run for a little bit and I didn't realize it.

05:55.320 --> 05:56.320
Absolutely.

05:56.320 --> 06:01.680
So I finally got round to setting up the self-hosted version of the health checks.

06:01.680 --> 06:08.280
Now I'm running this on Linode because I actually foresaw a situation where all the servers

06:08.280 --> 06:13.520
in my house are off for a couple of weeks, let's say I'm taking a vacation or something

06:13.520 --> 06:16.880
or traveling to England to see grandparents or whatever.

06:16.880 --> 06:19.680
Or maybe your power is turned off because you're getting solar installed.

06:19.680 --> 06:22.480
Yes, that is happening soon actually.

06:22.480 --> 06:26.780
And so I thought, right, where can I run this that is reliable and is going to be more reliable

06:26.780 --> 06:27.780
than my house?

06:27.780 --> 06:29.520
And I thought Linode was a perfect fit for that.

06:29.520 --> 06:36.480
So this is running on one of their $5 a month Linodes, it's the same one that's doing perfect

06:36.480 --> 06:39.740
media server.com and my personal blog and all the rest of it.

06:39.740 --> 06:44.240
So this box is serving like quintuple duty at this point.

06:44.240 --> 06:49.520
It's doing a lot of stuff for me and it's only a five, it's only a five or a month.

06:49.520 --> 06:54.120
The self-hosted version of health checks, I'm running the Linux server Docker, which

06:54.120 --> 06:57.600
was written by one of my friends also called Alex.

06:57.600 --> 07:02.000
He has done a bunch of work with making sure that it pulls in the latest code from the

07:02.000 --> 07:03.680
health checks repo.

07:03.680 --> 07:09.900
So there is as always with containers, it seems a choice to be made about which container

07:09.900 --> 07:10.900
do I run?

07:10.900 --> 07:16.020
Do I run the official one or do I run the Linux server one or some other random one?

07:16.020 --> 07:21.520
I try and run the Linux server ones for obvious reasons whenever I can, if for no other reason

07:21.520 --> 07:25.400
than they auto update, which is kind of nice when you restart the app.

07:25.400 --> 07:31.840
So you get all the features with this self-hosted version that you don't get on the hosted version.

07:31.840 --> 07:38.600
So actually in this case, self-hosting gives you more functionality than the hosted version,

07:38.600 --> 07:39.600
which is always nice.

07:39.600 --> 07:42.160
And there are a bunch of integrations.

07:42.160 --> 07:46.920
I'm just using one with pushover, which is a push notification service, which you configure

07:46.920 --> 07:48.980
through environment variables for the container.

07:48.980 --> 07:54.200
You generate a token with pushover and pass that through an environment variable in your

07:54.200 --> 07:57.720
Docker compose file or however you like to do that.

07:57.720 --> 08:03.420
It also supports a bunch of other interesting stuff like Prometheus, Ops Genie, if you're

08:03.420 --> 08:06.100
doing something for work, this can be useful.

08:06.100 --> 08:11.760
You can have it ping Slack, Discord, Microsoft Teams, Mattermost, it does webhooks.

08:11.760 --> 08:14.440
There really are a lot of integrations for alerting.

08:14.440 --> 08:16.420
I'm just using pushover, as I said.

08:16.420 --> 08:20.960
It's really nice because I don't really see it if it's in the log file.

08:20.960 --> 08:26.760
But if I got a message in the same communications tool I'm using to chat with you and Wes or

08:26.760 --> 08:29.580
something like that, then I'm definitely going to see it.

08:29.580 --> 08:31.300
And then I'm going to be able to take action on it.

08:31.300 --> 08:35.120
And so just those small things like being able to send a message to Slack, it makes

08:35.120 --> 08:36.640
a huge difference for me, Alex.

08:36.640 --> 08:38.120
It supports Telegram as well.

08:38.120 --> 08:43.240
So if you have a group of people, you can actually have it interact with bots as well,

08:43.240 --> 08:45.680
I think, and do a bunch of stuff with that.

08:45.680 --> 08:51.700
So you could make this really quite deeply integrated into some kind of an incident response

08:51.700 --> 08:54.640
solution type thing.

08:54.640 --> 08:55.640
I don't really need that.

08:55.640 --> 08:59.400
I just need to be reminded that, hey, dummy, you haven't run your backups for two weeks.

08:59.400 --> 09:04.720
Did I track that in that description of yours, you transitioned from the hosted solution

09:04.720 --> 09:06.200
to the self-hosted version?

09:06.200 --> 09:07.200
Yeah.

09:07.200 --> 09:08.200
And why was that?

09:08.200 --> 09:11.560
Well, number one, I was running up against the 20 job limit, which I thought was 10.

09:11.560 --> 09:13.180
So maybe I wasn't running up against it.

09:13.180 --> 09:16.400
But I knew I was going to be running into that limit soon anyway.

09:16.400 --> 09:22.800
And I also, as part of being the host of this show, feel a responsibility to try these things

09:22.800 --> 09:24.480
out on occasion.

09:24.480 --> 09:25.520
That's how I felt.

09:25.520 --> 09:30.240
Not just because of that, but because I could host it, say, on a VPS, and then I could check

09:30.240 --> 09:34.880
even the systems here on the LAN at the studio, it might be worth doing.

09:34.880 --> 09:36.880
What kind of setup am I looking at, though?

09:36.880 --> 09:40.040
Because things I'd like to monitor is like, is Nextcloud running?

09:40.040 --> 09:41.040
So what does that mean?

09:41.040 --> 09:45.160
It means, is the web port available, is the database server online?

09:45.160 --> 09:47.160
I guess is the web page loading?

09:47.160 --> 09:49.160
I'd like to know that kind of stuff.

09:49.160 --> 09:50.400
But there's all kinds of other things.

09:50.400 --> 09:53.720
Like I'd like to know, we have our Matrix server that we run.

09:53.720 --> 09:57.680
That isn't on the LAN, but it's a server we manage.

09:57.680 --> 10:00.480
And Matrix eats a crap ton of RAM right now.

10:00.480 --> 10:04.120
The Synapse server is definitely a work in progress.

10:04.120 --> 10:08.280
And it's something that we have to log in and manage from time to time, and even restart

10:08.280 --> 10:11.040
sometimes or go through some sort of cleanup.

10:11.040 --> 10:15.480
And I'm wondering, what about those kind of scenarios where the system's running out of

10:15.480 --> 10:17.080
memory?

10:17.080 --> 10:19.640
Does it do that kind of monitoring, that kind of reporting?

10:19.640 --> 10:23.280
Or is it more failed yes or working, that kind of stuff?

10:23.280 --> 10:28.400
It's a great question, because it's a bit of a confusing area, all this monitoring and

10:28.400 --> 10:30.000
alerting type stuff.

10:30.000 --> 10:35.800
So Health Checks is primarily designed to be run as part of a script or a cron job or

10:35.800 --> 10:37.180
something like that.

10:37.180 --> 10:41.940
And the way it works is you curl a URL, you hit a URL.

10:41.940 --> 10:47.200
The Health Checks API on the other end receives that request and goes, hey, I've just been

10:47.200 --> 10:52.120
pinged on this random string of URL UUID type stuff.

10:52.120 --> 10:53.720
That's a phoning home.

10:53.720 --> 10:55.140
That is that job completing.

10:55.140 --> 11:03.720
So if you put it at the end of a backup script, say the very last line is curl https healthchecks.com

11:03.720 --> 11:10.360
your slash UUID, then the software knows that you've successfully got to the end of that

11:10.360 --> 11:12.880
script and it assumes that everything's gone well.

11:12.880 --> 11:16.360
What you're looking for, I suspect, is something more along the lines of Prometheus, which

11:16.360 --> 11:22.420
is designed to monitor disk space and memory usage and CPU temperatures and percentage

11:22.420 --> 11:24.200
and all that kind of crap.

11:24.200 --> 11:30.080
And Prometheus will then output to something called Alert Manager, and you can write what's

11:30.080 --> 11:34.440
called PromQL, Prometheus Query Language queries.

11:34.440 --> 11:35.440
Sounds complicated.

11:35.440 --> 11:37.400
It's much easier than SQL to get started with.

11:37.400 --> 11:43.240
So if you've ever had to write an SQL query, you can probably write a PromQL one.

11:43.240 --> 11:48.200
And that's probably more what you're after in terms of monitoring, you know, is matrix,

11:48.200 --> 11:49.680
is the API still available?

11:49.680 --> 11:53.240
For example, can I still hit a certain URL?

11:53.240 --> 11:55.120
Is that website still available?

11:55.120 --> 11:58.440
In the meantime, I've been keeping an eye on it with NetData, which feels like a cheat.

11:58.440 --> 12:03.040
I feel like I almost am ashamed to admit it, but it's been handy and I've used that to

12:03.040 --> 12:06.040
kind of keep an eye on the system, but I know I need to take it to the next step.

12:06.040 --> 12:07.960
Maybe a topic for a future episode.

12:07.960 --> 12:10.560
Who doesn't love a pretty graph, eh?

12:10.560 --> 12:14.800
Speaking of which, did you know about this command I found out quite recently about this

12:14.800 --> 12:15.800
one?

12:15.800 --> 12:16.840
Docker stats.

12:16.840 --> 12:19.940
Just go to a box where you've got a few containers running and take a look at this.

12:19.940 --> 12:20.940
This is pretty great.

12:20.940 --> 12:27.240
In fact, this is one of the ways I realized how much memory and CPU matrix actually takes.

12:27.240 --> 12:28.760
All the snaps, at least.

12:28.760 --> 12:31.560
This is kind of like top for your Docker containers.

12:31.560 --> 12:37.640
It gives you CPU usage, memory, IO, and all that kind of stuff, and you can also just

12:37.640 --> 12:41.160
get a list for a singled container if you specify that container, if that's what your

12:41.160 --> 12:43.480
permissions only allow for.

12:43.480 --> 12:47.520
But if you can see all of the containers, then you can just run Docker stats on its

12:47.520 --> 12:53.080
own and get a list of everything on the box, and I was surprised because I run ping stat

12:53.080 --> 12:56.400
here at the studio, so I just thought, well, I'll check it right before the show.

12:56.400 --> 13:01.560
And I ran that, and it comes up, and ping stat, which is just ping and stuff and graphing

13:01.560 --> 13:02.560
it, right?

13:02.560 --> 13:08.820
300% of my CPU when I ran this command, and I'm like, what is it doing?

13:08.820 --> 13:12.600
But then I sat there and watched it for probably five minutes, and it never once again really

13:12.600 --> 13:13.600
did anything.

13:13.600 --> 13:19.580
But that brief moment when I brought it up, Alex, is 300% of my CPU on my server for ping

13:19.580 --> 13:20.580
stat.

13:20.580 --> 13:22.520
Yeah, it's pretty interesting, isn't it?

13:22.520 --> 13:28.680
If I go into my cloud VPS where the Unify controller is running, that damn thing has

13:28.680 --> 13:31.920
117 processes under one container.

13:31.920 --> 13:32.920
Yeah, yeah, that's...

13:32.920 --> 13:33.920
Eesh.

13:33.920 --> 13:35.380
I don't know how that makes me feel.

13:35.380 --> 13:40.120
It doesn't make me feel good, I'll be honest.

13:40.120 --> 13:41.980
Linode.com slash SSH.

13:41.980 --> 13:48.240
Go there to get a $100 credit on a new account for 60 days, and of course, you support the

13:48.240 --> 13:49.240
show.

13:49.240 --> 13:52.760
Linode is the largest independent cloud computing provider out there.

13:52.760 --> 13:57.320
No matter what technology stack you're familiar with, you're gonna find Linode easy to use.

13:57.320 --> 14:01.600
And if you're an expert under the hood, there's a little thing here or there, little hints

14:01.600 --> 14:06.200
that you'll see for us longtime Linux users that will make things even quicker and more

14:06.200 --> 14:08.880
efficient and things you'll really appreciate.

14:08.880 --> 14:14.840
And if you ever run into any trouble, Linode has fantastic, amazing, great customer service

14:14.840 --> 14:20.400
24-7 by phone or by ticket, whatever you prefer, and they have hundreds of guides and tutorials

14:20.400 --> 14:22.200
to help you get started.

14:22.200 --> 14:24.520
And we often will link to some in the notes.

14:24.520 --> 14:29.520
There's one that I recommend anybody that wants to run phpMyAdmin, give that one a read.

14:29.520 --> 14:33.640
That's just a few steps you can go through to make that a much more secure installation.

14:33.640 --> 14:38.720
Linode is easy to use and they have a powerful cloud dashboard, and they also have S3 compatible

14:38.720 --> 14:40.100
object storage.

14:40.100 --> 14:42.820
This could be something that works great for your backup strategy.

14:42.820 --> 14:47.960
A lot of applications and tools can integrate and backup to S3 compatible storage.

14:47.960 --> 14:51.880
And Linode has fantastic pricing, and you could build that right into your backup or

14:51.880 --> 14:53.320
recovery strategy.

14:53.320 --> 14:56.620
But additionally, you could also just use it for a static website, for hosting any kind

14:56.620 --> 14:59.960
of files you need out in the cloud where you don't wanna have to run a server in front

14:59.960 --> 15:00.960
of it.

15:00.960 --> 15:04.040
And they have simple one-click application deployments, if that's more of your jive,

15:04.040 --> 15:08.360
which I totally respect because Linode is a fantastic learning platform as well.

15:08.360 --> 15:11.040
Deploy an application, learn how it works.

15:11.040 --> 15:12.040
Linode's great for that.

15:12.040 --> 15:13.320
They're a $100 credit.

15:13.320 --> 15:18.360
There's all kinds of things you can try, and learning something, trying it out is a great

15:18.360 --> 15:19.360
use of that too.

15:19.360 --> 15:23.780
I mean, absolutely, you can put it in production, but why not use that credit to learn something

15:23.780 --> 15:24.780
new as well?

15:24.780 --> 15:30.800
So go to linode.com slash SSH, get that $100 60-day credit and support the show.

15:30.800 --> 15:35.320
That's linode.com slash SSH.

15:35.320 --> 15:37.920
Now you know how I love me some Blue Iris stuff.

15:37.920 --> 15:42.520
Some pretty exciting news in the last couple of weeks about deep stack integration with

15:42.520 --> 15:44.000
Blue Iris.

15:44.000 --> 15:51.600
Traditionally, what you had to do to get object detection, you know, bird, car, plane, bear,

15:51.600 --> 15:53.140
I think was one of the options.

15:53.140 --> 15:54.920
You want bear detection for sure.

15:54.920 --> 15:55.920
Yeah, probably.

15:55.920 --> 16:00.840
Yeah, if a bear is in the woods, does it, how does the saying go?

16:00.840 --> 16:02.660
Actually, I don't care where you are.

16:02.660 --> 16:07.120
If there's a bear in your backyard, even where you live, Alex, I think you'd wanna know about

16:07.120 --> 16:08.120
it.

16:08.120 --> 16:13.560
What's particularly exciting about this latest Blue Iris update is that built right in now

16:13.560 --> 16:20.480
to the Blue Iris software, you can launch DeepStack natively on the Windows system that

16:20.480 --> 16:21.580
it's running on.

16:21.580 --> 16:28.760
So you don't need a helper program or any kind of a JPEG kind of detection intermediary

16:28.760 --> 16:29.760
software anymore.

16:29.760 --> 16:31.680
It's just all done within Blue Iris.

16:31.680 --> 16:35.840
So I've put a link to a YouTube video in the description, which talks you through how to

16:35.840 --> 16:36.840
set that up.

16:36.840 --> 16:40.240
DeepStack gets even better, tempting me to come over to the Windows side, but it's not

16:40.240 --> 16:42.960
gonna happen just yet.

16:42.960 --> 16:46.880
You know, I actually find a lot of utility in just bringing the video feeds into Home

16:46.880 --> 16:52.200
Assistant and having a dashboard in Home Assistant I can go to and just get live camera feeds.

16:52.200 --> 16:56.640
So that, you know, that would just be a great integration one day, is something that manages

16:56.640 --> 16:57.640
all of that.

16:57.640 --> 16:58.640
Absolutely.

16:58.640 --> 17:02.480
Alex, I know you're a big ZFS guy, so have you seen zfs.rent?

17:02.480 --> 17:03.480
I have, yes.

17:03.480 --> 17:06.080
Oh my goodness, this thing looks really, really cool.

17:06.080 --> 17:07.880
I can't remember where I discovered it.

17:07.880 --> 17:10.280
I think it was on the self-hosted Discord.

17:10.280 --> 17:14.760
Somebody just said to me, have you, why don't you use zfs.rent and I'm like, because I didn't

17:14.760 --> 17:17.280
know about it.

17:17.280 --> 17:23.600
The whole premise behind zfs.rent is that it's a simple cloud service to store ZFS snapshots.

17:23.600 --> 17:29.140
Effectively, it's like having a ZFS send, but in a co-located data center, but their

17:29.140 --> 17:32.540
business model is really pretty interesting.

17:32.540 --> 17:38.440
So these guys rent out KVM virtual machines and they have dedicated hard drives to each

17:38.440 --> 17:39.440
VM.

17:39.440 --> 17:41.320
So I guess they're using pass-through or something.

17:41.320 --> 17:44.920
There is no sharing and no over-committing on these VMs.

17:44.920 --> 17:50.600
And when you sign up to their service, you receive a root password, a dedicated IBV4

17:50.600 --> 17:51.600
address.

17:51.600 --> 17:56.080
So you could, you know, alias that to a sub-domain of your choosing.

17:56.080 --> 17:59.960
And then you get a pre-formatted and mounted ZFS pool.

17:59.960 --> 18:02.320
Here's where it gets really, really interesting.

18:02.320 --> 18:08.840
You can send them hard drives with data already on them to their data center.

18:08.840 --> 18:10.620
I love that.

18:10.620 --> 18:11.620
That's great.

18:11.620 --> 18:13.400
You know, you were just talking about how you had those 10 terabyte drives that you

18:13.400 --> 18:16.040
were kind of using as just scratch drives for backup.

18:16.040 --> 18:17.040
That's a great example.

18:17.040 --> 18:19.200
You could load those suckers up and send them off.

18:19.200 --> 18:20.200
Absolutely.

18:20.200 --> 18:21.200
Yeah.

18:21.200 --> 18:22.200
Now pricing is pretty straightforward.

18:22.200 --> 18:23.200
It's 10 bucks a month per drive.

18:23.200 --> 18:28.800
So if you can go on Best Buy and find one of their easy stores on a cheap deal, you could

18:28.800 --> 18:35.840
have, you know, a 14 terabyte drive for $200, load that sucker up with all of your data,

18:35.840 --> 18:39.820
send it off to this data center, and for 10 bucks a month, you've got 14 terabytes of

18:39.820 --> 18:40.820
cloud storage.

18:40.820 --> 18:43.640
You know, that is doable for what I do here, right?

18:43.640 --> 18:44.640
It's one of those things.

18:44.640 --> 18:46.600
You sort of read the website and you're like, where's the catch?

18:46.600 --> 18:47.600
There's got to be a catch.

18:47.600 --> 18:52.240
I was actually speaking with Ryan, who's the guy behind ZFS.Rent, and I'm hoping to get

18:52.240 --> 18:55.760
him on the show to do an interview shortly, but he seems like a really great guy.

18:55.760 --> 19:01.360
And honestly, I have no qualms about recommending this service, even just as a, hey guys, you

19:01.360 --> 19:04.040
know, audience, did you know this cool thing existed?

19:04.040 --> 19:05.040
Yeah.

19:05.040 --> 19:06.040
Nope.

19:06.040 --> 19:07.040
No sponsor, no relationship of any kind.

19:07.040 --> 19:09.160
It's just something we came across.

19:09.160 --> 19:14.560
Each plan includes one terabyte of base bandwidth data movement per month.

19:14.560 --> 19:16.800
They don't distinguish between upload or download.

19:16.800 --> 19:18.640
A terabyte is a terabyte.

19:18.640 --> 19:24.960
They have a rate of an additional $5 per terabyte after that, which is actually pretty reasonable.

19:24.960 --> 19:30.400
If I'm uploading more than a terabyte in a month, my ISP is probably knocking on my door.

19:30.400 --> 19:35.840
I would imagine the time where you would actually need to exceed a terabyte is the initial seeding.

19:35.840 --> 19:41.720
Well, we can get round that by sending them the drive preceded or in a disaster recovery

19:41.720 --> 19:42.720
scenario.

19:42.720 --> 19:47.560
And if I'm at the point where I need to download 14 terabytes of data from my backup, I think

19:47.560 --> 19:51.840
I can probably swing, you know, the hundred bucks or whatever it is to get that.

19:51.840 --> 19:54.480
That's just what I was thinking is that's really the only time it would be costly is

19:54.480 --> 19:56.400
when you're actually pulling it all back down.

19:56.400 --> 19:59.680
I wonder if they would do that, although you wouldn't really want to wait.

19:59.680 --> 20:01.960
But I guess they could maybe reload a disk.

20:01.960 --> 20:04.440
You could send them the disk and they could reload it up.

20:04.440 --> 20:08.480
Now, did you see this on their home page?

20:08.480 --> 20:15.720
Users have a choice of from OS's, CentOS with maintenance support until 2029 crossed out

20:15.720 --> 20:16.720
to 2021.

20:16.720 --> 20:19.280
Oh, too soon.

20:19.280 --> 20:27.200
So Ubuntu and Debian, but here's where I thought it got super interesting is as an arch guy,

20:27.200 --> 20:28.540
no pre-installed OS.

20:28.540 --> 20:35.800
You can attach your own Linux ISO to the KVM virtual machine and install via a tunneled

20:35.800 --> 20:39.720
VNC client any OS that you want.

20:39.720 --> 20:41.760
That's adorable.

20:41.760 --> 20:43.960
That's a really great setup.

20:43.960 --> 20:50.680
They also do support Debian 10.7 out of the box and Ubuntu 20.04 until 2025, which is

20:50.680 --> 20:53.560
honestly what I would just do.

20:53.560 --> 20:59.000
I think it's too it's so great that they left the 2029 on there and crossed it out.

20:59.000 --> 21:02.040
Like that's such a statement.

21:02.040 --> 21:07.080
I've actually just deployed my first CentOS 8 stream box in production.

21:07.080 --> 21:12.400
We're doing a small, limited Jupiter colony mail server for like a handful of people right

21:12.400 --> 21:16.160
now, and it's all running on CentOS 8 stream.

21:16.160 --> 21:17.160
Look at you, you hipster.

21:17.160 --> 21:18.160
Yeah, I'm going to.

21:18.160 --> 21:21.960
So I'm going to give it a go and see how it is to to run a mail server.

21:21.960 --> 21:23.240
I'll report back.

21:23.240 --> 21:28.520
I suspect there's going to be crappy aspects to it.

21:28.520 --> 21:33.400
This episode is brought to you by Synology, makers of network attached storage devices,

21:33.400 --> 21:35.400
networking and surveillance equipment.

21:35.400 --> 21:42.320
In late 2020, they released the DS1621+, a six bay NAS unit with a four core, eight thread

21:42.320 --> 21:44.300
Ryzen CPU.

21:44.300 --> 21:49.280
As a result, this system runs cool and quiet whilst being a powerhouse under the hood.

21:49.280 --> 21:53.800
And if you need it, there's a PCIe slot for adding cards such as 10 gigabit networking

21:53.800 --> 21:55.260
as well.

21:55.260 --> 21:58.520
What really sets Synology units apart from their competition for me though, is their

21:58.520 --> 22:00.180
level of fit and finish.

22:00.180 --> 22:04.520
Their enclosures are beautiful and their software is really great as well.

22:04.520 --> 22:07.720
I'm talking about their disk station management software.

22:07.720 --> 22:11.400
DSM is like using a desktop session inside a browser.

22:11.400 --> 22:13.800
It's really cool if you haven't seen it.

22:13.800 --> 22:19.480
And we've got a link for a live demo for you at selfhosted.show slash Synology.

22:19.480 --> 22:24.480
This simple and intuitive UI is perfect for those just getting started on their self hosting

22:24.480 --> 22:25.480
journey.

22:25.480 --> 22:29.240
I've used Synology's now for many years and I still can't quite believe how they pulled

22:29.240 --> 22:31.420
this off in a browser.

22:31.420 --> 22:35.860
You can also find tons of apps available in their built-in store, as well as community

22:35.860 --> 22:39.880
provided repos and more recently, Docker support.

22:39.880 --> 22:44.320
With this Docker support, you can run darn near anything you like on these boxes.

22:44.320 --> 22:49.660
And remember that with that Ryzen chip, you've got full x86 compatibility, so there's no

22:49.660 --> 22:52.520
arm weirdness going on here.

22:52.520 --> 22:56.600
To find out more about Synology and their other NAS products, visit selfhosted.show

22:56.600 --> 23:00.280
slash Synology so that they know we sent you and to support the show.

23:00.280 --> 23:05.040
A big thanks to Synology for sponsoring our show.

23:05.040 --> 23:08.880
Synology wanted us to actually have a chance to try out some of their hardware, and so

23:08.880 --> 23:14.560
we thought we'd share our thoughts with you and they sent a DS1621 plus to Alex to kick

23:14.560 --> 23:15.560
the tires.

23:15.560 --> 23:16.560
They did indeed.

23:16.560 --> 23:17.560
Yes.

23:17.560 --> 23:20.960
So I am the proud recipient of a Ryzen powered NAS.

23:20.960 --> 23:21.960
That's pretty neat.

23:21.960 --> 23:25.000
That left me thinking, how do I go about reviewing a NAS?

23:25.000 --> 23:28.640
Because it's, you know, it's something you just throw files on and forget about for the

23:28.640 --> 23:29.640
next few years.

23:29.640 --> 23:33.600
And when I hear Ryzen, I think it probably has a fair amount of CPU power in that thing.

23:33.600 --> 23:34.940
This is one of their embedded chips.

23:34.940 --> 23:37.920
This is the Ryzen V1500B.

23:37.920 --> 23:45.480
It's a four core, 2.2 gigahertz, eight thread CPU, and it supports up to 32 gigabytes of

23:45.480 --> 23:48.440
ECC memory, which is pretty nice.

23:48.440 --> 23:53.580
The motherboard built into the Synology also has a couple of NVME slots, which I thought

23:53.580 --> 23:54.760
was particularly interesting.

23:54.760 --> 23:59.080
And one of the things actually that I was most disappointed about with the COBOL, you

23:59.080 --> 24:03.640
know, the Helios 64, was that it was a five bay NAS.

24:03.640 --> 24:08.400
But if you use the NVME slot that came with it, you turned it into a four bay NAS.

24:08.400 --> 24:09.920
Well, there's none of that going on here.

24:09.920 --> 24:16.360
This remains to be a six bay NAS with two extra PCIe NVME slots as well.

24:16.360 --> 24:20.680
So you can fit effectively eight drives in this thing, which is great.

24:20.680 --> 24:21.680
That's great.

24:21.680 --> 24:22.680
Yeah, that is.

24:22.680 --> 24:25.400
Now the fit and finish really is next level on this thing.

24:25.400 --> 24:31.840
In five minutes of taking it out of the box, I had the drive cages removed with the tool-less

24:31.840 --> 24:35.200
hot swappable drive cages they have.

24:35.200 --> 24:39.600
I had the drives installed, put them into the enclosure.

24:39.600 --> 24:45.140
One important thing to note is that you must populate the first drive slot with a drive.

24:45.140 --> 24:47.200
And if you don't, the Synology will fail to boot.

24:47.200 --> 24:53.120
And I assume this is because they're installing the DSM OS onto that first drive.

24:53.120 --> 24:57.920
Now, I don't know what that means for the long-term reliability of a spinning drive

24:57.920 --> 25:02.360
in that first slot, but it's something I can report back on in a few months' time.

25:02.360 --> 25:03.360
Yeah.

25:03.360 --> 25:06.600
And it could just be that maybe it just doesn't proceed because what's the point of a NAS

25:06.600 --> 25:07.600
with no disk?

25:07.600 --> 25:12.160
Well, you say that, but these things have full-on app stores these days, and they can

25:12.160 --> 25:13.220
run Docker as well.

25:13.220 --> 25:20.000
So you could conceivably buy a Synology unit and not put any drives in it and still run

25:20.000 --> 25:21.320
some services if you liked.

25:21.320 --> 25:23.880
I don't know why you would, but you could.

25:23.880 --> 25:26.500
It is easy to deploy applications on, I suppose.

25:26.500 --> 25:27.500
That's a good point.

25:27.500 --> 25:31.320
I'm curious about just physical size and noise and those kinds of things.

25:31.320 --> 25:32.320
How was all that?

25:32.320 --> 25:35.280
And give me an idea of how much space this thing takes up.

25:35.280 --> 25:36.600
Noise is great.

25:36.600 --> 25:39.520
The fans that are included in the unit are very, very quiet.

25:39.520 --> 25:45.500
I've actually had it in a closet right just off my office a few feet from where we're

25:45.500 --> 25:46.500
sat right now.

25:46.500 --> 25:49.600
And I closed that door, and I can't hear it.

25:49.600 --> 25:51.440
It's just, oh, it's pretty quiet.

25:51.440 --> 25:55.200
You'll hear it if it's on the desk next to you, but that's more a result of the fact

25:55.200 --> 26:00.120
of having mechanical hard drives than it is fan noise right next to you.

26:00.120 --> 26:07.080
In terms of the size of the thing, I think it's about five kilos, give or take.

26:07.080 --> 26:08.080
I don't know.

26:08.080 --> 26:12.280
The footprint's about the size of a 16-inch laptop, maybe a little bit less.

26:12.280 --> 26:16.320
And then, I don't know, nine inches tall or so.

26:16.320 --> 26:20.680
Basically think of six hard drives lying on their side with a couple of inches either

26:20.680 --> 26:21.680
side.

26:21.680 --> 26:22.680
That absolutely makes sense.

26:22.680 --> 26:25.760
And now, also, I think that means you're a ButterFS user, which I think is fantastic.

26:25.760 --> 26:29.040
Well, it would if I had chosen ButterFS.

26:29.040 --> 26:30.040
Which I did.

26:30.040 --> 26:31.040
I did.

26:31.040 --> 26:32.040
Oh, OK.

26:32.040 --> 26:33.040
Hello.

26:33.040 --> 26:34.040
Welcome to the club.

26:34.040 --> 26:37.160
You and I are now running ButterFS at home.

26:37.160 --> 26:41.320
The reason I picked ButterFS is because it enables compression and snapshots.

26:41.320 --> 26:45.200
And that's an option that's exposed to the users at the time of creating the array or

26:45.200 --> 26:48.920
the volume of storage in the DSM software.

26:48.920 --> 26:50.680
So let's talk about software for a little bit.

26:50.680 --> 26:56.000
So this thing does run the DSM, which is their OS, and it has a nice interface on it, which

26:56.000 --> 26:57.960
has an app store.

26:57.960 --> 27:00.660
But you're a long-termer.

27:00.660 --> 27:04.600
You don't necessarily always like the graphical environments on top of stuff in the management

27:04.600 --> 27:05.600
tool.

27:05.600 --> 27:06.600
So how did you handle all of that?

27:06.600 --> 27:07.600
How did you react to it?

27:07.600 --> 27:08.600
What were your thoughts?

27:08.600 --> 27:12.400
So I'll tell you who I think this system is actually perfect for.

27:12.400 --> 27:17.680
It's those people just getting started in self-hosting who want their hand holding a

27:17.680 --> 27:22.880
little bit, but are also comfortable with the idea that they have to learn some stuff

27:22.880 --> 27:26.400
to run these services.

27:26.400 --> 27:30.560
And through the UI, you are guided through the process of setting up Docker containers,

27:30.560 --> 27:36.720
of sharing folders, of doing file service sharing like Samba, and all the rest of it,

27:36.720 --> 27:40.400
you know, like time machine backups and all that kind of stuff.

27:40.400 --> 27:41.520
Creating users.

27:41.520 --> 27:46.360
A lot of times people ask me when they read the perfect media server, what's the best

27:46.360 --> 27:47.360
GUI?

27:47.360 --> 27:49.840
And I'm like, well, it's the command line, silly.

27:49.840 --> 27:51.720
But actually, I think it's something like this.

27:51.720 --> 27:57.720
I don't think a really good GUI for server management on Linux truly exists.

27:57.720 --> 28:03.840
I know you like cockpit, but I don't think there's anything quite on this scale for vanilla

28:03.840 --> 28:04.840
Linux.

28:04.840 --> 28:05.840
Right.

28:05.840 --> 28:06.840
Nothing this straightforward.

28:06.840 --> 28:08.800
Nothing this straightforward and nothing this comprehensive.

28:08.800 --> 28:09.800
Yeah.

28:09.800 --> 28:10.800
This does a lot more than cockpit.

28:10.800 --> 28:12.760
Yeah, absolutely does.

28:12.760 --> 28:16.400
And sometimes that can be to its detriment because you think, right, I just want to have

28:16.400 --> 28:21.240
a composed file and paste it in and create these five containers like this, please.

28:21.240 --> 28:22.240
Right.

28:22.240 --> 28:26.800
Whereas with the UI that Synology has, you have to click through a few things and create

28:26.800 --> 28:31.360
volumes and all the knobs and switches are labeled all the same as they would be in a

28:31.360 --> 28:32.360
composed file.

28:32.360 --> 28:36.600
But you just have to go through and click them, which, you know, if I'm trying to explain

28:36.600 --> 28:41.040
this to my mother over the phone, for example, and she's actually had a Synology unit in

28:41.040 --> 28:47.320
her house now for, I want to say five years, and I've not really had to touch it or think

28:47.320 --> 28:48.320
about it.

28:48.320 --> 28:51.040
I mean, it just keeps on working this thing.

28:51.040 --> 28:57.640
And I think the long-term outlook for the Synology unit for me is going to be, it's

28:57.640 --> 29:01.000
going to end up at a parent's house, which is no bad thing in my opinion.

29:01.000 --> 29:06.320
I think it's a sign of, you know, I said this a few episodes ago.

29:06.320 --> 29:10.960
I bought a Raspberry Pi for eight gig and an external USB hard drive, and I've been

29:10.960 --> 29:17.800
having the most difficult time trying to get that thing to USB boot with my sister's fiance

29:17.800 --> 29:22.580
trying to talk him through how to set the Raspberry Pi up with USB boot and then flash

29:22.580 --> 29:23.580
it remotely.

29:23.580 --> 29:25.960
And oh, what a pain.

29:25.960 --> 29:29.920
And I'm thinking to myself, well, if I just had this Synology, I could just send it to

29:29.920 --> 29:31.880
them and it looks nice.

29:31.880 --> 29:33.020
It's nice and quiet.

29:33.020 --> 29:37.400
There's no cables to be unplugged by the cat, you know?

29:37.400 --> 29:43.400
I think Angela's been running one at her house for probably seven to eight years.

29:43.400 --> 29:45.240
I don't even know.

29:45.240 --> 29:47.920
It's crazy how long that thing has been running.

29:47.920 --> 29:50.200
So it seems like it's been pretty solid.

29:50.200 --> 29:54.200
I think for the people who like to deploy something and then begin to figure it out

29:54.200 --> 29:58.280
and learn how it works, it fits that so well.

29:58.280 --> 30:02.980
I worked with Synology to get one of these for Wes for Christmas because it's not that

30:02.980 --> 30:09.500
Wes doesn't know how to manage a server, obviously, but he just doesn't really have the time.

30:09.500 --> 30:11.000
He's got other stuff to do, right?

30:11.000 --> 30:16.700
He still wants to be able to run Jellyfin in his case and manage his media and save

30:16.700 --> 30:22.080
files to a centralized location on his network, but he doesn't have the time to build a box

30:22.080 --> 30:25.160
and set up all of the services, even though he knows how.

30:25.160 --> 30:27.180
And so I thought a Synology would be perfect for him, too.

30:27.180 --> 30:33.740
And so we say it's for beginners, but it's also just for people who got a lot going on,

30:33.740 --> 30:38.220
like people just kind of like in your situation that just maybe have a little less time or

30:38.220 --> 30:41.620
interest in building it completely from scratch.

30:41.620 --> 30:43.700
I think I agree totally.

30:43.700 --> 30:50.100
Now one thing I would like to discuss is the version of Docker that's running on the NAS

30:50.100 --> 30:57.300
and it's running 18.09, which as the name suggests, comes from 2018.

30:57.300 --> 31:01.640
So what this means is if you SSH into the Synology, you can get in behind the scenes

31:01.640 --> 31:05.440
and go and tinker with what's going on and you think to yourself, great, I'm just going

31:05.440 --> 31:11.880
to use Docker compose and I will circumvent the UI and just do it that way.

31:11.880 --> 31:16.400
But unfortunately, because that version of Docker is so old, it means a lot of the newer

31:16.400 --> 31:19.620
features in Docker compose aren't supported.

31:19.620 --> 31:24.180
So you then think to yourself, hmm, I could upgrade the version of Docker, couldn't I?

31:24.180 --> 31:25.320
And yes, you can.

31:25.320 --> 31:29.400
There is a GitHub repo to do that in an unsupported fashion.

31:29.400 --> 31:33.940
And then you quickly run into all sorts of problems trying to figure out how networking

31:33.940 --> 31:37.520
bridging works and all that kind of stuff and wish you'd never bothered.

31:37.520 --> 31:42.660
So my recommendation with Docker would be to just stick to the UI on the Synology and

31:42.660 --> 31:44.780
it will just work brilliantly.

31:44.780 --> 31:49.140
And then if you're a crazy kid like Alex, you could just end up using your Synology

31:49.140 --> 31:52.740
as an iSCSI endpoint and point your VMware infrastructure at it.

31:52.740 --> 31:53.740
That's true.

31:53.740 --> 31:54.740
Actually, yeah.

31:54.740 --> 32:00.940
You see Synology in the backgrounds of so many tech YouTuber videos, Network Chuck,

32:00.940 --> 32:06.020
Lawrence Systems, Tom from Lawrence Systems, they've all got Synology blinking away in

32:06.020 --> 32:07.020
the background.

32:07.020 --> 32:11.980
And I've often wondered, what are these guys that surely know better, right?

32:11.980 --> 32:14.860
In air quotes, what are they all doing with their Synologies?

32:14.860 --> 32:20.340
And it turns out, actually, if you fill this sucker up with SSDs and put a 10 gig networking

32:20.340 --> 32:24.860
card in there, you can get some seriously good performance over iSCSI with VMware, which

32:24.860 --> 32:29.780
Synology have worked very hard to get the official certification for.

32:29.780 --> 32:30.780
Yeah.

32:30.780 --> 32:32.780
I remember we were talking to Wendell and he even thought that was pretty remarkable

32:32.780 --> 32:37.660
back in the day, but it is pretty good to see it and a nice little home lab addition.

32:37.660 --> 32:42.300
So if you have something like an Intel NUC that doesn't have much storage and you want

32:42.300 --> 32:47.180
a cheap way to add six, eight, or more drives, because Synology offer a lot of different

32:47.180 --> 32:55.420
products, buy Synology, use iSCSI, and then your NUC suddenly has 20 terabytes to go out.

32:55.420 --> 32:57.460
I can see it too.

32:57.460 --> 33:01.540
Maybe one day I'll have all these Raspberry Pis and then they'll just be one centralized

33:01.540 --> 33:04.260
storage to be able to support VMware is pretty great.

33:04.260 --> 33:08.780
But when you were messing around with this, one thing I didn't hear you talk about was

33:08.780 --> 33:14.020
if you dug into what your backup options would be, if you felt like you were limited, maybe

33:14.020 --> 33:18.460
by the DSM, by what your backup backup options could be, what was that experience like?

33:18.460 --> 33:20.140
Well, it's not running ZFS.

33:20.140 --> 33:27.000
So I needed a way in which to do versioned snapshots and incremental backups.

33:27.000 --> 33:32.280
Incremental backups are really important because rather than sending the entire file system

33:32.280 --> 33:36.420
every single time, it only sends the bits and bytes that have changed.

33:36.420 --> 33:42.180
Now ZFS does this at the block level, but because I'm going from ZFS to ButterFS, there's

33:42.180 --> 33:44.940
no mechanism in place to do that.

33:44.940 --> 33:49.300
Now I could use rsync, but then it's going through and it's checking MD5 hashes every

33:49.300 --> 33:52.420
time and it can be a bit slow and a bit clunky.

33:52.420 --> 33:55.220
And I tripped over something called Minio.

33:55.220 --> 33:59.180
I actually mentioned this, I think with the orange one last week.

33:59.180 --> 34:03.080
I tripped over Minio, which is a S3 front end.

34:03.080 --> 34:09.620
Now this provides the S3 object storage API on your LAN effectively backed by your own

34:09.620 --> 34:10.620
storage.

34:10.620 --> 34:16.220
Now the advantage that that gives you is that you can use a tool such as RESTIC to do incremental

34:16.220 --> 34:21.620
versioned snapshot backups to this S3 endpoint backed by the Synology.

34:21.620 --> 34:25.080
All right, so pause because this is a big deal and this is probably something we should

34:25.080 --> 34:31.340
dedicate an entire episode to, but this lets you build your own S3 object storage on your

34:31.340 --> 34:33.700
LAN or maybe up in the cloud.

34:33.700 --> 34:36.380
There's a lot of ways you could use this if you think about it.

34:36.380 --> 34:39.460
Yeah, we should come back to this as a separate topic, but okay.

34:39.460 --> 34:40.460
So let me unpack this.

34:40.460 --> 34:44.720
So you have something like this set up on your LAN running, exposing some storage that

34:44.720 --> 34:49.700
you're then making available to the DSM software, or how does this work?

34:49.700 --> 34:55.620
Minio is running as a container that's then backed by a volume mount to one of the volumes

34:55.620 --> 34:57.220
on the Synology itself.

34:57.220 --> 35:03.060
Lots of volumes terms going on here, but that's where it gets a little confusing.

35:03.060 --> 35:06.420
So essentially what happens is Minio is running as a container.

35:06.420 --> 35:13.940
It presents itself as an API that I can then call from RESTIC, and RESTIC will then just

35:13.940 --> 35:18.180
store the data on those S3 buckets as objects.

35:18.180 --> 35:21.300
That's worth doing too, Alex, because it seems like you could use that for other stuff in

35:21.300 --> 35:24.300
the future as well, because there's a lot of things that will just plug right into that.

35:24.300 --> 35:28.000
It does free you up from the ZFS kind of train, if you like.

35:28.000 --> 35:34.100
So if something like zfs.rent isn't up your street and you want to host just a few hundred

35:34.100 --> 35:38.700
megabytes of files, then something like RESTIC is going to do you really well.

35:38.700 --> 35:42.240
One of the most difficult parts of using RESTIC is configuring it.

35:42.240 --> 35:47.140
Now I came across a project this week which solves that problem in a really beautiful

35:47.140 --> 35:48.860
way called auto RESTIC.

35:48.860 --> 35:52.500
Now there's a link to this thing in the show notes, but essentially what happens is you

35:52.500 --> 35:59.140
define the locations and the backends in a YAML file, and you're done.

35:59.140 --> 36:03.500
That's not so bad to manage, I mean that sounds like something that I could probably wrap

36:03.500 --> 36:04.500
my head around.

36:04.500 --> 36:08.700
What's really nice as well is if you just have a local backend, which is just some dumb

36:08.700 --> 36:16.220
USB hard drive, you can actually have as one of your backends just HDD type local path

36:16.220 --> 36:19.340
my external storage, and it's as simple as that.

36:19.340 --> 36:22.820
Oh, although my backend is never dumb, but that does seem really nice.

36:22.820 --> 36:27.060
I didn't mean as an insult darling.

36:27.060 --> 36:30.820
There's a bunch of other cool stuff that auto RESTIC supports as well, like hooks.

36:30.820 --> 36:35.820
So if you want to perform some commands before or after a specific backup, let's say you

36:35.820 --> 36:39.980
want to delete some files after a backup's happened, for example, you can do that using

36:39.980 --> 36:42.600
the hooks that are built into auto RESTIC.

36:42.600 --> 36:46.420
You can also exclude files as well, and there is a forget policy.

36:46.420 --> 36:53.500
So one of the favorite things about ZFS send for me is when I use Jim Salters Sanoid tool,

36:53.500 --> 36:59.820
it has a policy driven snapshot engine, which will automatically keep the last hour or the

36:59.820 --> 37:03.900
last six hours and then the last six days and then the last six weeks and then the last

37:03.900 --> 37:08.820
six months, it'll keep one snapshot from each of those different timestamps.

37:08.820 --> 37:13.980
Auto RESTIC also has a forget and prune policy engine built right into it, which you configure

37:13.980 --> 37:19.500
again in the YAML right next to the location that you're defining.

37:19.500 --> 37:21.180
It's the way RESTIC should work.

37:21.180 --> 37:22.700
Yeah, that does sound nice.

37:22.700 --> 37:23.700
Well, very good.

37:23.700 --> 37:28.420
We will have a link to that at selfhosted.show slash 43.

37:28.420 --> 37:33.700
Now before we go, Alex, Jase Novell wrote in on the Discord, so I guess that's more

37:33.700 --> 37:37.260
like sent a message on Discord and then we thought that's a good question to read on

37:37.260 --> 37:38.260
the show.

37:38.260 --> 37:42.140
But he says, I'm working through the planning stages of building a new home.

37:42.140 --> 37:43.700
Oh, I love that.

37:43.700 --> 37:44.700
Really?

37:44.700 --> 37:45.700
Oh, I'm envious.

37:45.700 --> 37:46.700
Yeah.

37:46.700 --> 37:50.700
He writes, if you are all starting from scratch, how would you design a smart home that would

37:50.700 --> 37:55.700
get the wife approval factor, but at the same time, not be too much overkill?

37:55.700 --> 37:59.940
Well, that actually feels like that's how you achieve the wife approval factor is not

37:59.940 --> 38:01.280
going overkill.

38:01.280 --> 38:06.940
But I get the spirit of his question, like what's a reasonable kind of build it in while

38:06.940 --> 38:10.260
I have the opportunity, but not go excessive.

38:10.260 --> 38:12.340
Automated flame throwers on the driveway should do the trick.

38:12.340 --> 38:13.340
Right.

38:13.340 --> 38:18.660
And laser pointers on articulating arms so that way you can, you know, you could just

38:18.660 --> 38:21.220
put that out there and that way the pets stay entertained.

38:21.220 --> 38:24.860
No, but really thinking about it, it comes down in my mind, like the first place I go

38:24.860 --> 38:27.220
to is just solid networking.

38:27.220 --> 38:32.420
Whilst you've got those walls open, run as many high quality cables as you can.

38:32.420 --> 38:33.420
Yeah.

38:33.420 --> 38:35.620
I would suggest starting with Cat 6a as a minimum.

38:35.620 --> 38:40.820
Yes, it could be considered a little bit overkill, you know, 5e will do quite comfortably gigabit

38:40.820 --> 38:46.780
ethernet and even you'll even do 10 gig over a very short distance, but Cat 6a will give

38:46.780 --> 38:48.100
you 10 gig guaranteed.

38:48.100 --> 38:51.900
I think it's like three or 500 feet, something like that.

38:51.900 --> 38:57.500
And if you're thinking about the lifetime of a house, which could be 50 plus years,

38:57.500 --> 39:01.700
you really want to put in there as good as you can afford to at the time you're building

39:01.700 --> 39:06.500
it because having retrofitted a couple of houses with ethernet cable, let me tell you,

39:06.500 --> 39:08.180
pulling cable is no fun.

39:08.180 --> 39:15.140
It's how you'll do everything from cameras to smoke detectors to sensors to Wi-Fi endpoints.

39:15.140 --> 39:20.620
Everything's better with ethernet or just workstations, televisions, media set top boxes.

39:20.620 --> 39:22.540
You'll never beat wired.

39:22.540 --> 39:26.940
As good as wireless gets, it cannot just beat a physical copper connection.

39:26.940 --> 39:29.520
It's just the reality of physics right now.

39:29.520 --> 39:31.620
And I just so completely agree with Alex.

39:31.620 --> 39:36.480
I have a buddy right now who is building a tiny home and it's a really cool place.

39:36.480 --> 39:43.520
And in this tiny home, which is probably 250 square feet, I don't actually know, he has

39:43.520 --> 39:47.860
18 ethernet jacks in different places.

39:47.860 --> 39:51.860
Some of them are multiple panels and stuff, but you think about it, that's how he's going

39:51.860 --> 39:52.900
to do his phone.

39:52.900 --> 39:57.280
That's how he's going to do all of his TV, HDMI is going to be over ethernet in the wall.

39:57.280 --> 39:58.700
That's how he's going to do all of his cameras.

39:58.700 --> 40:00.460
That's how he's going to do his desk.

40:00.460 --> 40:03.060
That's how he's going to bring his internet connection in.

40:03.060 --> 40:06.380
I really just completely totally agree with you, Alex.

40:06.380 --> 40:09.540
And it would be nice as well not to have to daisy chain switches.

40:09.540 --> 40:14.420
One of the ways in which I extend the ethernet around some of the larger rooms in this house,

40:14.420 --> 40:18.440
in walls that are more difficult to pull cable through, like external walls or stuff with

40:18.440 --> 40:24.340
insulation in, I actually just run an ethernet cable along the skirting board, the baseboard,

40:24.340 --> 40:27.700
and then have a switch and then just carry on.

40:27.700 --> 40:32.660
So actually, if I think about it, between the switch that's carrying my voice to you,

40:32.660 --> 40:35.380
there's probably four switches.

40:35.380 --> 40:37.440
It's a horrible network design, but it works.

40:37.440 --> 40:41.420
I wish I could shake up so many industries to like the hotel industries should all be

40:41.420 --> 40:43.900
putting ethernet in the rooms for me to use RVs.

40:43.900 --> 40:49.700
Oh my gosh, Alex, I wish the RV manufacturers would build an ethernet to every RV.

40:49.700 --> 40:53.500
All home manufacturers, you shouldn't build a home today without ethernet and it's happening

40:53.500 --> 40:56.420
still Alex in 2021.

40:56.420 --> 40:59.540
Without ethernet, but also without a proper server covered.

40:59.540 --> 41:04.140
And I think, you know, having some kind of a central place where all that ethernet comes

41:04.140 --> 41:09.660
into with a patch panel and space for all the different bridges that you need these

41:09.660 --> 41:10.660
days.

41:10.660 --> 41:15.500
Your Zigbee bridge, your Z-Wave bridge, your Philips Hue light bulb bridge, all this kind

41:15.500 --> 41:16.500
of stuff.

41:16.500 --> 41:19.820
Like the solar installer came and did a survey on my roof last week and he said, can I take

41:19.820 --> 41:22.140
a look at your internet router?

41:22.140 --> 41:28.940
And I'm like, okay, this is going to be complicated unless you tell me why you need to see that.

41:28.940 --> 41:34.380
And he said, well, we have this monitoring thing that connects via Zigbee to the solar

41:34.380 --> 41:38.380
on the roof and does a bunch of, you know, consumption monitoring stuff.

41:38.380 --> 41:40.420
And I said, okay, so tell me what you need.

41:40.420 --> 41:41.420
Is it just an ethernet Jack?

41:41.420 --> 41:42.420
And he went, yes.

41:42.420 --> 41:44.620
I'm like, I've got you covered.

41:44.620 --> 41:47.460
Yeah, that's a great example.

41:47.460 --> 41:53.020
But just so many other things like you'll have like your ISPs box you need to put somewhere

41:53.020 --> 41:57.900
and like a phone or a cable television thing if you go that route.

41:57.900 --> 42:01.380
So absolutely think of that and think of noise because some of these things that you're going

42:01.380 --> 42:05.940
to have in that space, like a switch have very loud fans.

42:05.940 --> 42:11.300
Also just before we completely go away from ethernet, label, man, the first, a couple

42:11.300 --> 42:16.080
of times, the first, the first time and then a second time, but no, no nonsense.

42:16.080 --> 42:20.940
But a couple of times, twice in a row, unfortunately, I got screwed and the guys that did my ethernet

42:20.940 --> 42:26.300
didn't properly label stuff and it is such a pain in the arse, let me tell you.

42:26.300 --> 42:31.660
So label everything you're doing, consider fan noise, consider heat because that could

42:31.660 --> 42:36.060
also be a problem because if it was me, I would like to have my switch and my server

42:36.060 --> 42:38.660
and all of that in the same space.

42:38.660 --> 42:43.060
So if I were really designing everything from scratch, I may actually consider putting all

42:43.060 --> 42:47.260
of that in my garage where I have a little room built off.

42:47.260 --> 42:50.820
Anything you can do now is an investment that will save you problems later because you're

42:50.820 --> 42:52.060
going to have heat issues.

42:52.060 --> 42:53.200
You're going to have power issues.

42:53.200 --> 42:55.120
You're going to have noise problems.

42:55.120 --> 42:57.460
You're going to have growth and sprawl problems.

42:57.460 --> 43:01.700
So if you can give consideration to that in some way, I absolutely would think of that.

43:01.700 --> 43:06.620
And then also maybe if you're going to do cameras, consider doing something like POE

43:06.620 --> 43:09.260
from the start and how you might build for that.

43:09.260 --> 43:10.260
Absolutely.

43:10.260 --> 43:13.780
And one of the other things I would consider in that server cupboard is you mentioned heating

43:13.780 --> 43:18.340
and cooling, but I would suggest if you can get a dedicated electrical circuit just for

43:18.340 --> 43:24.580
that equipment, it would make things much easier to troubleshoot if that room with thousands

43:24.580 --> 43:29.140
probably thousands of dollars worth of equipment in it has its own electrical supply.

43:29.140 --> 43:35.340
You could build a UPS type system in around it as well, but it's possible that that thing

43:35.340 --> 43:37.060
is going to be drawing quite a few amps.

43:37.060 --> 43:41.540
So it's worth having that separate circuit.

43:41.540 --> 43:46.060
And if you did later want to have like a backup power supply for that, or maybe you wanted

43:46.060 --> 43:50.340
even solar power or something like that, if you have that gear already isolated on its

43:50.340 --> 43:54.780
own circuit, that just got way simpler down the road.

43:54.780 --> 43:56.660
So that's something to think of too.

43:56.660 --> 44:00.500
And you really, I don't think you can overdo it with Ethernet and I don't think you can

44:00.500 --> 44:03.740
overdo it with circuits for independent stuff.

44:03.740 --> 44:08.460
When I had my place built years and years ago, which I don't live in anymore, but I

44:08.460 --> 44:09.780
had a circuit for my home office.

44:09.780 --> 44:12.940
Oh, actually, and here I did it in the studio too now that I think about it.

44:12.940 --> 44:17.580
The studio has three separate power circuits just in the studio.

44:17.580 --> 44:23.420
Now the reason for that is really overkill because of ground loops and noise like that.

44:23.420 --> 44:28.800
And then our offices upstairs, each room upstairs is on its own circuit because we run so much

44:28.800 --> 44:33.140
computer gear, we didn't want to be popping each other's breakers.

44:33.140 --> 44:36.420
I never used to really worry about that when I lived in England because obviously everything's

44:36.420 --> 44:40.060
at 220 volts over there, so half the amps.

44:40.060 --> 44:43.740
But over here at 110 volts, it really makes a difference.

44:43.740 --> 44:46.020
Yeah, so those are, I don't think they're overkill.

44:46.020 --> 44:52.360
The way you sell them is in long-term reliability and a reducement in replacements and hacky

44:52.360 --> 44:55.780
solutions and in stress.

44:55.780 --> 45:00.100
And just learning from people who've tried this the cheaper way and have had to make

45:00.100 --> 45:01.100
adjustments since.

45:01.100 --> 45:03.580
And if it's your only route, you'll make it work, man, no problem.

45:03.580 --> 45:08.380
But if you do have the ability to do some of this stuff ahead of time, man, future you

45:08.380 --> 45:10.060
is going to be so thankful.

45:10.060 --> 45:11.660
Yes, absolutely they will.

45:11.660 --> 45:16.460
Being retrofitted a few houses myself, I can tell you there's nothing worse than going

45:16.460 --> 45:19.140
through a crawl space with cockroaches trying to pull ethernet.

45:19.140 --> 45:21.620
So save yourself some headaches.

45:21.620 --> 45:25.740
Now if you'd like to get your question answered or discussed on the show, you can go to selfhosted.show

45:25.740 --> 45:26.740
slash contact.

45:26.740 --> 45:28.220
There you go.

45:28.220 --> 45:32.580
And also selfhosted.show slash SRE if you'd like to become a member.

45:32.580 --> 45:37.580
You support the show, you get a limited ad feed and you get extra content, a post show.

45:37.580 --> 45:41.980
And I think it's like five dollars a month, which is like our best deal on the network

45:41.980 --> 45:43.540
right now.

45:43.540 --> 45:47.660
Selfhosted.show slash SRE and get additional content.

45:47.660 --> 45:48.660
Best deal for the best show.

45:48.660 --> 45:49.660
Dang right.

45:49.660 --> 45:54.300
Now you just launched Jupiter Garage dot com, didn't you?

45:54.300 --> 45:57.380
Man, you and I, I know you have the same problem.

45:57.380 --> 45:59.780
Way too much gear, stuff's all over the place.

45:59.780 --> 46:03.860
So Jupiter Garage dot com, we've been selling off some things that we have in the studio.

46:03.860 --> 46:08.500
Plus I've kind of mixed it with some original stuff in there and you and I were talking

46:08.500 --> 46:14.000
about it and we were thinking now that you've got a different NAS situation, maybe we ought

46:14.000 --> 46:17.380
to put the Helio 64 in the garage sale.

46:17.380 --> 46:18.380
Yeah.

46:18.380 --> 46:19.740
Well, I'm not really using it for anything.

46:19.740 --> 46:23.420
So I figured I'll save someone else having to wait for it to be delivered.

46:23.420 --> 46:26.820
So we'll put it on there for a good price and it'll go live on Monday, which will be

46:26.820 --> 46:28.180
April the 26th.

46:28.180 --> 46:29.180
Yeah.

46:29.180 --> 46:30.180
Jupiter Garage dot com.

46:30.180 --> 46:33.540
I just sold the free NAS that I used to have here in the studio.

46:33.540 --> 46:34.540
I sold it for $200.

46:34.540 --> 46:35.540
Man, that is a steal.

46:35.540 --> 46:36.540
Yeah, it is.

46:36.540 --> 46:41.180
You know, in some part it's just because I don't, this gear has just been sitting around

46:41.180 --> 46:42.180
anyways.

46:42.180 --> 46:45.980
So it's not like I'm doing anything with it and might as well go to a home with somebody

46:45.980 --> 46:46.980
in the audience.

46:46.980 --> 46:49.300
That just seems like kind of awesome, you know?

46:49.300 --> 46:53.240
So yeah, the Helio 64, it will probably go pretty fast.

46:53.240 --> 46:59.940
So maybe we should say Monday, Monday a.m. Seattle time just to kind of give people an

46:59.940 --> 47:00.940
expectation.

47:00.940 --> 47:01.940
Absolutely.

47:01.940 --> 47:02.940
All right.

47:02.940 --> 47:03.940
All right.

47:03.940 --> 47:06.540
Also, you can find our sponsor, Cloud Guru, on social media.

47:06.540 --> 47:07.540
It's simple.

47:07.540 --> 47:09.820
They're just slash a Cloud Guru everywhere.

47:09.820 --> 47:12.420
And if you're looking for all the different ways to subscribe to the show, you can go

47:12.420 --> 47:14.820
to self-hosted dot show slash subscribe.

47:14.820 --> 47:16.780
I'm on Twitter at ironic badger.

47:16.780 --> 47:22.700
Yeah, I'm there too at Chris LAS and the whole show right here, this show, this one at self-hosted

47:22.700 --> 47:23.700
show.

47:23.700 --> 47:24.700
This show?

47:24.700 --> 47:25.700
Which show?

47:25.700 --> 47:26.700
This show.

47:26.700 --> 47:27.700
The whole show.

47:27.700 --> 47:28.700
This one.

47:28.700 --> 47:29.700
Yeah.

47:29.700 --> 47:30.700
No, the whole thing.

47:30.700 --> 47:31.700
It's all there in just the hundred and whatever it is characters now.

47:31.700 --> 47:32.700
200 and whatever.

47:32.700 --> 47:36.660
It's really just a good resource to get show announcements and news and maybe send us questions,

47:36.660 --> 47:37.660
I suppose.

47:37.660 --> 47:40.180
And if all that isn't too much for you, I'd like to thank you for listening.

47:40.180 --> 48:03.260
That was self-hosted dot show slash 43.

