WEBVTT

00:00.000 --> 00:04.680
An announcement from Microsoft's Office 365 team today, Wes, for Linux.

00:06.080 --> 00:10.280
Microsoft Teams, their Slack competitor is officially here.

00:10.280 --> 00:13.360
And I'm gonna go so far as to say, early prediction, so

00:13.360 --> 00:15.120
I'm claiming this one, it's already on my list.

00:15.120 --> 00:15.680
What?

00:15.680 --> 00:18.600
This is a beachhead for Office on Linux.

00:18.600 --> 00:20.520
You think so, the rest is gonna follow suit.

00:20.520 --> 00:21.040
I do.

00:21.040 --> 00:24.640
It's been interesting, there was an open support issue since Teams launched for

00:24.640 --> 00:27.360
Linux and for a long time it didn't look like it was gonna happen,

00:27.360 --> 00:29.080
there just wasn't interest.

00:29.080 --> 00:29.760
Now it's finally here.

00:29.760 --> 00:33.800
Although, you'll have to go like three directory levels deep to find it.

00:33.800 --> 00:36.680
If you go to teams.microsoft.com slash download,

00:36.680 --> 00:38.560
they do have a more friendly version.

00:38.560 --> 00:40.360
But if you get where Wes got linked to,

00:40.360 --> 00:42.480
he's like browsing through their web directory.

00:42.480 --> 00:43.600
That was from one of their pages.

00:43.600 --> 00:46.480
I know, I know, I know.

00:46.480 --> 00:48.920
Nobody else in the world except for

00:48.920 --> 00:52.280
existing Office 365 users was looking for this.

00:52.280 --> 00:54.120
But if you want something besides Slack,

00:54.120 --> 00:56.240
there's some really great open source alternatives.

00:56.240 --> 00:59.440
However, a lot of Office 365 users.

00:59.440 --> 01:04.400
Right, and Teams gets bundled in there, so of course you probably have to use it.

01:04.400 --> 01:08.280
And now there's another Electron app you can use on your Linux desktop.

01:08.280 --> 01:09.600
Yes, man.

01:09.600 --> 01:11.800
Boy, wasn't that on my wish list.

01:11.800 --> 01:14.840
So while you were spelunking in web directories,

01:14.840 --> 01:18.960
I was just installing it from the AUR because, God bless the AUR,

01:18.960 --> 01:20.640
it just showed up immediately.

01:20.640 --> 01:34.320
Nice, all right, I'm not going to use Teams though.

01:34.320 --> 01:37.080
Come on, come on, I'm not using Teams.

01:37.080 --> 01:39.000
If anything, I'm going to Mattermost next.

01:39.000 --> 01:40.880
Yeah, but the people who use Teams don't get to choose.

01:40.880 --> 01:51.640
Hello, friends, and welcome into the Unplugged program.

01:51.640 --> 01:52.520
My name is Chris.

01:52.520 --> 01:53.320
My name is Wes.

01:53.320 --> 01:54.400
Hello, Wes.

01:54.400 --> 01:58.840
I've got a smile today because this is one of those episodes where

01:58.840 --> 02:01.600
Wes and Chris are going to do something you shouldn't try at home.

02:01.600 --> 02:02.600
Don't follow along.

02:02.600 --> 02:04.000
Don't do what we do this week.

02:04.000 --> 02:05.800
We're busting a stereotype.

02:05.800 --> 02:07.640
Fedora worked so well.

02:07.640 --> 02:10.280
It blew my mind how great it was as a server OS,

02:10.280 --> 02:13.360
and all the stereotypes say don't run Fedora as a server.

02:13.360 --> 02:15.960
So we thought, well, let's take that a little bit further

02:15.960 --> 02:20.400
and let's replace our highly critical, perfectly functional Fedora server

02:20.400 --> 02:25.120
with an Arch box and report back what the process is like to migrate

02:25.120 --> 02:30.200
a live in production server from Fedora to Arch, lessons we learned,

02:30.200 --> 02:33.560
and then truly what we think of it as a server platform,

02:33.560 --> 02:36.960
and some of the things we're doing to safeguard the fact

02:36.960 --> 02:38.280
that it is a rolling distribution.

02:38.280 --> 02:39.800
I mean, what could go wrong?

02:39.800 --> 02:43.440
We're doing this so you don't have to.

02:43.440 --> 02:44.840
You're welcome.

02:44.840 --> 02:45.720
I'm really not kidding.

02:45.720 --> 02:49.480
This box is critically important to us.

02:49.480 --> 02:51.720
But we really wanted to test the stereotype.

02:51.720 --> 02:54.400
After having really good success with Fedora,

02:54.400 --> 02:56.720
we thought we've got to replace this Fedora 30

02:56.720 --> 03:00.040
install either with Fedora 31 or CentOS.

03:00.040 --> 03:01.760
So let's go to Arch.

03:01.760 --> 03:03.640
We've come a long way from FreakNAS.

03:03.640 --> 03:04.400
Yeah.

03:04.400 --> 03:05.760
Yeah, we really have.

03:05.760 --> 03:07.960
So we'll tell you about that in a little bit.

03:07.960 --> 03:11.120
But before we go there, we do have some community news

03:11.120 --> 03:13.000
to get into.

03:13.000 --> 03:15.560
Like, some of this is down the road,

03:15.560 --> 03:18.160
maybe going to happen prediction stuff.

03:18.160 --> 03:20.200
Like, we don't really know.

03:20.200 --> 03:23.800
So let's start with some of those far out predictions.

03:23.800 --> 03:28.200
NVIDIA looks to have some sort of open source driver announcement

03:28.200 --> 03:29.800
just around the corner.

03:29.800 --> 03:32.360
Michael Arboles hot to the trot with this one over at Ferronics.

03:32.360 --> 03:34.480
He says, start looking forward to March,

03:34.480 --> 03:36.920
when NVIDIA looks to have some sort of open source driver

03:36.920 --> 03:40.040
initiative to announce, which is likely contributing more

03:40.040 --> 03:41.480
to Nivu.

03:41.480 --> 03:43.800
He was tipped off by a Ferronics reader

03:43.800 --> 03:47.800
about a GTC session that's happening at GTC 2020

03:47.800 --> 03:49.000
by NVIDIA.

03:49.000 --> 03:52.040
Now, the engineer from NVIDIA, John Hubbard,

03:52.040 --> 03:58.480
is running a talk titled Open Source Linux Kernel and NVIDIA.

03:58.480 --> 04:02.320
GTC for the unaware is the GPU Technology Conference.

04:02.320 --> 04:05.480
And boy, does that talk have an interesting abstract.

04:05.480 --> 04:06.560
Here it is.

04:06.560 --> 04:08.280
We'll report up to the minute developments

04:08.280 --> 04:10.600
on NVIDIA's status and activities,

04:10.600 --> 04:13.960
and possibly, depending on last minute developments,

04:13.960 --> 04:17.160
a few future plans and directions regarding

04:17.160 --> 04:21.080
our contributions to the Linux Kernel, supporting Nivu,

04:21.080 --> 04:23.760
including signed firmware behavior, documentation,

04:23.760 --> 04:28.040
and patches, and NVIDIA Kernel drivers.

04:28.040 --> 04:29.120
Whoa.

04:29.120 --> 04:29.840
OK.

04:29.840 --> 04:30.760
There's a lot in there.

04:30.760 --> 04:33.320
Signed firmware behavior is huge.

04:33.320 --> 04:34.960
Documentation would be ginormous.

04:34.960 --> 04:37.400
But patches to the actual upstream projects

04:37.400 --> 04:38.680
is mind-blowing.

04:38.680 --> 04:40.480
That is mind-blowing.

04:40.480 --> 04:42.600
Did something change inside NVIDIA?

04:42.600 --> 04:44.920
Perhaps they've noticed that AMD is kicking some ass these days.

04:44.920 --> 04:47.440
So you're going to have to wait till towards the end of March

04:47.440 --> 04:51.680
because GTC 2020 runs from the 23rd to the 26th of March

04:51.680 --> 04:53.200
in San Jose.

04:53.200 --> 04:54.840
You going to go, Wes?

04:54.840 --> 04:55.920
I know you're a big gamer.

04:55.920 --> 04:57.480
I don't think I'll make it, but I will

04:57.480 --> 04:59.680
be equally awaiting this news.

04:59.680 --> 05:01.880
Hopefully, Michael Larbo will make it down there,

05:01.880 --> 05:03.720
and he'll give us a report back.

05:03.720 --> 05:05.440
All right, and then one other kind of far out

05:05.440 --> 05:07.060
in the future community news, but one

05:07.060 --> 05:09.360
we are so dang excited about.

05:09.360 --> 05:12.720
Your co-host and buddy Jim Salter over at Ars Technica

05:12.720 --> 05:17.160
writes that the WireGuard VPN is one step closer

05:17.160 --> 05:19.160
to mainstream adoption.

05:19.160 --> 05:21.400
This is all coming from the Linux Network Stack maintainer

05:21.400 --> 05:24.040
David Miller, who committed the WireGuard VPN project

05:24.040 --> 05:28.120
to the Linux Kernel's NetNext source tree.

05:28.120 --> 05:31.820
He maintains both the Net and the NetNext source trees,

05:31.820 --> 05:34.040
which govern the current implementations of the Linux

05:34.040 --> 05:36.400
Kernel's networking stack and, of course, the future one.

05:36.400 --> 05:39.040
Yeah, NetNext gets pulled into the new Linux Kernel

05:39.040 --> 05:42.960
during its two-week merge window, where it becomes Net.

05:42.960 --> 05:45.480
With WireGuard already a part of NetNext,

05:45.480 --> 05:48.280
this means that, barring unexpected issues,

05:48.280 --> 05:50.240
and there's always time for those,

05:50.240 --> 05:53.080
there should be a Linux Kernel 5.6 release

05:53.080 --> 05:58.240
candidate with built-in WireGuard in early 2020.

05:58.240 --> 06:02.120
Oh, just excuse me, Wes, just going

06:02.120 --> 06:03.320
to do a little happy dance.

06:03.320 --> 06:04.200
Something tells me we're going to be

06:04.200 --> 06:06.280
trying those release candidates when the time comes.

06:06.280 --> 06:10.800
Now, do take a little bit of salt with this one.

06:10.800 --> 06:12.040
I mean, yeah, the Kernel community

06:12.040 --> 06:12.720
does what they want.

06:12.720 --> 06:14.920
The maintainers have their own priorities and schedules,

06:14.920 --> 06:16.800
and we'll see what happens.

06:16.800 --> 06:20.080
We've heard this song before, but we did just recently

06:20.080 --> 06:22.280
see the required encryption bits land.

06:22.280 --> 06:23.880
We covered that recently.

06:23.880 --> 06:27.440
So this is sort of the next required piece.

06:27.440 --> 06:30.560
Now, there's kind of an unfortunate possibility

06:30.560 --> 06:33.720
on the timing here, because if I'm doing my time math right,

06:33.720 --> 06:36.120
and Jim points this out in the article,

06:36.120 --> 06:39.080
this is probably going to land after Ubuntu 20.04,

06:39.080 --> 06:40.960
the next big LTS.

06:40.960 --> 06:42.080
Yeah, that's unfortunate.

06:42.080 --> 06:43.540
I imagine there'll be long timelines

06:43.540 --> 06:47.320
to see it get in other sort of LTS releases like RHEL.

06:47.320 --> 06:50.760
But WireGuard founder and main developer Jason Doenfeld

06:50.760 --> 06:53.400
offered to do a bunch of the work backporting WireGuard

06:53.400 --> 06:56.840
to earlier Ubuntu Kernels directly.

06:56.840 --> 06:57.560
That's great.

06:57.560 --> 06:58.360
That is.

06:58.360 --> 07:01.200
We've had very brief exchanges with Jason in the past,

07:01.200 --> 07:02.920
and he seems very passionate about this.

07:02.920 --> 07:04.200
Oh, yeah, obviously cares a lot, and has

07:04.200 --> 07:06.360
put in a ton of work promoting WireGuard to get it

07:06.360 --> 07:07.220
where it is.

07:07.220 --> 07:09.040
I hope they take him up on that.

07:09.040 --> 07:14.320
He also teased that a WireGuard 1.0 is on the horizon.

07:14.320 --> 07:15.080
Well, what?

07:15.080 --> 07:16.440
I know.

07:16.440 --> 07:17.400
Wow.

07:17.400 --> 07:19.640
How can it get better than it is?

07:19.640 --> 07:21.040
That's a good thing to say, too.

07:21.040 --> 07:23.560
If you could have that land right before 5.6,

07:23.560 --> 07:24.880
then you're including 1.0.

07:24.880 --> 07:29.840
We've got here a nice, stable, maintained VPN.

07:29.840 --> 07:32.960
Mr. Brent, you just recently had adventures in WireGuard land.

07:32.960 --> 07:36.520
Yeah, it's been on my docket for about six months.

07:36.520 --> 07:38.920
Wes, I've been asking you for like, hey, Wes,

07:38.920 --> 07:41.580
when you're ready, if I go ask you, would you help me?

07:41.580 --> 07:43.240
And it turns out you didn't even need it.

07:43.240 --> 07:46.600
Well, it turns out I am more capable of things

07:46.600 --> 07:47.400
than I think I am.

07:47.400 --> 07:50.480
So this morning, I thought, I got a pretty wide open docket,

07:50.480 --> 07:53.080
and WireGuard seems like the best thing to do in the morning.

07:53.080 --> 07:56.400
So dove right in, and it was super smooth.

07:56.400 --> 07:57.760
What are you using it for?

07:57.760 --> 08:00.040
I mean, are you replacing an existing VPN?

08:00.040 --> 08:04.640
Yeah, my idea was I'm currently using private internet access

08:04.640 --> 08:07.680
just to give me, as some people may have picked up,

08:07.680 --> 08:08.640
I travel quite a bit.

08:08.640 --> 08:10.920
So it gives me some extra protection, basically,

08:10.920 --> 08:12.280
everywhere.

08:12.280 --> 08:15.360
And so that's been playing fairly nice with my phones

08:15.360 --> 08:19.360
and computers, but they just got sold recently, I believe.

08:19.360 --> 08:21.320
And if the rumors are true.

08:21.320 --> 08:21.960
Yeah, they are.

08:21.960 --> 08:25.320
And also, the apps kind of, they're buggy,

08:25.320 --> 08:26.920
and they're not native.

08:26.920 --> 08:27.640
I don't like them.

08:27.640 --> 08:31.960
So I thought, OK, WireGuard really seems to make sense.

08:31.960 --> 08:33.920
You guys have been telling me it's super stable.

08:33.920 --> 08:36.080
So I jumped in, had to learn a few things,

08:36.080 --> 08:37.520
but there's some great tutorials.

08:37.520 --> 08:42.400
And yeah, just spun up a VPS on our trusty DigitalOcean

08:42.400 --> 08:45.640
and got it configured pretty easily, actually.

08:45.640 --> 08:47.640
And it's working pretty good.

08:47.640 --> 08:49.040
How proud are you of Brent right now?

08:49.040 --> 08:49.640
Oh, yeah.

08:49.640 --> 08:50.160
Amazing.

08:50.160 --> 08:51.240
Super proud of you, Brent.

08:51.240 --> 08:52.080
Good for you.

08:52.080 --> 08:53.200
Oh, thanks.

08:53.200 --> 08:56.160
And did you find any particular documentation useful,

08:56.160 --> 08:58.200
or any kind of tips or tricks you could pass along

08:58.200 --> 09:00.600
to people that are also kind of starting from zero?

09:00.600 --> 09:04.120
Yeah, I think my setup is wonderfully simple.

09:04.120 --> 09:08.080
All I'm trying to do is have a kind of a dumb server

09:08.080 --> 09:10.280
out there that's just waiting for me to connect to it.

09:10.280 --> 09:12.180
So it's not doing much fancy stuff,

09:12.180 --> 09:13.720
but maybe that's a good place to start.

09:13.720 --> 09:14.680
Absolutely.

09:14.680 --> 09:18.960
I will share in the IRC here the tutorial that I used.

09:18.960 --> 09:20.280
And it just kind of worked.

09:20.280 --> 09:22.880
It was super simple, very straightforward, great,

09:22.880 --> 09:24.360
written in a nice way that allows

09:24.360 --> 09:26.400
you to learn along the way, which is the whole idea.

09:26.400 --> 09:26.800
Excellent.

09:26.800 --> 09:28.480
Will you grab that for the show notes, Mr. Payne?

09:28.480 --> 09:29.120
Sure will.

09:29.120 --> 09:31.640
And it's great that it's already pretty easy.

09:31.640 --> 09:32.880
And once it's in the kernel, it'll

09:32.880 --> 09:33.920
be even easier than that.

09:33.920 --> 09:36.460
Yeah, that's the thing is part of that setup

09:36.460 --> 09:39.000
is just getting it installed right now and figuring out

09:39.000 --> 09:41.200
how you're going to do that.

09:41.200 --> 09:43.560
We just went through the installation process last night

09:43.560 --> 09:46.520
ourselves, which we'll talk about more in a little bit.

09:46.520 --> 09:49.080
Really hope that they do take Jason up on that offer

09:49.080 --> 09:53.080
to backport it to the LTS, because like you kind of

09:53.080 --> 09:56.360
implied there, Wes, there's also the question

09:56.360 --> 09:59.120
of the RHEL release cycle.

09:59.120 --> 10:02.120
RHEL is currently using, the current version of RHEL,

10:02.120 --> 10:06.120
is using the 4.18 kernel, which is already nine months old.

10:06.120 --> 10:08.880
And they tend to stick with that for quite a while.

10:08.880 --> 10:09.880
Yes.

10:09.880 --> 10:12.760
Even that said, it's pretty straightforward to get going,

10:12.760 --> 10:14.720
even on a system that doesn't have it baked in.

10:14.720 --> 10:17.860
Right, it's not a big module to load, and it's very easy

10:17.860 --> 10:18.360
to build.

10:18.360 --> 10:20.840
And it's one of the better behaved DKMS modules

10:20.840 --> 10:21.880
I've ever used.

10:21.880 --> 10:24.600
So this next story kind of made me smile this morning,

10:24.600 --> 10:27.560
because it felt like the good old days of using a Linux

10:27.560 --> 10:29.600
distro.

10:29.600 --> 10:31.840
I knew that Manjaro, which I've been running on a couple

10:31.840 --> 10:34.480
of my workstations, had an update coming.

10:34.480 --> 10:36.400
They've been kind of teasing it on Twitter.

10:36.400 --> 10:38.320
But I didn't know when it was going to land.

10:38.320 --> 10:40.720
And so as I always like to do, because I

10:40.720 --> 10:43.120
think it's the way to keep an art system running great,

10:43.120 --> 10:45.920
is I decided I'd check my packages this morning.

10:45.920 --> 10:47.360
Just do a synchronize my mirrors.

10:47.360 --> 10:49.280
This is show day where you need your workstation to work,

10:49.280 --> 10:50.920
so you better update it.

10:50.920 --> 10:51.840
You're right.

10:51.840 --> 10:53.880
I really am a dummy, aren't I?

10:53.880 --> 10:54.760
I really am dumb.

10:54.760 --> 10:55.560
I'm so dumb.

10:55.560 --> 10:56.600
I think you're just excited.

10:56.600 --> 10:58.720
You know, you have this great little workstation going,

10:58.720 --> 11:00.600
and you're like, oh, there's probably new packages.

11:00.600 --> 11:02.600
You know what it is, is I just love the way

11:02.600 --> 11:06.240
it all looks on the cool retro CRT terminal.

11:06.240 --> 11:07.320
And Peckman's so pretty.

11:07.320 --> 11:08.140
Yeah.

11:08.140 --> 11:10.600
So anyways, I'm just synchronizing my mirrors,

11:10.600 --> 11:14.000
and I notice I'm getting like 30k a second from the mirror.

11:14.000 --> 11:16.480
It's just going really slow.

11:16.480 --> 11:19.400
And I'm like, oh, oh, must be a big release day,

11:19.400 --> 11:20.680
because that's how this works.

11:20.680 --> 11:23.020
And sure enough, I check on Twitter,

11:23.020 --> 11:27.880
and a brand new stable release of Manjaro is out.

11:27.880 --> 11:31.640
525 packages needed updating on my system.

11:31.640 --> 11:32.600
Oh, boy.

11:32.600 --> 11:36.280
It includes the new 5.4 LTS kernel and a new version of,

11:36.280 --> 11:39.440
remember how I was trying to tell you Manjaro has this package

11:39.440 --> 11:42.520
manager that's like unique to them?

11:42.520 --> 11:46.420
PAMAC, yeah.

11:46.420 --> 11:49.880
New version of that, but as well as updated desktops.

11:49.880 --> 11:53.640
And just loving, loving it so far.

11:53.640 --> 11:56.720
I wasn't sure how the first update experience would be like,

11:56.720 --> 11:57.680
but this was great.

11:57.680 --> 11:59.360
It was really kind of fun.

11:59.360 --> 12:01.560
Oh, my mirrors are running slow, and my first thought

12:01.560 --> 12:04.360
was, let's go check Twitter and say, hey, look, a new release.

12:04.360 --> 12:06.040
I mean, it's a little bit of difference

12:06.040 --> 12:09.480
there if you're used to Arch, because it's not quite rolling.

12:09.480 --> 12:11.000
Right, right, right.

12:11.000 --> 12:13.440
Yeah, it's just sort of fun to have moments where

12:13.440 --> 12:16.000
there's a bunch of things, but it's not a complete huge thing.

12:16.000 --> 12:17.040
It's a mini new Fedora release.

12:17.040 --> 12:19.080
It's mini, yeah, all the time.

12:19.080 --> 12:20.360
It's a good way to put it.

12:20.360 --> 12:23.880
It's a little mini update, and I really

12:23.880 --> 12:25.480
think they did a pretty good job of this one.

12:25.480 --> 12:27.960
Haven't actually rebooted yet, though, so I'll reserve my time.

12:27.960 --> 12:29.240
Oh, come on, that's the real test.

12:29.240 --> 12:31.080
I know.

12:31.080 --> 12:32.800
Got to kick the tires on the new kernel.

12:32.800 --> 12:34.880
Well, now that we have the show at the newer time,

12:34.880 --> 12:37.120
I was like, I got to run down there and do the show.

12:37.120 --> 12:38.360
I didn't have a half hour.

12:38.360 --> 12:39.360
So you should have rebooted it, and then

12:39.360 --> 12:40.740
would check at the end of the show.

12:40.740 --> 12:42.640
Yeah, I could run up there.

12:42.640 --> 12:43.340
Should I try it?

12:43.340 --> 12:45.720
Should I try running up there during one of our clips

12:45.720 --> 12:49.160
or something and see?

12:49.160 --> 12:49.840
I don't know.

12:49.840 --> 12:51.600
I hope it works, because I'm really falling

12:51.600 --> 12:53.000
in love with that workstation.

12:53.000 --> 12:55.800
Well, actually, we've got a tip later on in the show

12:55.800 --> 12:58.120
that maybe you should set up on that workstation,

12:58.120 --> 12:59.840
and then you wouldn't be so worried.

12:59.840 --> 13:01.120
You're right.

13:01.120 --> 13:04.200
I totally could set it up on that workstation.

13:04.200 --> 13:07.840
Oh, Wes Payne, you are clever.

13:07.840 --> 13:09.760
We will definitely be talking about that.

13:09.760 --> 13:11.520
But before we get into all of that,

13:11.520 --> 13:15.640
I want to mention, speaking of how much I love my dang plasma

13:15.640 --> 13:22.920
desktop, we had ourselves the Making Plasma Brilliant

13:22.920 --> 13:24.360
live stream on Friday.

13:24.360 --> 13:27.800
And I'm pretty happy to say I think it went decent.

13:27.800 --> 13:28.760
We had a good attendance.

13:28.760 --> 13:30.640
The Mumble Room was popping.

13:30.640 --> 13:32.720
The video after the fact has already been posted

13:32.720 --> 13:35.120
and got a lot of views, relatively to what I expected.

13:35.120 --> 13:37.120
I think the sign it went well is there was just more stuff

13:37.120 --> 13:38.120
than we could possibly talk about.

13:38.120 --> 13:39.800
And we weren't hunting for content,

13:39.800 --> 13:42.120
because there's so much to do in plasma.

13:42.120 --> 13:44.560
Nailed it right at the hour mark.

13:44.560 --> 13:45.920
Still got the live stream.

13:45.920 --> 13:47.480
And there's like six or seven topics

13:47.480 --> 13:48.920
we just couldn't go into.

13:48.920 --> 13:51.240
I got that internal clock, pow, right there.

13:51.240 --> 13:52.040
So it's up now.

13:52.040 --> 13:55.840
If you are interested in what I do to beautify and make

13:55.840 --> 13:58.880
my plasma desktop, like I say in the video,

13:58.880 --> 14:00.840
from basic to brilliant, that link

14:00.840 --> 14:04.960
will be in the show notes at linuxunplug.com slash 331.

14:04.960 --> 14:07.280
And it's up on the YouTube channel at youtube.com slash

14:07.280 --> 14:09.040
Jupiter broadcasting.

14:09.040 --> 14:11.620
And you could just jump in if you want.

14:11.620 --> 14:14.040
At the very beginning, I kind of tell you what to expect.

14:14.040 --> 14:16.240
If you just want to know how to tweak your fonts or tweak

14:16.240 --> 14:18.840
console, you can just jump to that.

14:18.840 --> 14:22.560
Also, Brent just keeps hitting it out of the park.

14:22.560 --> 14:25.880
Brunch with Brent and Alan Pope.

14:25.880 --> 14:29.360
Mr. Popey sits down with Brent for a fantastic brunch.

14:29.360 --> 14:30.760
Is there anything you want to tease?

14:30.760 --> 14:31.880
I haven't had a chance to listen yet,

14:31.880 --> 14:33.640
because it just came out this morning.

14:33.640 --> 14:35.640
Oh, there's a lot of stuff in there.

14:35.640 --> 14:37.800
Both of us, at the end of the conversation, went, jeez,

14:37.800 --> 14:39.880
I went in a bunch of directions we never expected.

14:39.880 --> 14:41.320
So.

14:41.320 --> 14:43.760
That's usually the sign of a great brunch with Brent.

14:43.760 --> 14:46.320
I didn't know this about Popey, but he's

14:46.320 --> 14:49.520
a very well-practiced fuzzy tester.

14:49.520 --> 14:53.320
And he tells a little bit about that, his adventures there.

14:53.320 --> 14:54.480
So that's a pretty good one.

14:54.480 --> 14:56.360
You get some good Popey flavor.

14:56.360 --> 14:58.240
I can tell just by looking at the links.

14:58.240 --> 15:01.400
There's some good Popey flavor that comes through on this one.

15:01.400 --> 15:03.320
And you know, we were just sitting around here

15:03.320 --> 15:05.520
and said, you know, if there's just one thing we need

15:05.520 --> 15:07.200
is Popey on more podcasts.

15:07.200 --> 15:08.600
So he's on the Ubuntu podcast.

15:08.600 --> 15:10.480
He's on the UserAir podcast.

15:10.480 --> 15:11.640
We need him on more podcasts.

15:11.640 --> 15:16.240
So Brunch with Brent, extras.show slash 38.

15:16.240 --> 15:18.120
Maybe someday he'll come back to love.

15:18.120 --> 15:18.620
Yeah.

15:18.620 --> 15:22.000
Oh, that's right.

15:22.000 --> 15:22.560
What the heck?

15:22.560 --> 15:23.920
I forgot him.

15:23.920 --> 15:24.720
I remember.

15:24.720 --> 15:26.600
Remember that, Wes?

15:26.600 --> 15:27.440
Wes remembers.

15:27.440 --> 15:30.480
Wes remembers.

15:30.480 --> 15:31.760
Oh, yeah, but it was really great.

15:31.760 --> 15:33.800
So if you've been missing yourself some Popey.

15:33.800 --> 15:35.920
Also, there was recently one with Wimpy, too.

15:35.920 --> 15:36.680
I see.

15:36.680 --> 15:37.400
I see how it is.

15:37.400 --> 15:38.640
Now they got time for brunch.

15:38.640 --> 15:39.320
Sorry, guys.

15:39.320 --> 15:43.200
I'm taking over at least all of your appearance.

15:43.200 --> 15:45.240
No, actually, I've known these guys for a long time.

15:45.240 --> 15:47.800
And I know that just by listening to Wimpy's,

15:47.800 --> 15:49.240
I knew I learned stuff about Wimpy.

15:49.240 --> 15:50.700
So I know I learned stuff about Popey, too.

15:50.700 --> 15:52.120
So it's really great.

15:52.120 --> 15:57.120
Also, I am so happy to say that our Telegram channel has really

15:57.120 --> 15:58.520
leveled up recently.

15:58.520 --> 16:00.840
Lots of great conversations going all the time.

16:00.840 --> 16:03.960
And thanks to the work of Cheese Bacon and others,

16:03.960 --> 16:06.600
we've got some good spam prevention in there now.

16:06.600 --> 16:10.120
So it's a really nice, good, clean chat at jupiterbroadcasting.com

16:10.120 --> 16:11.120
slash telegram.

16:11.120 --> 16:13.240
Yeah, there's really a fun conversation going on there

16:13.240 --> 16:14.440
almost all of the time.

16:14.440 --> 16:16.100
Pretty much all the time, because there's

16:16.100 --> 16:18.960
folks from all different time zones in there.

16:18.960 --> 16:21.040
But you also see the host popping in there

16:21.040 --> 16:24.360
throughout the day, as well as network announcements.

16:24.360 --> 16:27.320
So if you felt like you want to take the conversation beyond just

16:27.320 --> 16:29.840
the download, jupiterbroadcasting.com

16:29.840 --> 16:31.800
slash telegram.

16:31.800 --> 16:33.960
Even sometimes that Wes Payne's in there.

16:33.960 --> 16:34.600
Oh, yeah.

16:34.600 --> 16:37.520
Happens.

16:37.520 --> 16:38.160
All right, Wes.

16:38.160 --> 16:43.760
So here we were with a perfectly functional Fedora 30 workstation

16:43.760 --> 16:45.680
server, which is even funny to say.

16:45.680 --> 16:48.000
Actually, no, we might have used the net install image.

16:48.000 --> 16:49.480
So it might have been the server at the end of the day.

16:49.480 --> 16:49.960
All right, fine.

16:49.960 --> 16:50.760
Fair enough.

16:50.760 --> 16:51.800
Because there wasn't a GUI installed.

16:51.800 --> 16:53.040
But it was still Fedora.

16:53.040 --> 16:55.760
I think we had a workstation USB drive going, though,

16:55.760 --> 16:56.840
to troubleshoot.

16:56.840 --> 16:59.480
Did you think I was crazy when we picked Fedora coming

16:59.480 --> 17:00.200
from FreeNAS?

17:00.200 --> 17:02.480
So the background there is we were running FreeNAS.

17:02.480 --> 17:05.240
We had a whole ZFS array that Alan Jude set up for us.

17:05.240 --> 17:06.840
But we found FreeNAS to be limiting.

17:06.840 --> 17:08.120
So we went to Fedora.

17:08.120 --> 17:11.080
I mean, I'd say limiting is just that it didn't work for our use case.

17:11.080 --> 17:13.240
We needed less of appliance because we could both.

17:13.240 --> 17:15.960
We wanted to manage the server a little more interactively.

17:15.960 --> 17:19.080
And we just weren't that familiar with FreeNAS or FreeBSD.

17:19.080 --> 17:20.640
Yeah, we also wanted to take advantage

17:20.640 --> 17:22.640
of being able to run things from the command

17:22.640 --> 17:25.200
lines for testing for the show and setting up and spinning up

17:25.200 --> 17:26.560
things that are a little more cutting edge,

17:26.560 --> 17:29.160
that maybe there wouldn't be a pre-cut something for FreeNAS.

17:29.160 --> 17:30.360
I mean, we're Linux nerds.

17:30.360 --> 17:31.120
That's what we do.

17:31.120 --> 17:33.200
And then, honestly, we just wanted a Linux system.

17:33.200 --> 17:36.080
I would have gone Ubuntu LTS, probably, myself.

17:36.080 --> 17:37.440
But it didn't seem crazy.

17:37.440 --> 17:38.960
One of the first servers I ever set up

17:38.960 --> 17:41.080
when I was starting to make the transition from playing

17:41.080 --> 17:43.440
with Linux on my little laptop to like, oh, OK,

17:43.440 --> 17:45.240
I'm going to try this on the server.

17:45.240 --> 17:48.600
It was like Fedora, I don't know, it was like 14, 15,

17:48.600 --> 17:49.640
somewhere in that era.

17:49.640 --> 17:51.040
And it was a fantastic server.

17:51.040 --> 17:52.400
So I knew it could work.

17:52.400 --> 17:54.400
For a limited time, though, that was usually the concern.

17:54.400 --> 17:56.520
Yeah, I mean, I think I had that thing for a year or two at most.

17:56.520 --> 17:57.920
And I wasn't current on updates.

17:57.920 --> 17:59.120
And it's a lot of updates.

17:59.120 --> 18:00.000
It is a lot of updates.

18:00.000 --> 18:01.720
And that is something we had to deal with,

18:01.720 --> 18:04.080
which Arch will be the same way, is there

18:04.080 --> 18:06.680
was sometimes updates that would then break things

18:06.680 --> 18:08.440
like our ZFS support, momentarily.

18:08.440 --> 18:10.800
We are running a lot of out-of-tree modules

18:10.800 --> 18:11.640
relative to most servers.

18:11.640 --> 18:16.600
WireGuard, ZFS, to just name a couple of really critical ones.

18:16.600 --> 18:20.480
And that was a bit of a struggle,

18:20.480 --> 18:21.720
although not insurmountable.

18:21.720 --> 18:25.880
But it did cause probably one outage in total.

18:25.880 --> 18:27.840
Well, you know, one something.

18:27.840 --> 18:30.680
And I think we sort of found that while we liked Fedora,

18:30.680 --> 18:33.000
there was a lot going on that we appreciated.

18:33.000 --> 18:36.800
It was almost too complicated, too ready for the enterprise,

18:36.800 --> 18:38.240
if I'm allowed to use that phrase,

18:38.240 --> 18:40.960
because there were just a lot of systems in place for good reason

18:40.960 --> 18:43.360
that you would want and that were well-configured,

18:43.360 --> 18:47.200
but that we just didn't need in our tiny server use

18:47.200 --> 18:48.160
case here in the studio.

18:48.160 --> 18:50.680
But end result was we were very, very happy with Fedora.

18:50.680 --> 18:53.840
And we're very much considering, because of that,

18:53.840 --> 18:58.240
going with CentOS 8 or CentOS 8 Stream

18:58.240 --> 19:01.160
and then just loading ZFS support into that.

19:01.160 --> 19:02.960
However, we got talking about this

19:02.960 --> 19:05.320
from kind of like a philosophical standpoint.

19:05.320 --> 19:09.080
And we realized this is something

19:09.080 --> 19:13.120
that we have an opportunity to kind of try and maybe bust

19:13.120 --> 19:14.640
a myth here on the show.

19:14.640 --> 19:17.120
We are the Linux Unplugged Mythbusters

19:17.120 --> 19:19.520
because we have a theory.

19:19.520 --> 19:21.560
And that theory goes that if you were

19:21.560 --> 19:24.840
to build a minimum viable Linux server,

19:24.840 --> 19:28.440
or another way to put it is just enough Linux,

19:28.440 --> 19:33.680
so the system boots and launches containered applications

19:33.680 --> 19:35.920
and really does almost nothing else.

19:35.920 --> 19:36.440
Right.

19:36.440 --> 19:37.360
I mean, it might make me think of some

19:37.360 --> 19:39.360
of those container-specific distributions.

19:39.360 --> 19:41.360
And we're not going that far, because we still kind of want

19:41.360 --> 19:42.600
all of our usual tools.

19:42.600 --> 19:43.080
Yeah.

19:43.080 --> 19:44.120
We go a little bit further, because we

19:44.120 --> 19:47.120
install things like NetData and Samba on the host system.

19:47.120 --> 19:49.480
But I think our base install is still well under a gig.

19:49.480 --> 19:52.160
It's a very minimal Linux install, very few things

19:52.160 --> 19:53.040
are running.

19:53.040 --> 19:56.040
And we wanted something that was everything was off by default.

19:56.040 --> 19:57.880
And what we turn on incrementally

19:57.880 --> 20:00.360
is all that's running with all the other functionality

20:00.360 --> 20:02.240
provided by applications and containers that

20:02.240 --> 20:04.600
are divorced from the host operating system.

20:04.600 --> 20:05.480
That was our theory.

20:05.480 --> 20:08.280
And we thought, well, in these conditions,

20:08.280 --> 20:11.800
if we could come up with a belt and suspenders approach

20:11.800 --> 20:14.200
to running Arch, it would probably

20:14.200 --> 20:15.800
be a viable server platform.

20:15.800 --> 20:17.840
I mean, we are both familiar with Arch,

20:17.840 --> 20:19.120
have run it many times.

20:19.120 --> 20:21.600
And I think we nailed it.

20:21.600 --> 20:25.000
So I'll tell you what our belt and suspender was as we go here,

20:25.000 --> 20:26.880
because I think you're going to like this.

20:26.880 --> 20:30.920
But I first want to start, I want to set the scene.

20:30.920 --> 20:33.560
I didn't know exactly how Wes planned to pull this off,

20:33.560 --> 20:34.360
because here we are.

20:34.360 --> 20:35.960
We have a Fedora 30 box.

20:35.960 --> 20:37.240
It's in production.

20:37.240 --> 20:39.240
We've set an evening aside with the team.

20:39.240 --> 20:43.160
Hey, this thing's going to be offline for a couple of hours.

20:43.160 --> 20:45.520
We weren't clear on that one.

20:45.520 --> 20:48.520
More like six hours, but we'll get to that.

20:48.520 --> 20:50.960
But I didn't exactly know how Wes

20:50.960 --> 20:52.840
was going to accomplish this.

20:52.840 --> 20:56.160
So I was delighted to learn exactly how

20:56.160 --> 21:00.320
we were going to install Arch on top of this existing Fedora

21:00.320 --> 21:01.200
instance.

21:01.200 --> 21:03.400
Wes Payne has decided the best way

21:03.400 --> 21:06.320
to load Arch Linux on our server is

21:06.320 --> 21:08.720
to boot with an Ubuntu thumb drive.

21:08.720 --> 21:09.480
Yeah, that's right.

21:09.480 --> 21:12.180
I mean, Ubuntu is just a reliable operating system.

21:12.180 --> 21:13.480
Why not use it to install Arch?

21:13.480 --> 21:16.360
You get a GUI and everything.

21:16.360 --> 21:19.360
And I'd just like to point out that the Arch install scripts

21:19.360 --> 21:21.180
are packaged in the Ubuntu repository,

21:21.180 --> 21:23.080
so it couldn't be easier.

21:23.080 --> 21:24.560
Oh, I didn't realize that.

21:24.560 --> 21:25.920
That's really cool.

21:25.920 --> 21:26.560
OK.

21:26.560 --> 21:27.960
So we've got the thumb drive.

21:27.960 --> 21:29.500
We've done a lot of the preliminary.

21:29.500 --> 21:30.540
So go ahead and fire it up.

21:30.540 --> 21:32.920
We've done some backups.

21:32.920 --> 21:35.400
We've exported the ZFS pool.

21:35.400 --> 21:37.760
We shut down the Docker containers.

21:37.760 --> 21:39.520
We're going to do one more export just

21:39.520 --> 21:42.640
to make sure everything's nice and clean of the ZFS pool.

21:42.640 --> 21:45.560
But job one now will be to boot off of this Ubuntu thumb

21:45.560 --> 21:49.520
drive and create an Arch Chirrut environment.

21:49.520 --> 21:51.080
So these Arch install scripts, they're

21:51.080 --> 21:52.400
in the Ubuntu universe repo.

21:52.400 --> 21:54.280
So you've got to turn on the universe repo.

21:54.280 --> 21:55.720
But what is this?

21:55.720 --> 21:57.560
Is this some sort of backdoor way

21:57.560 --> 21:59.040
to get Arch on an Ubuntu system?

21:59.040 --> 21:59.880
Yeah, oh, yeah.

21:59.880 --> 22:02.500
Well, I mean, really, it's just the minimal tools

22:02.500 --> 22:05.200
that the Arch team has written to help

22:05.200 --> 22:08.200
aid you in the install, things like Arch Chirrut or Pack

22:08.200 --> 22:12.160
Strap, just a few utilities that can get things up and running,

22:12.160 --> 22:14.840
or like GenFSTab, the handy tool to make you

22:14.840 --> 22:15.880
an FSTab entry.

22:15.880 --> 22:17.520
Yes, that was really nice.

22:17.520 --> 22:20.800
And most of them, I mean, they just need the core Unix tools,

22:20.800 --> 22:22.880
all the stuff you would get in core utils.

22:22.880 --> 22:25.560
So that was fun, because I was really surprised to see that.

22:25.560 --> 22:28.920
And it was great, since it supported all of our hardware,

22:28.920 --> 22:31.520
including the ZFS disk.

22:31.520 --> 22:34.540
And we, of course, had to struggle a little bit,

22:34.540 --> 22:35.440
because it's a server.

22:35.440 --> 22:37.280
It's a super micro system, so it doesn't

22:37.280 --> 22:38.800
have a very fancy graphics card.

22:38.800 --> 22:41.000
But we managed to get that figured out by just going

22:41.000 --> 22:42.000
into safe graphics mode.

22:42.000 --> 22:44.440
And then it was off to the races and time

22:44.440 --> 22:45.800
to destroy some data.

22:45.800 --> 22:50.600
We're up and running in Ubuntu safe graphics mode.

22:50.600 --> 22:52.960
And Wes was pretty clever in choosing 1910,

22:52.960 --> 22:55.440
because it supports ZFS automatically.

22:55.440 --> 22:56.800
So that was really nice.

22:56.800 --> 22:58.680
And we've already made the drastic step

22:58.680 --> 23:00.720
of wiping out the partitions.

23:00.720 --> 23:03.600
And Wes is currently in the process of creating new ones.

23:03.600 --> 23:05.840
We're doing a really simple layout.

23:05.840 --> 23:08.560
The host drive will be ButterFS.

23:08.560 --> 23:11.120
The storage array is ZFS.

23:11.120 --> 23:15.680
So we are doing a Butter ZFS hybrid arch install.

23:15.680 --> 23:17.560
We'll explain more about that.

23:17.560 --> 23:19.080
There we go.

23:19.080 --> 23:21.880
That's our three simple partitions.

23:21.880 --> 23:23.480
Have you written it to the disk yet?

23:23.480 --> 23:24.440
No, not yet.

23:24.440 --> 23:25.240
Are we ready?

23:25.240 --> 23:26.400
Let's do it.

23:26.400 --> 23:29.200
There's no turning back now.

23:29.200 --> 23:30.320
OK.

23:30.320 --> 23:31.720
I didn't give you much notice.

23:31.720 --> 23:33.800
There was no time for you to say wait.

23:33.800 --> 23:35.960
You were just like, well, you were just ready to go.

23:35.960 --> 23:37.880
I had my finger hovering over the keyboard.

23:37.880 --> 23:39.240
You know, it's cold out there.

23:39.240 --> 23:41.160
Because this is Pacific Northwest.

23:41.160 --> 23:42.840
I didn't have the most dexterity.

23:42.840 --> 23:44.400
No, and it's a cold garage.

23:44.400 --> 23:46.040
I mean data center.

23:46.040 --> 23:48.760
So I thought this would be kind of fun

23:48.760 --> 23:50.560
to just talk about on the show for a moment.

23:50.560 --> 23:52.760
How about a hybrid arch file server

23:52.760 --> 23:58.040
that's ButterFS on the OS disk and ZFS on the data disk?

23:58.040 --> 23:58.720
Radical.

23:58.720 --> 24:02.080
The further we got into this setup, the more I love it.

24:02.080 --> 24:04.440
And I think this is how I'm doing my workstation setups

24:04.440 --> 24:05.400
from now on too.

24:05.400 --> 24:07.860
And it really kind of comes down to how you set up the sub

24:07.860 --> 24:10.080
volumes for that belt and suspenders approach

24:10.080 --> 24:13.200
I was talking about.

24:13.200 --> 24:14.280
Alex, right?

24:14.280 --> 24:16.400
OK, so we've done a simple disk layout.

24:16.400 --> 24:18.600
But inside that simple disk layout,

24:18.600 --> 24:22.200
we've created a series of ButterFS sub volumes.

24:22.200 --> 24:24.840
Can you give us a quick rundown?

24:24.840 --> 24:27.520
Well, we'd like the ability to take snapshots considering

24:27.520 --> 24:29.640
we're installing arch here.

24:29.640 --> 24:32.640
Down the road, some packages may go wrong.

24:32.640 --> 24:34.760
And therefore, we've got a root sub volume.

24:34.760 --> 24:36.060
And we're also going to have some data stored

24:36.060 --> 24:37.060
under the home partition.

24:37.060 --> 24:39.960
Maybe some of our Docker setup or other configuration.

24:39.960 --> 24:42.240
And we'd like that at probably a different cadence.

24:42.240 --> 24:45.720
We might integrate snapshots of the root file system

24:45.720 --> 24:48.000
with the package manager, or perhaps on a daily cadence

24:48.000 --> 24:49.160
and want something different for home.

24:49.160 --> 24:50.320
So we've got those separate.

24:50.320 --> 24:53.240
And then we've actually got a totally separate boot partition

24:53.240 --> 24:55.320
that we can take snapshots of as well.

24:55.320 --> 24:58.040
I'm really looking forward to experimenting

24:58.040 --> 25:01.400
with integrating snapshots into Pac-Man.

25:01.400 --> 25:04.500
So before and after Pac-Man actions,

25:04.500 --> 25:05.880
we do a pre and post snapshot.

25:05.880 --> 25:07.560
We'll talk more about that in a little bit.

25:07.560 --> 25:09.720
So we just got done setting up those sub volumes that

25:09.720 --> 25:11.920
will enable that flexibility once the system's up

25:11.920 --> 25:12.640
and running.

25:12.640 --> 25:15.440
Now we've got to get them mounted and chroot inside.

25:15.440 --> 25:17.280
Now, we should probably mention right here,

25:17.280 --> 25:19.040
so that way we avoid confusion.

25:19.040 --> 25:20.400
Later we decided it would probably

25:20.400 --> 25:22.600
be better to actually have slash boot as part of root.

25:22.600 --> 25:25.160
Right, once we invested a little more in some of the tooling,

25:25.160 --> 25:27.280
we'll talk about we realized it just made more sense

25:27.280 --> 25:28.320
to do it that way.

25:28.320 --> 25:30.880
But it's a flexible setup, and it wasn't much work to change.

25:30.880 --> 25:33.360
Yeah, and this is great because, and we'll

25:33.360 --> 25:36.000
have a link to the wrappers that let you do this,

25:36.000 --> 25:38.120
but this is great because it lets

25:38.120 --> 25:41.080
you have an automated system that

25:41.080 --> 25:44.320
will take a complete snapshot before a package action

25:44.320 --> 25:47.840
and after, much like Sousa does, but for Pac-Man.

25:47.840 --> 25:50.040
That's right, we didn't have to switch distributions.

25:50.040 --> 25:53.200
And there is a way to extend that into Grub

25:53.200 --> 25:57.120
so it also creates completely bootable snapshot

25:57.120 --> 25:58.160
environments.

25:58.160 --> 26:01.000
So we can just, from Grub, choose a previous environment

26:01.000 --> 26:04.560
and boot completely into it and revert all of the changes that

26:04.560 --> 26:05.600
happened on the system.

26:05.600 --> 26:06.880
And that's really what we want here, right?

26:06.880 --> 26:08.520
I mean, if an update goes wrong, we're

26:08.520 --> 26:10.600
trying to stay on top of our updates for security

26:10.600 --> 26:12.120
and features.

26:12.120 --> 26:13.800
We want the ability to easily roll back

26:13.800 --> 26:16.680
if we don't have time to deal with any issues right now.

26:16.680 --> 26:20.160
Yeah, and to kind of get that boot environment

26:20.160 --> 26:22.720
thing working and the Pac-Man integration,

26:22.720 --> 26:24.720
that's where it was sort of necessary,

26:24.720 --> 26:28.360
just because of some of the assumptions the tools make,

26:28.360 --> 26:30.440
that's where it was sort of necessary to have boot

26:30.440 --> 26:32.000
on the root file system.

26:32.000 --> 26:33.840
And it kind of makes sense, too, to have

26:33.840 --> 26:36.320
snapshots sort of integrated so we have a full snapshot of,

26:36.320 --> 26:38.120
basically, everything we need for the system,

26:38.120 --> 26:40.640
especially the way, by default, how Arch does kernels

26:40.640 --> 26:42.440
as compared to, say, Ubuntu with a whole bunch of versions

26:42.440 --> 26:43.120
laying around.

26:43.120 --> 26:45.720
Yeah, and that's why Home is its own subvolume,

26:45.720 --> 26:47.880
so we can snapshot that independently.

26:47.880 --> 26:49.280
So that's kind of nice.

26:49.280 --> 26:52.560
And then all of the data and the container data and all of that

26:52.560 --> 26:54.120
is living on ZFS.

26:54.120 --> 26:58.160
So you could completely just unplug the OS drive

26:58.160 --> 27:01.760
and plug in a new OS and then just re-import the ZFS pool,

27:01.760 --> 27:03.840
which is kind of essentially what we did.

27:03.840 --> 27:06.960
But we hadn't actually truited and booted into it yet.

27:06.960 --> 27:09.080
So once we got all the subvolumes created,

27:09.080 --> 27:13.440
Wes used our setup scripts and set up an environment.

27:13.440 --> 27:15.160
And we went through and configured FSTab

27:15.160 --> 27:15.960
and generated that.

27:15.960 --> 27:18.680
Arch has also got a handy little bootstrap tarball image

27:18.680 --> 27:20.960
you can download that has basically everything you need.

27:20.960 --> 27:22.000
It really was great.

27:22.000 --> 27:24.320
It was really nice to go through this process again

27:24.320 --> 27:27.200
and really just understand how clean the setup is

27:27.200 --> 27:28.120
on the server.

27:28.120 --> 27:30.240
I've never installed Arch with someone else before,

27:30.240 --> 27:31.240
so that was kind of fun, too.

27:31.240 --> 27:31.720
It was fun.

27:31.720 --> 27:32.480
I haven't either.

27:32.480 --> 27:33.680
It actually was a lot of fun.

27:33.680 --> 27:34.680
We installed it together.

27:34.680 --> 27:36.640
And our favorite part, I think, was doing FDIS,

27:36.640 --> 27:39.240
because that's old school and setting all those up

27:39.240 --> 27:41.160
and deciding what the volumes are going to be

27:41.160 --> 27:42.160
and how to lay that out.

27:42.160 --> 27:43.840
That's fun to do with somebody else.

27:43.840 --> 27:46.600
But then there's that moment where

27:46.600 --> 27:49.180
you got a reboot from the host Ubuntu system,

27:49.180 --> 27:53.000
and you have to boot into your handcrafted Arch environment.

27:53.000 --> 27:53.840
Did we get it right?

27:53.840 --> 27:54.840
Did we get it right?

27:54.840 --> 27:56.560
Will it actually boot?

27:56.560 --> 28:00.480
We've done everything on the checklist, so far as I can tell.

28:00.480 --> 28:04.000
But I mean, can you ever really know until you push the button?

28:04.000 --> 28:05.120
No, we just got to find out.

28:05.120 --> 28:07.640
So here we go.

28:07.640 --> 28:12.400
This will be a nice, lean, mean, just enough Linux installation

28:12.400 --> 28:14.320
if all goes as planned.

28:14.320 --> 28:16.320
But I don't know.

28:16.320 --> 28:17.960
Something about this first boot, it's

28:17.960 --> 28:20.920
always like the most special.

28:20.920 --> 28:25.640
I made some sous vide pork shoulder this weekend, you know?

28:25.640 --> 28:28.880
I thought you were going to say something about this.

28:28.880 --> 28:29.600
You did, huh?

28:29.600 --> 28:30.280
That's funny.

28:30.280 --> 28:31.680
We just picked up some pork shoulder,

28:31.680 --> 28:33.200
and we are planning to sous vide it.

28:33.200 --> 28:34.800
How'd it go?

28:34.800 --> 28:35.520
Amazing.

28:35.520 --> 28:37.120
Amazing.

28:37.120 --> 28:39.560
Sous vide tips with Wes Payne.

28:39.560 --> 28:40.480
All right.

28:40.480 --> 28:43.760
Selecting the built-in boot disk.

28:43.760 --> 28:44.560
Welcome to grub.

28:44.560 --> 28:47.200
We got grub.

28:47.200 --> 28:50.280
Monitor power save mode at the worst possible moment.

28:50.280 --> 28:52.240
Arch Linux grub option comes up.

28:52.240 --> 28:53.240
Hit it, Wes.

28:53.240 --> 28:54.320
Boom.

28:54.320 --> 28:55.840
Loading Linux Linux.

28:55.840 --> 28:58.920
Ha, ha, ha, ha, ha, ha, ha, ha, ha, ha, ha, ha, ha, ha, ha, ha.

28:58.920 --> 29:00.440
Those little, large details.

29:00.440 --> 29:01.320
Yeah.

29:01.320 --> 29:04.160
Aka the default configuration for all software.

29:04.160 --> 29:05.120
Yeah.

29:05.120 --> 29:06.400
OK.

29:06.400 --> 29:07.920
System D is starting up.

29:07.920 --> 29:10.720
Version 2.44.

29:10.720 --> 29:13.840
This is getting pretty far.

29:13.840 --> 29:16.480
I'm feeling pretty good about our potential.

29:16.480 --> 29:19.240
Oh, yeah, our ZFS array is lighting up.

29:19.240 --> 29:22.400
Look at that.

29:22.400 --> 29:24.180
And we're at the boot, just like that.

29:24.180 --> 29:25.440
We're done.

29:25.440 --> 29:26.560
Any thoughts, guesses?

29:26.560 --> 29:28.280
Do you think ZFS is going to load?

29:28.280 --> 29:28.760
I do.

29:28.760 --> 29:31.160
Because those disks lit up, I think it's going to work.

29:31.160 --> 29:32.440
Go ahead and hit it.

29:32.440 --> 29:33.320
Let's see.

29:33.320 --> 29:34.920
A little mod probe ZFS.

29:34.920 --> 29:36.440
No problem.

29:36.440 --> 29:37.800
There it goes.

29:37.800 --> 29:39.000
So that'll just scan it.

29:39.000 --> 29:42.040
Now we've seen it, and we can actually import it fully

29:42.040 --> 29:44.320
online.

29:44.320 --> 29:46.960
I think the next step is to set up SSH on this thing,

29:46.960 --> 29:48.840
and we get ourselves out of this cold garage.

29:48.840 --> 29:49.840
I mean, server room.

29:49.840 --> 29:52.840
And we set this up from the comfort of the studio.

29:52.840 --> 29:54.320
That's a great idea.

29:54.320 --> 29:58.280
I think in our rush to get out of the cold garage,

29:58.280 --> 30:01.580
we may have made a slight mistake.

30:01.580 --> 30:04.160
We did not unplug the thumb drive

30:04.160 --> 30:05.280
from the back of the server.

30:05.280 --> 30:05.800
No.

30:05.800 --> 30:08.640
You know, Ubuntu, in fairness, which I always complain about,

30:08.640 --> 30:11.040
but it hopefully prompts you that you should do that.

30:11.040 --> 30:12.040
Yeah.

30:12.040 --> 30:12.960
We didn't listen.

30:12.960 --> 30:15.380
No, we just want to get the heck out of there.

30:15.380 --> 30:19.120
And then we also, during our setup,

30:19.120 --> 30:23.000
because we were really just enjoying the simplicity of things,

30:23.000 --> 30:25.600
we made a decision for simplicity that ended up

30:25.600 --> 30:29.520
costing us several hours, maybe two and a half hours,

30:29.520 --> 30:32.200
if I'm being generous, of time.

30:32.200 --> 30:34.440
Once we went back in the living room,

30:34.440 --> 30:35.840
we were troubleshooting this issue

30:35.840 --> 30:37.960
where we would fire up all of the containers,

30:37.960 --> 30:39.200
and everything would start.

30:39.200 --> 30:41.880
They would know nothing in the logs was weird,

30:41.880 --> 30:44.160
but none of them could communicate with the network.

30:44.160 --> 30:45.600
But at first, it wasn't even none.

30:45.600 --> 30:46.840
You know, there were a couple that wouldn't work.

30:46.840 --> 30:47.320
Oh, yeah, right.

30:47.320 --> 30:48.520
So it wasn't like it was a total failure.

30:48.520 --> 30:50.200
It wasn't obvious, because a couple did work.

30:50.200 --> 30:52.400
The containers were up, the ports were forwarded,

30:52.400 --> 30:54.560
but we couldn't get to all the surfaces.

30:54.560 --> 30:55.200
No.

30:55.200 --> 30:57.280
And it was simply because of a decision

30:57.280 --> 30:58.760
we had made hours earlier.

30:58.760 --> 31:00.880
But in the order of process, we hadn't

31:00.880 --> 31:03.160
realized we were making a critical decision that

31:03.160 --> 31:04.640
would affect us later on.

31:04.640 --> 31:07.680
Well, a couple of hours now in the living room of the studio,

31:07.680 --> 31:10.240
working from the couch, much more comfortable

31:10.240 --> 31:11.040
than the garage.

31:11.040 --> 31:13.720
But we ran into a couple of snags

31:13.720 --> 31:15.880
that we didn't quite expect, one which

31:15.880 --> 31:18.040
we'll tell you about in just a moment.

31:18.040 --> 31:20.160
But the one that we should probably warn you about,

31:20.160 --> 31:22.480
first of all, is some of the troubles

31:22.480 --> 31:26.480
we ran into with systemd networkd and how it interacts

31:26.480 --> 31:28.960
with Docker, which it's documented.

31:28.960 --> 31:33.880
We kind of probably could have, should have known about it,

31:33.880 --> 31:35.720
but just because of the kind of the way

31:35.720 --> 31:37.200
we built this thing up from the ground up,

31:37.200 --> 31:39.560
didn't really hit it until it was already an issue.

31:39.560 --> 31:42.080
Yeah, we were attracted to systemd networkd

31:42.080 --> 31:43.360
because it's so simple.

31:43.360 --> 31:46.040
You know, you make one file with like three lines,

31:46.040 --> 31:49.400
we have DHCP, there's one interface that we care about.

31:49.400 --> 31:50.600
It was easy.

31:50.600 --> 31:52.600
But then you have to start jumping through hoops

31:52.600 --> 31:54.000
to get it to ignore Docker.

31:54.000 --> 31:56.200
It tries to basically manage any interface it can

31:56.200 --> 32:01.000
get its hands on by default. We've just disabled it

32:01.000 --> 32:04.520
and are moving back to DHCP CD.

32:04.520 --> 32:05.880
Yeah, that'll work for now.

32:05.880 --> 32:08.880
And it means that our applications and the containers

32:08.880 --> 32:10.880
are spinning up successfully.

32:10.880 --> 32:12.640
And they're pretty much none the wiser.

32:12.640 --> 32:17.000
They have no idea that we just transitioned from Fedora

32:17.000 --> 32:20.200
to Arch and just turned them back on again.

32:20.200 --> 32:23.400
And the ZFS stuff seems to be working pretty well.

32:23.400 --> 32:26.400
Oh, except for that one thing.

32:26.400 --> 32:28.360
Yeah.

32:28.360 --> 32:31.160
So we had this kind of moment where

32:31.160 --> 32:33.960
we thought we gone done mess with stuff

32:33.960 --> 32:35.560
and we broke a couple of hard drives.

32:35.560 --> 32:37.160
We were expecting this to be easy, right?

32:37.160 --> 32:39.160
I mean, that was the whole point of the way

32:39.160 --> 32:41.160
we'd set the system up is just lift and shift.

32:41.160 --> 32:42.240
Right.

32:42.240 --> 32:45.240
But a couple of decisions we had made for simplicity

32:45.240 --> 32:46.240
had actually screwed us.

32:46.240 --> 32:50.320
Number one, the fact that we use DHCP for our server.

32:50.320 --> 32:55.600
However, we, and I have done this for, oh, wow, ever.

32:55.600 --> 32:57.120
I mean, a very long time.

32:57.120 --> 33:01.600
I set my servers via DHCP, but I do it with a reserved address.

33:01.600 --> 33:04.080
So everything's mapped to the Mac address.

33:04.080 --> 33:04.560
Right.

33:04.560 --> 33:07.160
We could just statically assign it and it would work just fine.

33:07.160 --> 33:09.040
But I've always preferred to do it that way.

33:09.040 --> 33:11.440
So that way, even remotely, I can change the IPs of systems.

33:11.440 --> 33:13.240
It centralizes your admin right there.

33:13.240 --> 33:14.320
Yeah.

33:14.320 --> 33:17.400
And we chose to use systemd networkd

33:17.400 --> 33:20.120
instead of just going with a straightforward DHCP client.

33:20.120 --> 33:21.920
And I mean, I'll take the fall for this one

33:21.920 --> 33:23.040
because I proposed it.

33:23.040 --> 33:26.480
I really like systemd networkd, at least in the other use

33:26.480 --> 33:27.560
cases I've used it for.

33:27.560 --> 33:30.040
I mean, the Linux-based router I have at my house,

33:30.040 --> 33:33.200
that's all powered basically by systemd networkd,

33:33.200 --> 33:35.520
but it also uses Nspon.

33:35.520 --> 33:41.420
So I've used systemd network with Nspon and Podman

33:41.420 --> 33:43.840
Now, when I think about it, not a ton with Docker.

33:43.840 --> 33:46.840
So I really hadn't encountered this issue before.

33:46.840 --> 33:48.960
It shows up as a new interface to systemd networkd.

33:48.960 --> 33:51.380
And it's like, oh, well, let me take care of that for you.

33:51.380 --> 33:54.040
And we have a lot of Docker interfaces.

33:54.040 --> 33:55.940
And one of those Docker containers

33:55.940 --> 33:57.480
is also managing WireGuard, which

33:57.480 --> 34:00.240
needs a whole bunch of more complications involved.

34:00.240 --> 34:03.760
So there are definitely ways you can tell systemd networkd,

34:03.760 --> 34:05.800
hey, don't manage this link.

34:05.800 --> 34:07.720
Make sure that forwarding works as we expect.

34:07.720 --> 34:09.280
But for our case, because we weren't

34:09.280 --> 34:11.920
using any of the features really of systemd networkd

34:11.920 --> 34:16.640
besides its DHCP support, DHCP CD works very well.

34:16.640 --> 34:20.280
And then there's that disk issue that I was implying there

34:20.280 --> 34:21.480
at the end of that clip.

34:21.480 --> 34:24.880
When we loaded up, it said, hey, the three disks are offline.

34:24.880 --> 34:29.200
And the system isn't that old, but it

34:29.200 --> 34:31.000
did get really hot in there over the summer

34:31.000 --> 34:32.040
despite our best efforts.

34:32.040 --> 34:32.920
And we looked at each other and we

34:32.920 --> 34:35.040
thought maybe powering this thing on and off again

34:35.040 --> 34:37.240
a few times popped some disks.

34:37.240 --> 34:40.160
It wasn't nearly that bad, though, was it?

34:40.160 --> 34:40.760
No.

34:40.760 --> 34:43.600
I mean, they're probably still old disks.

34:43.600 --> 34:45.280
And we should consider upgrading anyway.

34:45.280 --> 34:46.280
Yeah.

34:46.280 --> 34:47.200
But the pool's fine.

34:47.200 --> 34:48.120
The pool is fine.

34:48.120 --> 34:48.840
It is fine.

34:48.840 --> 34:50.000
All the disks are online.

34:50.000 --> 34:53.880
All 13 drives are actually operating.

34:53.880 --> 34:56.880
But I think in part was it because it thought, um.

34:56.880 --> 34:59.000
Well, so we were just going through this.

34:59.000 --> 35:01.080
It's not like we had a major plan

35:01.080 --> 35:02.960
or a giant sort of sophisticated write-up.

35:02.960 --> 35:03.460
Who us?

35:03.460 --> 35:03.960
Yeah.

35:03.960 --> 35:06.480
I mean, we may have done this as a sort of.

35:06.480 --> 35:08.440
We're the kind of guys that put Arch on the server, Wes.

35:08.440 --> 35:09.320
I think that's enough said.

35:09.320 --> 35:09.720
Right.

35:09.720 --> 35:11.320
And so normally when you're setting up ZFS,

35:11.320 --> 35:12.920
I'm normally sort of mapped out ahead,

35:12.920 --> 35:14.080
like how I'm going to shape the pool.

35:14.080 --> 35:15.920
But because we were just sort of importing a pool that already

35:15.920 --> 35:16.560
existed.

35:16.560 --> 35:17.520
Yeah, we inherited that.

35:17.520 --> 35:18.000
Right.

35:18.000 --> 35:20.440
And so we just popped over to the ZFS page on the Arch wiki

35:20.440 --> 35:22.840
and entered the first command that you saw.

35:22.840 --> 35:24.480
And it's like, oh, yeah, import the pool.

35:24.480 --> 35:25.560
That looks great.

35:25.560 --> 35:26.560
We did not remember.

35:26.560 --> 35:30.200
And I do usually like to do this is have ZFS use the disk IDs

35:30.200 --> 35:34.680
and not whatever SDX it happens to be assigned.

35:34.680 --> 35:38.640
And because we still had that USB drive plugged in,

35:38.640 --> 35:40.920
all of our drive names were shifted and messed up.

35:40.920 --> 35:41.640
Well, not all of them.

35:41.640 --> 35:45.040
The few that happened to be assigned after that device.

35:45.040 --> 35:47.680
So that's why it couldn't find the disks.

35:47.680 --> 35:50.520
Linux could see them, but they had new names to ZFS.

35:50.520 --> 35:53.040
Yeah.

35:53.040 --> 35:54.560
I was convinced.

35:54.560 --> 35:55.960
I was like, oh, man, we killed them.

35:55.960 --> 35:57.120
Like just turning them on and off.

35:57.120 --> 35:58.920
Because one of the things we thought we'd do

35:58.920 --> 36:00.960
is we'll do a full shutdown.

36:00.960 --> 36:02.000
We'll test this thing.

36:02.000 --> 36:03.680
We'll do a full power off and power on.

36:03.680 --> 36:05.800
And that's when we thought, let's then check the disk.

36:05.800 --> 36:07.800
And that's when we saw that, well, three of them

36:07.800 --> 36:09.120
are not responding.

36:09.120 --> 36:10.760
But thankfully, it was all resolved.

36:10.760 --> 36:11.000
Right.

36:11.000 --> 36:12.840
I mean, you just had to export and then re-import,

36:12.840 --> 36:14.880
telling it, like, hey, label these this way.

36:14.880 --> 36:16.400
ZFS is smart.

36:16.400 --> 36:19.520
And on the upside, it, of course, goes and re-checks,

36:19.520 --> 36:21.160
scrubs the data to make sure, like, oh,

36:21.160 --> 36:22.280
does this match up with what I think

36:22.280 --> 36:23.480
I should have for this disk?

36:23.480 --> 36:25.520
And add it back into the pool.

36:25.520 --> 36:27.640
It did find some checksum issues on the drive.

36:27.640 --> 36:29.160
So we do have some homework.

36:29.160 --> 36:29.640
Right.

36:29.640 --> 36:32.360
Yeah, it does turn out that perhaps it's a good thing

36:32.360 --> 36:35.080
we're using ZFS and that bit rot protection,

36:35.080 --> 36:38.360
because we do have some disks that are kicking airs.

36:38.360 --> 36:39.000
Oops.

36:39.000 --> 36:40.920
I mean, that's why you use something like ZFS

36:40.920 --> 36:42.400
for your important data, right?

36:42.400 --> 36:45.480
So now I'm feeling good about that decision.

36:45.480 --> 36:47.520
So going back to those belt and suspenders,

36:47.520 --> 36:50.680
we did decide to use Snapper from OpenSUSE, which

36:50.680 --> 36:53.840
is integrated in both as a snapshot that does a snapshot

36:53.840 --> 36:58.000
every single week, but also with a Pac-Man wrapper.

36:58.000 --> 37:00.760
And this is our kind of insurance.

37:00.760 --> 37:03.960
Even though it's a very, very simple base arch install

37:03.960 --> 37:07.040
that we'll just update once a week,

37:07.040 --> 37:10.720
this kind of integration with snapshots with ButterFS,

37:10.720 --> 37:14.040
which is baked into the Linux kernel, unlike ZFS,

37:14.040 --> 37:15.200
is our insurance policy.

37:15.200 --> 37:15.400
Right.

37:15.400 --> 37:16.280
So we should be clear, right?

37:16.280 --> 37:17.840
The ZFS pool is the existing pool

37:17.840 --> 37:20.520
we've inherited all the way from when the system originally

37:20.520 --> 37:21.760
ran FreeNAS.

37:21.760 --> 37:22.560
And that's great.

37:22.560 --> 37:25.040
It keeps our data safe, as we were just talking about.

37:25.040 --> 37:27.600
ButterFS we're just using on the one disk

37:27.600 --> 37:29.960
that we have that's actually sitting outside of the server

37:29.960 --> 37:31.960
case that we're running the OS on.

37:31.960 --> 37:34.200
And that's kind of played in this role, right?

37:34.200 --> 37:36.520
Basically, all of our data is on the pool,

37:36.520 --> 37:38.920
and we can mix and match OSes as we see fit.

37:38.920 --> 37:39.400
Yeah.

37:39.400 --> 37:41.320
The one thing we need to change is

37:41.320 --> 37:44.680
we need to get the Docker compose files off of the OS

37:44.680 --> 37:45.360
disk.

37:45.360 --> 37:46.160
Not a big deal.

37:46.160 --> 37:47.200
We have a backup of it.

37:47.200 --> 37:49.240
You know, I think we might just want to move the home partition

37:49.240 --> 37:50.080
over to the pool.

37:50.080 --> 37:50.680
Could.

37:50.680 --> 37:51.240
Totally could.

37:51.240 --> 37:53.040
Actually, that's a really interesting idea.

37:53.040 --> 37:56.020
That would be a good way to do that.

37:56.020 --> 37:59.240
I like having the separation of OS and data,

37:59.240 --> 38:02.040
though, because now we have, I think, really proven it

38:02.040 --> 38:02.800
three times over.

38:02.800 --> 38:06.840
We have gone, initially, this pool initially

38:06.840 --> 38:10.400
started inside of a FreeNAS mini.

38:10.400 --> 38:11.400
Right.

38:11.400 --> 38:14.040
An actual enclosure with four disks.

38:14.040 --> 38:15.620
And then Alan came along, and we said,

38:15.620 --> 38:17.360
let's turn this thing up to 11.

38:17.360 --> 38:19.440
And we got a super micro enclosure.

38:19.440 --> 38:20.280
Great recommendation.

38:20.280 --> 38:21.520
I mean, it's been a great server.

38:21.520 --> 38:22.240
Super solid.

38:22.240 --> 38:23.440
Really been nice.

38:23.440 --> 38:25.800
And took those disks in there, plus added all the way up

38:25.800 --> 38:29.360
to 13 disks total, and took that to a FreeNAS

38:29.360 --> 38:31.920
install on a super microchassis.

38:31.920 --> 38:34.140
And then we said, hey, you know what?

38:34.140 --> 38:35.340
Let's go crazy.

38:35.340 --> 38:37.160
What's the most ridiculous thing we could do?

38:37.160 --> 38:38.800
Let's put Fedora on here.

38:38.800 --> 38:40.320
That's when we put it on Fedora.

38:40.320 --> 38:42.000
And then we got to the end of that.

38:42.000 --> 38:43.640
We said, well, what's even crazier

38:43.640 --> 38:44.720
than Fedora in production?

38:44.720 --> 38:46.000
Let's put Arch on here.

38:46.000 --> 38:50.020
And this ZFS pool has moved every single time.

38:50.020 --> 38:52.480
I think we learned some stuff, too, about how we wanted to use

38:52.480 --> 38:54.120
the box along the way.

38:54.120 --> 38:56.400
Because when we switched over to Fedora,

38:56.400 --> 38:58.280
we talked about how we discovered that it

38:58.280 --> 39:00.120
was more useful to us.

39:00.120 --> 39:02.320
And I think that helped shape why pick Arch.

39:02.320 --> 39:05.480
Because it turns out we're doing everything in containers,

39:05.480 --> 39:07.880
besides cockpit and admin stuff.

39:07.880 --> 39:10.200
So we don't need a lot in the OS.

39:10.200 --> 39:10.960
Yeah.

39:10.960 --> 39:14.920
As a FreeNAS storage box, it was a storage appliance

39:14.920 --> 39:17.000
that we dumped files on.

39:17.000 --> 39:21.340
When we moved to Fedora, we expanded the applications

39:21.340 --> 39:22.300
that we could run on it.

39:22.300 --> 39:25.280
We really kind of started enjoying using the system.

39:25.280 --> 39:27.880
We realized, this thing's got 24 cores.

39:27.880 --> 39:28.920
This is insane.

39:28.920 --> 39:30.080
We can use this for encoding.

39:30.080 --> 39:32.360
It doesn't have to just be a file server.

39:32.360 --> 39:36.160
And it changed the way we use the hardware fundamentally.

39:36.160 --> 39:39.040
And so this go around, we had all

39:39.040 --> 39:41.680
of that kind of experience of, now, well, this is really,

39:41.680 --> 39:43.920
like you're saying, this is how we use the machine now.

39:43.920 --> 39:44.920
This is how we use it.

39:44.920 --> 39:48.680
And so this super simple core approach, I think,

39:48.680 --> 39:51.440
is the key to a long-term, sustainable Arch install.

39:51.440 --> 39:54.920
So we're going to set ourselves a reminder

39:54.920 --> 39:57.320
to check in on this box and let you know how it's doing.

39:57.320 --> 40:00.600
Because obviously, the real, like,

40:00.600 --> 40:02.400
I don't want to say proof in the pudding,

40:02.400 --> 40:04.320
because you know what I'm saying.

40:04.320 --> 40:05.240
You know what I'm saying.

40:05.240 --> 40:07.560
We suspect that you'll be curious to see how this is

40:07.560 --> 40:09.120
working out for us in six months.

40:09.120 --> 40:12.800
Well, yeah, because I can say it's been great for 24 hours.

40:12.800 --> 40:16.480
But the real proof will be in the long-term, I don't know,

40:16.480 --> 40:17.720
like six months from now.

40:17.720 --> 40:19.280
We'll talk about it after the show

40:19.280 --> 40:21.000
and figure out when's a good check-in date.

40:21.000 --> 40:22.640
Probably sooner than six months, because it

40:22.640 --> 40:24.440
could go all wrong in 90 days, for all I know.

40:24.440 --> 40:25.560
Right, we'll let you know.

40:25.560 --> 40:27.000
Yeah, it's a lot of updates.

40:27.000 --> 40:28.000
I mean, it's a lot.

40:28.000 --> 40:30.000
I've been very pleased with the tooling we've adopted.

40:30.000 --> 40:32.120
And that was part of the reason to choose ButterFS, right,

40:32.120 --> 40:34.920
is that, I mean, Canonical's working on things like ZSYS.

40:34.920 --> 40:38.400
But right now, OpenSUSE and the integration with Snapper

40:38.400 --> 40:40.520
and Yass, that's kind of the state of the art

40:40.520 --> 40:41.560
on the Linux side of things.

40:41.560 --> 40:45.480
I know the VSDs have very neat solutions here, too.

40:45.480 --> 40:47.200
We wanted that goodness.

40:47.200 --> 40:50.160
And using ButterFS, at least on our just single no raid

40:50.160 --> 40:55.440
or anything, right on the root drive, it's been so easy.

40:55.440 --> 40:57.840
I think I'll probably replicate that on my laptops.

40:57.840 --> 41:01.000
Any time we make a change, you run Pac-Man,

41:01.000 --> 41:02.720
and you get two snapshots before and after.

41:02.720 --> 41:05.920
I've been hard on ButterFS, Wes, but I'm not

41:05.920 --> 41:06.800
expecting a lot here.

41:06.800 --> 41:08.600
I'm not trying to do a RAID 6, or I'm not

41:08.600 --> 41:09.560
trying to do anything fancy.

41:09.560 --> 41:11.400
It's just a super simple one-disc install.

41:11.400 --> 41:13.680
We also don't care about the data.

41:13.680 --> 41:14.920
I mean, we care a little bit.

41:14.920 --> 41:16.920
Wes, I was trying to make that nice thing.

41:16.920 --> 41:17.400
Oh.

41:17.400 --> 41:18.720
I was trying to make that Chris says

41:18.720 --> 41:21.040
something nice about ButterFS, and you just are like, yeah.

41:21.040 --> 41:22.000
But it's also because you don't care

41:22.000 --> 41:23.800
about the data, which just sort of undercuts

41:23.800 --> 41:26.720
the whole sincerity of it.

41:26.720 --> 41:29.080
I want to talk about something that I think that

41:29.080 --> 41:32.120
was kind of our key to success, because this did end up

41:32.120 --> 41:34.120
going longer, but we kind of also

41:34.120 --> 41:36.160
knew when to call it a night.

41:36.160 --> 41:39.000
Because before we started, and credit goes to you, Wes,

41:39.000 --> 41:41.200
you said, all right, before we start,

41:41.200 --> 41:43.880
what's our benchmark of success?

41:43.880 --> 41:46.560
When have we successfully converted this thing

41:46.560 --> 41:48.320
to a production server again?

41:48.320 --> 41:50.080
And so we took a hot couple of minutes

41:50.080 --> 41:51.960
before we started deleting partitions,

41:51.960 --> 41:53.880
and we said to ourselves, all right,

41:53.880 --> 41:57.800
when it is capable of running all of the applications

41:57.800 --> 41:59.920
the current production server runs,

41:59.920 --> 42:03.680
when it is capable of supporting WireGuard connections

42:03.680 --> 42:04.960
with our existing keys.

42:04.960 --> 42:05.800
Yeah, that's pretty important.

42:05.800 --> 42:07.960
Because we didn't want to have to force all of the team to.

42:07.960 --> 42:09.440
We just got that working nicely.

42:09.440 --> 42:12.920
Yeah, we just got all their keys out there, and everybody.

42:12.920 --> 42:16.400
And also, we wanted to end with something

42:16.400 --> 42:19.640
that this system could do that the previous system couldn't

42:19.640 --> 42:20.280
do.

42:20.280 --> 42:25.400
And that was where we integrated Snapper with Grub, with Pac-Man,

42:25.400 --> 42:26.560
and on a weekly basis.

42:26.560 --> 42:27.880
And that was something I asked you,

42:27.880 --> 42:31.480
are we going to blow out all of our disk space

42:31.480 --> 42:32.640
by using snapshots?

42:32.640 --> 42:34.720
But I guess Snapper actually shipped with some pretty

42:34.720 --> 42:35.680
sensible defaults.

42:35.680 --> 42:38.600
Right, I mean, you can go adjust settings and tunings

42:38.600 --> 42:41.160
to say, how often should you take snapshots,

42:41.160 --> 42:43.360
and then how long should you let them hang around?

42:43.360 --> 42:44.760
And there's just some system D services

42:44.760 --> 42:47.960
that you can enable to set up the automatic prune job.

42:47.960 --> 42:48.720
Not so bad.

42:48.720 --> 42:50.320
And we thought, really, for something

42:50.320 --> 42:52.760
we're not using that often from at a base OS level,

42:52.760 --> 42:53.720
once a week is enough.

42:53.720 --> 42:54.560
Right, I mean, we've got.

42:54.560 --> 42:55.760
Plus every package transaction.

42:55.760 --> 42:56.200
That's it.

42:56.200 --> 42:58.600
That's the majority of system changes we'll be making.

42:58.600 --> 43:01.080
And then some snapshots around to capture anything else

43:01.080 --> 43:02.120
we might mess with.

43:02.120 --> 43:04.160
Configuration in Etsy, for example.

43:04.160 --> 43:07.080
Yeah, because it's, I mean, literally, it's NetData, Samba,

43:07.080 --> 43:07.680
and Cockpit.

43:07.680 --> 43:10.160
Those are the three applications we have installed.

43:10.160 --> 43:11.520
But it's just Admin stuff.

43:11.520 --> 43:15.000
I really consider SSH almost like part of the system, right?

43:15.000 --> 43:16.160
I really do.

43:16.160 --> 43:19.640
As far as we went out and installed something, Cockpit

43:19.640 --> 43:20.760
and NetData.

43:20.760 --> 43:22.840
Well, we have to install the SSH package.

43:22.840 --> 43:25.000
Yes, OK, fine, fine, all right.

43:25.000 --> 43:26.120
Yeah, OK, well, I'll count it.

43:26.120 --> 43:26.520
Four.

43:26.520 --> 43:27.400
We've installed four applications.

43:27.400 --> 43:28.440
But really, that's it.

43:28.440 --> 43:32.080
It's just Admin stuff we need on the box for ease of life stuff

43:32.080 --> 43:33.240
to monitor what's going on.

43:33.240 --> 43:36.600
It's truly a fundamentally simple system.

43:36.600 --> 43:38.200
There's nothing really all that fancy,

43:38.200 --> 43:42.000
other than the only kind of edge casey thing

43:42.000 --> 43:45.160
is the ZFS, DKMS stuff.

43:45.160 --> 43:47.320
And that's why I thought it was pretty important we

43:47.320 --> 43:49.480
didn't use ZFS on route.

43:49.480 --> 43:51.640
We went ButterFS, so that way, the system

43:51.640 --> 43:54.120
would at least boot if something went sideways.

43:54.120 --> 43:55.760
Yes, it's just simpler, right?

43:55.760 --> 43:58.120
Worst case, I mean, we still have some outage issues,

43:58.120 --> 43:59.800
because the applications don't come online.

43:59.800 --> 44:02.040
But we've got our environment set up

44:02.040 --> 44:04.160
to actually deal with that in an easy way.

44:04.160 --> 44:06.080
We can at least log into the machine

44:06.080 --> 44:09.360
and begin to troubleshoot and rebuild those DKMS modules

44:09.360 --> 44:10.600
and get the system back online.

44:10.600 --> 44:12.560
Something I'll need to find for the show notes,

44:12.560 --> 44:14.720
and this is a little reminder to myself here,

44:14.720 --> 44:15.960
there's a handy little script.

44:15.960 --> 44:17.880
Because we have Docker sitting on top of ZFS,

44:17.880 --> 44:19.800
which also made this so easy.

44:19.800 --> 44:22.080
Docker has a ZFS driver, and it meant

44:22.080 --> 44:24.320
that all the Docker stuff from our previous install

44:24.320 --> 44:25.480
was already on the pool.

44:25.480 --> 44:27.840
So once we loaded Docker back up on the system,

44:27.840 --> 44:30.120
it just found all of its old containers

44:30.120 --> 44:31.320
exactly like it needed.

44:31.320 --> 44:34.600
Yeah, it was just pick up and run.

44:34.600 --> 44:37.280
But as a result, you need your ZFS pool online

44:37.280 --> 44:38.800
before you can have your Docker game and start.

44:38.800 --> 44:40.520
So there is a handy little system D service

44:40.520 --> 44:42.120
that just sort of acts as a shim

44:42.120 --> 44:44.520
and doesn't start Docker until your ZFS pool

44:44.520 --> 44:45.480
is actually online.

44:45.480 --> 44:46.320
Oh, okay.

44:46.320 --> 44:48.640
And that's one thing we did not have on our Fedora setup.

44:48.640 --> 44:50.960
Yeah, no, that did cause problems.

44:50.960 --> 44:52.000
That did cause problems.

44:52.000 --> 44:54.600
So that's, I feel like, again,

44:54.600 --> 44:56.520
lessons learned on this build.

44:56.520 --> 44:57.760
And then taking what you and I know

44:57.760 --> 45:00.520
about managing Arch boxes and applying it to a server,

45:00.520 --> 45:01.360
I think we're pretty good.

45:01.360 --> 45:02.800
I will say when I got in this morning,

45:02.800 --> 45:05.640
I did run updates on the server, so.

45:05.640 --> 45:06.600
That's gonna be it.

45:06.600 --> 45:09.280
Like we talked about, do we wanna automate the updates?

45:09.280 --> 45:12.160
And we both decided, even with snapshots,

45:12.160 --> 45:15.720
probably not, both from like a storage use standpoint,

45:15.720 --> 45:20.160
but also just to be careful for a while

45:20.160 --> 45:21.520
with maybe something we'll try.

45:21.520 --> 45:22.920
Maybe if we get a few months into this

45:22.920 --> 45:24.680
and everything's fine, maybe we'll try it.

45:24.680 --> 45:27.000
There is the added benefit of if we have to do updates,

45:27.000 --> 45:28.520
we'll have to at least log into the system.

45:28.520 --> 45:31.760
And that's sort of an incentive to check around on things.

45:31.760 --> 45:33.480
I would like to know,

45:33.480 --> 45:36.040
I'm sure there must be other crazy pants people

45:36.040 --> 45:39.080
out in the audience that are running an Arch on a server.

45:39.080 --> 45:40.880
Have you automated the updates?

45:40.880 --> 45:41.720
Have you found a way,

45:41.720 --> 45:44.760
like can you have it like ping a Slack channel?

45:44.760 --> 45:45.600
What are you doing?

45:45.600 --> 45:47.400
How are you doing that part of it?

45:47.400 --> 45:49.880
I'd be curious if anyone's building custom Arch images

45:49.880 --> 45:52.200
out there too, cause that would be my approach probably

45:52.200 --> 45:54.400
is to set up a job to bake a new image

45:54.400 --> 45:56.560
and then just have the server reboot into it.

45:56.560 --> 45:57.400
Yeah, oh.

45:59.280 --> 46:00.120
So how would you, where would you,

46:00.120 --> 46:01.680
you would build that somewhere safe,

46:01.680 --> 46:03.960
test it and then deploy it to the box

46:03.960 --> 46:05.960
and then just say, next time you reboot,

46:05.960 --> 46:07.360
tell grub next time you boot,

46:07.360 --> 46:09.280
boot into this instance,

46:09.280 --> 46:12.360
like a partition that just the image gets expanded onto

46:12.360 --> 46:15.200
sort of using like your own home baked OS tree approach.

46:15.200 --> 46:16.160
Exactly.

46:16.160 --> 46:19.400
Huh, that's a lot of work to maintain one Arch box,

46:19.400 --> 46:20.840
but I could totally see the value

46:20.840 --> 46:23.520
if you had like a whole rack of them.

46:23.520 --> 46:25.240
Right, then you could get the testing would matter more

46:25.240 --> 46:27.160
and you'd really wanna be sure before you push down.

46:27.160 --> 46:31.000
Yeah, I feel like really almost something,

46:31.000 --> 46:34.680
just imagine, picture it West, Sicily, 1987.

46:35.920 --> 46:37.520
The Arch Day.

46:37.520 --> 46:39.800
Everybody knows, a Slack message comes in

46:39.800 --> 46:42.960
that says in 24 hours, I'm auto installing these packages.

46:44.920 --> 46:46.520
But of course by then there'd be more packages.

46:46.520 --> 46:49.320
There are tools that'll help scrape the Arch website,

46:49.320 --> 46:50.400
check for things.

46:50.400 --> 46:51.960
You can probably tie those things together.

46:51.960 --> 46:53.960
If there's not been a blog post since the last update

46:53.960 --> 46:55.920
on the Arch page, just install them,

46:55.920 --> 46:57.720
otherwise prompt for my approval.

46:57.720 --> 47:01.200
Somebody must have solved this, somebody must have.

47:01.200 --> 47:05.400
And so I thought I'd put the question out to the audience,

47:05.400 --> 47:07.400
linuxunplug.com slash contact,

47:07.400 --> 47:09.240
if this is something you've got an idea on how to solve.

47:09.240 --> 47:10.920
Just tell us the weird ways you're abusing Arch,

47:10.920 --> 47:11.760
that's what we wanna know.

47:11.760 --> 47:14.000
It's been a lot of fun, really enjoyed it.

47:14.000 --> 47:17.560
And I think if we had thought about the DHCP system,

47:17.560 --> 47:19.400
D network, D thing ahead of time.

47:19.400 --> 47:20.560
Yeah, it was just an instinct of like,

47:20.560 --> 47:22.480
the last time I used this tool, I liked it a lot,

47:22.480 --> 47:23.400
so why don't we use it?

47:23.400 --> 47:24.400
I think we would have had this thing

47:24.400 --> 47:25.640
in like two, three hours.

47:25.640 --> 47:28.240
Once that was done, really, the dream of just being able

47:28.240 --> 47:31.280
to move the containers over, it worked great.

47:31.280 --> 47:32.840
Yeah, it really was pretty awesome.

47:32.840 --> 47:34.520
I will say also, it was just,

47:34.520 --> 47:36.480
installing Arch is just a dream,

47:36.480 --> 47:39.800
and I love understanding all the pieces of the system.

47:39.800 --> 47:41.840
It does constantly give you moments of like,

47:41.840 --> 47:43.600
oh right, yep, gotta get that and that.

47:43.600 --> 47:44.800
But that's a good reminder

47:44.800 --> 47:46.760
of all the implicit dependencies you have

47:46.760 --> 47:48.920
on pieces of the other operating system.

47:48.920 --> 47:51.560
I think for you, ad user was a good example of that.

47:51.560 --> 47:54.120
I thought that was a,

47:54.120 --> 47:55.360
I didn't realize that was a Debian thing.

47:55.360 --> 47:56.400
I went to go ad user,

47:56.400 --> 47:57.920
and I'm like, what do you mean you don't have ad user?

47:57.920 --> 47:59.120
What is this?

47:59.120 --> 48:01.120
And you're like, it's in the AUR.

48:01.120 --> 48:03.160
I'm not installing it, it's fine.

48:03.160 --> 48:05.840
Also, nano?

48:05.840 --> 48:08.600
I mean, this is 2019.

48:08.600 --> 48:10.000
I think we're all civilized here.

48:10.000 --> 48:10.840
Let's install nano in the base image.

48:10.840 --> 48:13.200
I thought we agreed to just ship the S code instead.

48:13.200 --> 48:17.120
Or at least Vim, for heaven's sake.

48:17.120 --> 48:18.480
Please.

48:18.480 --> 48:21.080
Watching Wes try to use a system without Vim is painful.

48:21.080 --> 48:22.000
It's very painful.

48:22.000 --> 48:23.920
It's just, it's ingrained in my fingers.

48:23.920 --> 48:26.840
It's literally every single time he forgets.

48:26.840 --> 48:29.720
He never remembers that Vim is not installed.

48:29.720 --> 48:31.880
That's how I edit.

48:31.880 --> 48:36.280
All right, well, Richard wrote in on some Arch update tips.

48:36.280 --> 48:39.520
He says, you can slowly apply backpatches to Arch Linux

48:39.520 --> 48:42.240
and not apply months worth at a single time.

48:42.240 --> 48:45.960
If you edit a repo to a specific date, say two weeks out,

48:45.960 --> 48:47.560
then you can run the update against that.

48:47.560 --> 48:49.040
And he gives us an example,

48:49.040 --> 48:50.760
which we'll have linked in the show notes.

48:50.760 --> 48:52.640
After you set that, you save an exit

48:52.640 --> 48:54.400
and you update the system via Pac-Man.

48:54.400 --> 48:57.760
And it will only go back to that date range.

48:57.760 --> 48:59.400
This is clever.

48:59.400 --> 49:01.000
I never knew about this.

49:01.000 --> 49:02.680
No, and it makes sense though.

49:02.680 --> 49:03.920
You can, I mean, you'll still have breakage.

49:03.920 --> 49:05.000
You have to progress with the updates,

49:05.000 --> 49:06.760
but that should make it easier to deal

49:06.760 --> 49:08.240
with sort of one thing at a time.

49:08.240 --> 49:11.960
So you could go back and if you're six months back,

49:11.960 --> 49:14.320
you go all six, just one month at a time.

49:16.360 --> 49:18.280
Wow, he says, once you're caught up,

49:18.280 --> 49:21.360
restore your original pacman.com file to normal

49:21.360 --> 49:24.600
without the date ranges in there, and you're good to go.

49:24.600 --> 49:27.680
You just keep updating from there, from there forward.

49:27.680 --> 49:30.680
Also a note for the nervous updater,

49:30.680 --> 49:34.360
the program informant, which is in the AUR,

49:34.360 --> 49:36.040
prevents you from upgrading

49:36.040 --> 49:38.280
if there is a fresh Arch news item

49:38.280 --> 49:40.240
that you have not yet read

49:40.240 --> 49:42.560
since the last time you ran updates.

49:42.560 --> 49:45.760
You might want that for your Minjora box.

49:45.760 --> 49:48.520
His base Arch image is still

49:48.520 --> 49:51.360
from the Antigros install he did back during our

49:51.360 --> 49:56.360
Arch challenge, which was March 29th, 2016.

49:58.280 --> 49:59.120
Wow.

50:01.000 --> 50:03.360
And he's kept it running ever since.

50:03.360 --> 50:05.600
Let's hope that's the future of our server.

50:05.600 --> 50:06.760
No kidding.

50:06.760 --> 50:08.080
I mean, you and I were kind of joking.

50:08.080 --> 50:11.080
We were like, this took us about five hours or so,

50:11.080 --> 50:14.360
six, I don't know, whatever, to set up.

50:14.360 --> 50:17.560
But if we were the types to leave something

50:17.560 --> 50:19.680
and not fix something that isn't broken.

50:19.680 --> 50:20.520
Which, I mean, fingers crossed,

50:20.520 --> 50:22.720
maybe someday we'll become those people.

50:22.720 --> 50:24.400
This could be our forever install.

50:25.920 --> 50:27.240
It's our forever server, Wes.

50:27.240 --> 50:29.120
It could, I mean, I like it right now.

50:29.120 --> 50:31.680
Wes, we built a little forever server.

50:31.680 --> 50:35.600
And it's working, which there were moments when it wasn't.

50:35.600 --> 50:37.200
When we first started the containers

50:37.200 --> 50:38.360
and the networking wasn't working,

50:38.360 --> 50:40.160
I thought we had leaped too far,

50:40.160 --> 50:42.240
and I was legitimately concerned

50:42.240 --> 50:44.080
that I would never see my pillow again.

50:44.080 --> 50:45.840
But thankfully, we figured it out pretty quick

50:45.840 --> 50:47.680
while Wes figured it out, really.

50:47.680 --> 50:50.200
I read forum posts and suggested different things

50:50.200 --> 50:51.600
while Wes ignored me and fixed it.

50:51.600 --> 50:53.040
So that worked out pretty well.

50:53.040 --> 50:55.880
What matters is that we fixed it.

50:55.880 --> 50:56.960
Yeah, really.

50:56.960 --> 51:00.200
Anybody in the virtual lug there running Arch

51:00.200 --> 51:02.280
on their production system?

51:02.280 --> 51:04.480
Yep, been running it about since April now.

51:04.480 --> 51:05.320
Oh, really?

51:05.320 --> 51:06.800
On a server or on a workstation?

51:06.800 --> 51:11.160
It's on my XPS 13 and it's also running BusterFS, actually.

51:11.160 --> 51:12.160
I did it as a bit of an experiment

51:12.160 --> 51:13.280
and it's gone quite well.

51:13.280 --> 51:14.120
Oh.

51:14.120 --> 51:16.600
Yeah, I mean, if somebody installs a system on Arch,

51:16.600 --> 51:17.480
they've got to tell you about it.

51:17.480 --> 51:20.360
So that's why this podcast exists today.

51:20.360 --> 51:24.000
We are completing the circle of meme life right there.

51:24.000 --> 51:25.280
I acknowledge that.

51:25.280 --> 51:29.680
Brent, I know you're on Arch as your daily production system.

51:29.680 --> 51:31.800
What did you use for your VPS for WireGuard?

51:31.800 --> 51:34.760
That's something I have yet to solve.

51:34.760 --> 51:37.080
So I didn't actually get WireGuard working on my laptop

51:37.080 --> 51:40.080
because I made a subtle mistake when I installed it

51:40.080 --> 51:44.840
during the Antergos challenge that you gave a long time ago,

51:44.840 --> 51:48.480
which was to put too small of a system partition.

51:48.480 --> 51:52.920
So I'm having a hard time upgrading anything

51:52.920 --> 51:56.360
because I'm out of space there and it's a real disaster.

51:56.360 --> 51:59.360
So it didn't quite work for me.

51:59.360 --> 52:01.880
Oh, we could help with that.

52:01.880 --> 52:04.360
Because in this process, we realized

52:04.360 --> 52:08.120
that we had made boot its own dedicated two gigabyte

52:08.120 --> 52:11.200
partition and then realized, well, crap, we don't need that.

52:11.200 --> 52:12.920
It needs to be part of our root partition.

52:12.920 --> 52:16.000
And then like, what are we going to do with those two gigs?

52:16.000 --> 52:17.560
There are a lot of options.

52:17.560 --> 52:19.360
There's some fancy dancing you can do.

52:19.360 --> 52:21.120
As long as you're willing to wait for Gparted

52:21.120 --> 52:22.520
to drag bytes around.

52:22.520 --> 52:23.080
Yeah.

52:23.080 --> 52:24.200
Yeah.

52:24.200 --> 52:27.640
Well, I admit that my partition is also encrypted.

52:27.640 --> 52:29.520
So that should add an extra level of fun.

52:29.520 --> 52:30.440
Attaboy.

52:30.440 --> 52:32.720
Attaboy.

52:32.720 --> 52:34.880
Got to learn sometimes.

52:34.880 --> 52:37.520
Tell you what, we need to have a laptop support week where

52:37.520 --> 52:38.680
the three of us get together.

52:38.680 --> 52:41.480
I reload to Arch, you reload your box, Wes,

52:41.480 --> 52:44.160
and we help Brent out with his partitioning scheme.

52:44.160 --> 52:47.720
Alex really tried to help me do a fresh Arch install,

52:47.720 --> 52:49.600
and I didn't finish it.

52:49.600 --> 52:51.400
So sorry, Alex, but I'll get there.

52:51.400 --> 52:54.040
I'll get there.

52:54.040 --> 52:56.200
The problem is there's work to be done,

52:56.200 --> 52:57.960
and that system is functional.

52:57.960 --> 52:59.840
It's just tight on space, right?

52:59.840 --> 53:03.320
And hard to update, but it's still working.

53:03.320 --> 53:04.040
I've been there.

53:04.040 --> 53:07.120
Yeah, it sounds like you've been there.

53:07.120 --> 53:07.880
I've been there.

53:07.880 --> 53:10.380
I'm really hoping we don't put the server in that position.

53:10.380 --> 53:13.720
I feel like this minimum viable Linux thing, just enough Linux,

53:13.720 --> 53:15.800
is the key to success here.

53:15.800 --> 53:18.200
What are we going to update on that box that's going to break?

53:18.200 --> 53:19.000
There's not a lot.

53:19.000 --> 53:21.960
I mean, I think the biggest thing will be kernel updates,

53:21.960 --> 53:23.560
but we've got snapshots for that.

53:23.560 --> 53:26.040
Yep, and we can just boot into the old environment,

53:26.040 --> 53:28.640
or boot into the old kernel, or whatever,

53:28.640 --> 53:31.500
because the host operating system will still

53:31.500 --> 53:32.600
load regardless.

53:32.600 --> 53:35.960
And so from there, it's just minutes to resolve an issue.

53:35.960 --> 53:39.600
And I think both you and I felt a lot more comfortable managing

53:39.600 --> 53:41.560
a Linux box versus a FreeNAS box,

53:41.560 --> 53:43.120
simply because of this exact reason.

53:43.120 --> 53:45.760
If we have to SSH into the host, we're good to go.

53:45.760 --> 53:47.360
No problem, we're comfortable there.

53:47.360 --> 53:50.120
And it just lowers the debug cycle.

53:50.120 --> 53:52.560
It's not that we mind having to fix occasional problems,

53:52.560 --> 53:54.800
but if it's a 10-minute thing versus an hour thing,

53:54.800 --> 53:57.960
and it's a real server belt, it's not fast to boot up.

53:57.960 --> 54:00.500
So every time you have to mess with trying to reboot and test

54:00.500 --> 54:03.120
something, it's a long wait.

54:03.120 --> 54:05.280
Everything's slow on booting a server.

54:05.280 --> 54:06.960
But if you've already booted and you just need to test if you

54:06.960 --> 54:09.360
can load a module, that's fast.

54:09.360 --> 54:12.280
Yep, so we're going to do this so you don't have to.

54:12.280 --> 54:13.560
So don't do this at home.

54:13.560 --> 54:16.720
You should probably use Ubuntu LTS or CentOS or something.

54:16.720 --> 54:20.720
I think I am going to rebuild my router on Arch again.

54:20.720 --> 54:22.360
I know, I was thinking it'd be really nice to run those

54:22.360 --> 54:24.880
Raspberry Pi 4s with Arch.

54:24.880 --> 54:26.840
And A, you are.

54:26.840 --> 54:32.080
I appreciate Flatpak snaps and app images, and RPMs, and devs,

54:32.080 --> 54:34.840
and TARs, and all of that.

54:34.840 --> 54:38.640
But one package manager to rule it all, one package manager to

54:38.640 --> 54:42.680
install a package, to update my packages, just so nice.

54:42.680 --> 54:46.320
Like watching you, legitimately, I'm laughing at you hunt

54:46.320 --> 54:48.880
around on Microsoft's site trying to get the teams dab.

54:48.880 --> 54:53.120
Meanwhile, I've just, I literally try and dash S teams

54:53.120 --> 54:55.920
and just hit enter and it just goes out and installs it.

54:55.920 --> 54:58.440
And what I love about it is it's so simple, right?

54:58.440 --> 55:00.240
Like, I mean, you can have these complicated managers that

55:00.240 --> 55:03.720
do a lot for you, but at the same time, I mean,

55:03.720 --> 55:04.960
make packages, great.

55:04.960 --> 55:07.200
The package config files, you can mess with it.

55:07.200 --> 55:09.360
They even prompt you, do you want to make any changes to

55:09.360 --> 55:09.760
this thing?

55:09.760 --> 55:15.320
So it's so accessible because it's like radically simple.

55:15.320 --> 55:17.080
I think I'm going to enjoy that a lot.

55:17.080 --> 55:19.480
Anyways, we'll come back.

55:19.480 --> 55:21.840
If this blows up on our face, we'll tell you about it.

55:21.840 --> 55:22.600
Yeah, you'll hear about it.

55:22.600 --> 55:24.080
But we'll check back in.

55:24.080 --> 55:26.600
Obviously, we haven't determined the win yet, but

55:26.600 --> 55:28.000
we'll pow wow after the show.

55:28.000 --> 55:29.120
Maybe let us know.

55:29.120 --> 55:30.280
Yeah, let us know what you'd like.

55:30.280 --> 55:31.200
That's a great idea.

55:31.200 --> 55:34.080
Look at you, Wes, jupitabroadcasting.com slash telegram

55:34.080 --> 55:38.800
or linuxunplugged.com slash contact, like Richard did here

55:38.800 --> 55:42.560
with his update trick on setting the repo dates back.

55:42.560 --> 55:43.200
Brilliant.

55:43.200 --> 55:44.280
Thank you, Richard.

55:44.280 --> 55:46.400
Like I said, we'll have examples linked in the show

55:46.400 --> 55:49.320
notes if you want to check that out.

55:49.320 --> 55:51.400
Well, Mr. Payne, is there any other bits of business we need

55:51.400 --> 55:53.560
to attend to on today's Unplugged program?

55:53.560 --> 55:55.480
No, I mean, maybe I'll just update the server again real

55:55.480 --> 55:57.360
quick, I don't know.

55:57.360 --> 56:00.000
Yeah, it's like a fidget spinner.

56:00.000 --> 56:02.280
When you feel bored, you just go do a quick update on the

56:02.280 --> 56:02.880
old server.

56:02.880 --> 56:05.280
We already got a snapper update this morning.

56:05.280 --> 56:06.840
Did we really?

56:06.840 --> 56:08.040
Wow, look at that.

56:08.040 --> 56:08.720
Isn't that funny?

56:08.720 --> 56:10.520
Something that's really kind of you think of as an

56:10.520 --> 56:12.040
openSUSE thing.

56:12.040 --> 56:14.240
And here we are all the way over here in

56:14.240 --> 56:15.040
arch land using it.

56:15.040 --> 56:16.160
I just love open source.

56:16.160 --> 56:20.120
Hopefully that update didn't break our update protection.

56:20.120 --> 56:22.520
Guess we'll find out.

56:22.520 --> 56:24.360
All right, well, we're going to wrap it up there.

56:24.360 --> 56:26.200
You know, it is getting towards the end of the year, so that

56:26.200 --> 56:27.680
means our predictions episode.

56:27.680 --> 56:29.560
We've got some special stuff planned.

56:29.560 --> 56:32.000
So please join us live, because there's so much more

56:32.000 --> 56:33.600
to participate in.

56:33.600 --> 56:36.560
But also just sit back and enjoy probably a whole other

56:36.560 --> 56:38.520
show's worth over at jblive.tv.

56:38.520 --> 56:41.240
We do it on a Tuesday at noon Pacific.

56:41.240 --> 56:42.240
You get that converted over at

56:42.240 --> 56:45.920
jupiterbroadcasting.com slash calendar.

56:45.920 --> 56:48.240
I'm also going to give a personal plug to my buddies

56:48.240 --> 56:49.760
over at User Air.

56:49.760 --> 56:51.240
Latest episode was so great.

56:51.240 --> 56:52.080
So funny.

56:52.080 --> 56:53.360
User Air is so fun.

56:53.360 --> 56:55.560
Check it out, air.show, really, really great.

56:55.560 --> 56:59.000
And Brent, another fantastic branch with Mr. Popey over at

56:59.000 --> 57:02.920
extras.show and Westpain over at techsnap.systems.

57:02.920 --> 57:05.560
And this here humble podcast will be right back here next

57:05.560 --> 57:06.080
Tuesday.

57:06.080 --> 57:35.600
Whoa.

57:36.080 --> 57:49.120
You know, Wes, no matter how much we disclaim that people should not do this at home, we're

57:49.120 --> 57:52.600
going to get a lot of crap for installing Arch on a server.

57:52.600 --> 57:57.160
I mean, I think our lawyers advised us to read a long legal spiel about liability.

57:57.160 --> 58:02.200
The Linux Unplugged program does not endorse running your home server on a rolling distribution.

58:02.200 --> 58:06.680
And will not be held liable for any package upgrades that fail.

58:06.680 --> 58:11.240
That'd be really funny if we actually were in that situation, and also horrible.

58:11.240 --> 58:15.640
We will fix your server, but it's $500 an hour.

58:15.640 --> 58:20.440
Oh, yeah, a little side biz right there, a little side hustle.

58:20.440 --> 58:21.720
Thank you, Mumble Room, for being here today.

58:21.720 --> 58:25.160
I really do appreciate everybody showing up at the new time.

58:25.160 --> 58:26.160
It's still kind of new.

58:26.160 --> 58:27.160
Thank you for joining us.

58:27.160 --> 58:28.160
It's still new to us.

58:28.160 --> 58:29.160
Very new.

58:29.160 --> 58:32.160
So, very much a big thank you for being here.

58:32.160 --> 58:33.440
Appreciate you guys.

58:33.440 --> 58:35.000
And appreciate you live streamers, too.

58:35.000 --> 58:36.000
Man, you know what?

58:36.000 --> 58:37.000
It's so much fun live.

58:37.000 --> 58:39.920
While I'm thinking about it, Wes, you know who else I appreciate?

58:39.920 --> 58:42.240
People who download the podcast, too.

58:42.240 --> 58:43.240
Yeah.

58:43.240 --> 58:44.240
You.

58:44.240 --> 58:45.400
Appreciate you.

58:45.400 --> 59:02.640
Not Joe Razington, though.

