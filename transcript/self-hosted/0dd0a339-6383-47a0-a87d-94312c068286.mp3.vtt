WEBVTT

00:00.000 --> 00:06.480
episode 42 the title can mean only one thing yes it is a hitchhiker's guide to the galaxy reference

00:06.480 --> 00:09.520
oh and i didn't bring my towel oh well don't panic

00:12.000 --> 00:16.800
chris in the badger mornings all right let's go let's go let's get up or whatever you happen

00:16.800 --> 00:22.160
to listen to it i guess on self-hosted dot show oh we're bringing that back are we okay cool

00:23.360 --> 00:28.240
i'm going in with this i love this we are the week i think you and i would have a great a.m

00:28.240 --> 00:33.600
morning show we need to lean into that a bit more yeah we do we'd be doing the traffic on the 15s

00:33.600 --> 00:39.600
and uh we'd also be taking people's tech questions and uh discussing the news of the day and we'd

00:39.600 --> 00:44.720
have a movie review segment and a tv review segment i know you're going to give us a uh

00:44.720 --> 00:52.960
surprise tv review later in the show yeah i might have interrupted an interview with

00:52.960 --> 01:00.000
an impromptu movie review yes it just makes me laugh i love it alex but you know i think

01:00.000 --> 01:05.440
we'd have a great morning show and we'd have our friends on right like we'd call alan on and we'd

01:05.440 --> 01:10.880
give him a hard time about freebsd that'd be pretty great yes that would be rather awkward

01:10.880 --> 01:15.280
at the moment wouldn't it yeah yeah we'd ask him if he's got wire guard set up so that way we could

01:15.280 --> 01:21.760
do we could do it over at wire guard uh we should put a link in the show notes so people don't know

01:21.760 --> 01:27.120
what we're talking about oh yeah quick too long didn't read wire guard nearly got merged into the

01:27.120 --> 01:32.160
bsd kernel and the code was of questionable quality so if you have any questions about that

01:32.160 --> 01:37.280
there is a link in the show notes to jim salter's ars technica breakdown of this you will probably

01:37.280 --> 01:44.720
come away rather salty with bsd just full warning so um yeah enjoy that but in the meantime i want

01:44.720 --> 01:50.240
to say thanks to a cloud guru for sponsoring this here episode they are the learning in cloud linux

01:50.240 --> 01:54.960
and other modern tech skills hundreds of courses and thousands of hands-on labs get certified get

01:54.960 --> 02:01.200
hired get learning at a cloud guru dot com but speaking of that post over at ars technica you

02:01.200 --> 02:08.400
also had a new post over at ars technica and this is a brilliant one how to achieve smart home

02:08.400 --> 02:14.640
nirvana or home automation without a subscription also very clever were you stuck between two titles

02:14.640 --> 02:20.560
alex and congratulations also on your first post at ars technica thank you yes that was rather a

02:20.560 --> 02:25.760
life box ticked last week it was a war of two titles wasn't it it was actually i was working

02:25.760 --> 02:30.960
with their editors and they had about six titles to choose from so we ended up picking two halves

02:30.960 --> 02:34.720
of two different titles that didn't belong together and then kind of like munging them

02:34.720 --> 02:39.360
together wow could you imagine having people like help us come up with titles like you and i like

02:39.360 --> 02:43.120
have to like call each other up after the show and be like what are we going to call this one

02:43.120 --> 02:47.840
we completely forget we walk away and don't even title the show we do yeah all the time

02:49.680 --> 02:54.960
hey so did you see in the news this week that nvidia have finally seen sense and unlocked their

02:54.960 --> 03:00.080
gpu drivers for pass-through i did see this in the news i didn't go too far into it because i

03:00.080 --> 03:06.080
figured i'd pick your brain this must be a shot in the arm for virtualization i'd say so yeah

03:06.080 --> 03:11.680
to recap you know the high level of why this is a big deal nvidia previously locked down their

03:11.680 --> 03:20.080
consumer graphics cards from being air quotes supported are on gpu pass-through so they would

03:20.080 --> 03:26.640
show an error code 43 an infamous error code 43 in the windows device manager rather than loading

03:26.640 --> 03:31.440
and just working as normal so what you would have to do is hide the fact that the vm was running as

03:31.440 --> 03:38.640
a vm from the vm which has some minor performance implications uh only only minor and but what this

03:38.640 --> 03:43.680
does from from nvidia is it basically says yeah okay guys cool go ahead and take our consumer

03:43.680 --> 03:49.440
level graphics cards pass them through to you know guests and do gaming and what have you and

03:49.440 --> 03:53.520
you know go nuts i don't even know if i have a rig to try this on these days alex have you

03:53.520 --> 03:58.160
had a chance to try this i don't actually run pass-through very much these days uh i ended up

03:59.120 --> 04:05.440
basically giving up because you you and i talked about this a long time ago on linux unplug 308

04:05.440 --> 04:10.320
and we talked about all the different rigmarole that surrounds pci pass-through and all of that

04:10.320 --> 04:15.520
still applies even with this nvidia news all of that still applies um so you're going to need a

04:15.520 --> 04:19.840
way of switching your monitor inputs of switching your keyboard and mouse inputs and all that kind

04:19.840 --> 04:26.320
of stuff and i have 144 hertz gaming monitor in front of me here and trying to find a kvm switch

04:26.320 --> 04:32.160
that can support that and thunderbolt from my macbook pro it it just it's just a pain in the

04:32.160 --> 04:37.920
bum so i ended up uh just dual booting these days you know i when i want to do some windows

04:37.920 --> 04:44.080
stuff i reboot and when i want to do some linux stuff i reboot and it's it's it's fine it's a bit

04:44.080 --> 04:48.160
of a pain but it's fine so yeah there is a line where you have to go how much is it worth

04:48.160 --> 04:54.160
virtualizing versus just dual booting i i totally get that that's a line i don't really often cross

04:54.160 --> 04:59.440
like i'm legitimately at a loss of of even i don't know why i'd install windows right now i don't

04:59.440 --> 05:05.040
think i've i don't think i've installed windows i definitely haven't installed it in 2021 and i

05:05.040 --> 05:11.840
don't know if i installed it i must have at least installed it once in 2020 but maybe that was it

05:11.840 --> 05:17.040
i really have over the years just sort of i'm not this is not a brag i just it's because i have in

05:17.040 --> 05:21.280
other places used max for special tools that other people probably would have used a windows box so

05:21.280 --> 05:26.640
it's not like i have some superpower but it's just i have over the times just kind of migrated

05:26.640 --> 05:32.800
completely away from windows yeah the only things i really use it for is fusion 360 so 3d modeling

05:32.800 --> 05:37.360
for my my printing stuff which i can also do on the mac as well so i don't really need windows

05:37.360 --> 05:43.440
there i use it for blue iris as we often talk about on a separate system i could see that

05:43.440 --> 05:49.040
in terms of the desktop yeah i mean vs code takes care of a lot of my coding stuff wsl

05:50.000 --> 05:55.280
2 takes care of a lot of the ssh type stuff and the new windows terminal is actually quite nice

05:55.280 --> 06:00.560
so i mean i spend a lot more time in windows than i think i admit to myself these days even though

06:00.560 --> 06:04.800
it doesn't really feel like windows anymore because they've basically shoehorned linux onto

06:04.800 --> 06:10.480
the side of it okay i feel like there's also an elephant in the room this week you and i have

06:11.200 --> 06:17.520
talked about ubiquity gear a bit on this show and they have been in the news in a bad way some

06:17.520 --> 06:25.920
serious security potential leaks i guess according to someone that brian krebs spoke to on his blog

06:25.920 --> 06:31.680
he writes that a cyber criminal gained administrative access to ubiquity's aws databases via stolen

06:31.680 --> 06:36.640
credentials uh perhaps like an employee's last pass account it looks like and then got root

06:36.640 --> 06:43.040
admin access that's what they say to the aws accounts s3 buckets application logs secrets

06:43.040 --> 06:50.160
for single sign-on cookies all databases including databases that include user credentials

06:51.520 --> 06:56.960
there's even according to some people who've come forward supposedly been backdoor software that

06:56.960 --> 07:02.960
they found that ubiquity it staff found um that the the situation is so serious that certain people

07:02.960 --> 07:08.400
have been fired there's there's a lot going on and i'm wondering how you feel somebody who's

07:08.400 --> 07:13.040
i think running a fair amount of their gear i certainly am yeah i have three access points

07:13.040 --> 07:18.560
in this house i have uh half a dozen that i manage in england for my family across two or three

07:18.560 --> 07:24.720
different you know houses and you know that from that perspective having a centralized controller

07:24.720 --> 07:32.160
where all of these devices talk back to that runs on linode is is for me very convenient and so far

07:32.160 --> 07:37.120
as i understand it anyway there is no risk to people who self-host the unify controller

07:37.120 --> 07:41.760
right if however you're running one of their cloud keys or a dream machine or something that requires

07:41.760 --> 07:48.400
you to authenticate with their cloud you may well want to change some passwords and possibly even

07:48.400 --> 07:55.120
consider you know not using ubiquity stuff in that manner anymore because you know the manner of the

07:55.120 --> 08:02.720
breach was that an employee's aws s3 bucket key was compromised so yeah we have to assume that

08:02.720 --> 08:08.240
the attackers got access to everything stored passwords i mean they won't may well be hashed

08:08.240 --> 08:15.440
and salted but we can break passwords with enough compute you know um application logs databases

08:16.000 --> 08:22.800
uh database credentials all of that stuff that's in there even just ip ip records it's all bad it's

08:22.800 --> 08:28.320
all really bad alex and that's kind of where i was going with this is i quietly for the last couple

08:28.320 --> 08:35.440
of years have been progressively more and more disappointed with ubiquity while my friends like

08:35.440 --> 08:40.240
you and others around me have seemed pretty solid with them i've been wondering if things haven't

08:40.240 --> 08:45.200
been getting a little sour i don't feel like their latest batch of products have been that solid

08:45.920 --> 08:50.320
i have not liked some of their answers around the controller limitations uh and some of their

08:50.320 --> 08:55.920
solutions and it just seemed like a power grab in some circumstances and it seems like this is an

08:55.920 --> 09:02.080
indication that not all is well in hq the qa has for sure been declining you know there's been

09:02.080 --> 09:06.960
several firmware upgrades for the actual ap's themselves as well as the controller software

09:06.960 --> 09:12.800
that have nuked people's databases and history and stuff like that so i wonder if maybe just some

09:12.800 --> 09:17.440
original people left the company a while ago and it's been in decline or if their prioritization

09:17.440 --> 09:22.400
has changed but where do you go to like what what do you change to well i actually asked jim on

09:22.400 --> 09:27.760
twitter what he thought and he's been recommending there's a bunch of tp link devices and uh tom

09:27.760 --> 09:32.640
from lawrence systems just got a bunch in to review on youtube so if you're interested in some

09:32.640 --> 09:37.200
ubiquity alternatives they are out there but i'll tell you what worries me the most about this

09:37.200 --> 09:42.320
breach it's not necessarily that it happened because unfortunately these things are going to

09:42.320 --> 09:50.560
happen at some point to every company what matters more is how a company responds and ubiquity is

09:50.560 --> 09:57.520
and ubiquity tried to basically cover this up they didn't deny i suppose is more accurate they

09:57.520 --> 10:04.800
didn't deny these claims and it took them several days more than a week to admit responsibility and

10:05.440 --> 10:11.840
basically inform their user base that some of their stuff might be boned yeah and on top of

10:11.840 --> 10:16.800
that it seems like it's taken some insiders to come out and leak information to well-known people

10:16.800 --> 10:21.920
like krebs to get the complete picture which is disappointing yeah i think i think you just hit

10:21.920 --> 10:26.640
the nail on the head there is disappointing i mean ubiquity made their name through

10:27.840 --> 10:34.720
basically making people realize how crappy consumer grade gear is and uh you know they're

10:34.720 --> 10:41.360
providing cisco grade ideas and hardware for consumer sort of grade prices but with these

10:41.360 --> 10:47.200
kinds of breaches and and behavior as a company i'm i'm struggling i mean the access point that

10:47.200 --> 10:53.280
i'm looking at behind my monitor here i first installed into a house that i lived three houses

10:53.280 --> 10:59.440
ago uh six six seven years ago and it's it's not mr b it still works perfectly it's had all the

10:59.440 --> 11:03.760
firmware updates and that kind of stuff but there was that one issue with the controller a few months

11:03.760 --> 11:09.280
ago where i ended up having to completely rebuild my unify controller because of poor software qa

11:09.280 --> 11:14.240
it's critical infrastructure in my house okay it's not a hotel it's not a commercial setting

11:14.240 --> 11:19.040
where a lot of people do deploy unify gear into but if it happens to me it's going to happen to

11:19.040 --> 11:24.560
those people as well and it only takes one or two or three incidents before your your brand name is

11:24.560 --> 11:30.960
completely trashed and people are already talking about just going back to consumer grade stuff like

11:30.960 --> 11:37.760
mesh networks like aero and you know all these other you know not as technically accomplished

11:37.760 --> 11:43.920
solutions that have you know poe backhaul and stuff like that in favor of something that is

11:43.920 --> 11:49.920
possibly even more leaky because it requires more cloud connectivity i don't know uh what's

11:49.920 --> 11:54.640
the solution i'm probably just going to wait and see how this turns out for the next six months

11:54.640 --> 12:00.240
but my next ap will probably not be a unify one wouldn't it be something if the community stepped

12:00.240 --> 12:06.640
forward and built something that we could flash again mesh networks be amazing oh it'd be cool i

12:06.640 --> 12:12.400
tell you what if somehow we could open these devices up these unify devices we all already

12:12.400 --> 12:19.280
have and then put like a tasmota style completely divorcing ourselves of unify of ubiquity sorry

12:20.240 --> 12:24.720
you know own the hardware i keep banging on about this don't i but own the hardware it's

12:24.720 --> 12:28.960
not dependent on a cloud service then it does seem like that is exactly what we need it's

12:28.960 --> 12:35.280
something we could reflash and load a common os on that has a common set of standards and interfaces

12:35.280 --> 12:40.480
and a web ui like you used to do with the old linksys routers you know those things are still

12:40.480 --> 12:45.680
being sold today those old linksys routers open wrt yeah we just need a newer version of that

12:45.680 --> 12:50.960
something more powerful with different hardware options essentially like the ubiquity options

12:50.960 --> 12:57.040
because you're right it's you need something that for folks that want to run poe and and then you

12:57.040 --> 13:01.760
know plug a plug a ap at the end of a barn somewhere at the end of a building somewhere

13:01.760 --> 13:05.920
and they can only run one cable like you got to have something for that solution i think your

13:05.920 --> 13:09.840
use case too where you've got several buildings and you want to manage all of the ap's with one

13:09.840 --> 13:17.600
interface is also totally legitimate and extremely common it's so useful when my dad rings me up and

13:17.600 --> 13:22.240
he's like oh my wi-fi is not working in the bedroom i can go in and see the ap has dropped

13:22.240 --> 13:27.120
from gigabit down to megabit for example and i can oh we just need to reboot the the ap and

13:27.120 --> 13:30.720
and we're good to go but there's a way to do that alex you know and get that central

13:30.720 --> 13:34.640
dashboard i know you don't use it much but uh something we should talk about at some point on

13:34.640 --> 13:39.680
the show i maybe is cockpit one of the things i appreciate about cockpit is they have come up with

13:39.680 --> 13:46.560
a way to allow you to manage multiple servers you go you can go to one ui though log into one one

13:46.560 --> 13:51.360
web server and you can you can select all your servers and manage them and it has to be set up

13:51.360 --> 13:54.640
in a special way and there's some security precautions you have to take but it's it's a

13:54.640 --> 13:59.440
very secure setup and so maybe something like that could be done i don't know maybe somebody

13:59.440 --> 14:06.080
out there in the community knows maybe so i found out this week that a device i purchased nearly two

14:06.080 --> 14:13.040
years ago on some black friday sale you know i i bought it thinking oh yeah this is this is going

14:13.040 --> 14:18.640
to solve all my problems with my fans because um quite often when you buy a server grade motherboard

14:18.640 --> 14:25.360
the fan control headers are designed for server grade fans which spin at crazy high rpms and draw

14:25.360 --> 14:30.800
crazy amounts of of current and stuff like that and so when you put a consumer grade fan on one

14:30.800 --> 14:34.960
of these motherboards it kind of goes uh ramps up and then ramps down and ramps up and ramps down

14:34.960 --> 14:39.760
because it's not getting enough of a signal to think it's got enough rpms anyway it's this whole

14:39.760 --> 14:45.120
thing so i bought this device called the corsair commander pro plugs into a usb header on the

14:45.120 --> 14:52.160
motherboard controls led lighting it controls um fans and uh has some temperature probes attached

14:52.160 --> 14:59.520
to it but the downside was this device was windows only to my surprise and absolute delight six

14:59.520 --> 15:04.800
months ago this device has been added to the linux kernel there's been a driver added to the

15:04.800 --> 15:12.400
linux kernel so you can now natively control fans via a usb header on linux i love it when that

15:12.400 --> 15:17.120
happens yeah and you're always surprised like my little thing the little thing that i care about

15:17.120 --> 15:22.000
that's coming that's always the best feeling so i wrote a small blog post about it it doesn't

15:22.000 --> 15:30.400
require an awful lot of elbow grease to get set up but you do need to have the 5.9 or later kernel

15:31.040 --> 15:34.400
and then you need to make sure you've got lm sensors installed and then there's a couple

15:34.400 --> 15:38.160
of other instructions in the blog post about how you configure the pwm profiles

15:38.720 --> 15:43.200
and then once you've done that you just enable the fan control service i mean i'm using a very

15:43.200 --> 15:50.560
tiny tiny little archvm on my esxi host it's i think it's using 256 megs of ram for example

15:50.560 --> 15:55.360
and four gigabytes of disk perfect use case for arch because i don't want anything else

15:55.360 --> 16:03.120
and i want a modern kernel and and that's exactly what arch gives me there lino.com slash ssh go

16:03.120 --> 16:08.320
there to get 100 and 68 credit towards a new account and of course you support the show 100

16:09.280 --> 16:14.640
and that's a lot you can really try out linode and you support the self-hosted podcast that's

16:14.640 --> 16:19.280
like a win-win for everybody linode is our cloud server provider when we're building or

16:19.280 --> 16:23.840
any any kind of testing that we're doing we do it on linode and because the price is so great

16:23.840 --> 16:28.400
it makes it possible for a small team to have killer infrastructure that's one of the things

16:28.400 --> 16:35.840
that i feel like is our secret sauce here at jb is we we can have access to infrastructure that is

16:35.840 --> 16:41.360
crazy fast 11 data centers around the world really fast network connections really fast machines

16:41.360 --> 16:47.200
their dedicated cpu rigs have those amd epic cpus in them and they have been independently

16:47.200 --> 16:52.080
verified as some of the fastest cpus in cloud computing but one of the things i think that's

16:52.080 --> 16:56.800
great about them is when i'm building or testing something they have a ton of distributions to

16:56.800 --> 17:01.040
choose from basically all the distributions you'd want to deploy and even some i'm not sure you'd

17:01.040 --> 17:06.800
want to deploy in production arch but are there and i extremely appreciate that but what i what

17:06.800 --> 17:11.440
i really get about linode is their love for linux that's what got them into this that's why they

17:11.440 --> 17:17.760
started in 2003 is because they were in love with the technology itself they saw where it was going

17:17.760 --> 17:22.880
what virtualization was going to bring to the market and so they got in before aws or anyone

17:22.880 --> 17:30.720
else they started so long ago and yet they don't do like a million things they're not like a bookstore

17:30.720 --> 17:37.600
and a movie platform they really just focus on doing the absolute best cloud computing possible

17:37.600 --> 17:42.000
and they're independently owned even today and they're dedicated to offering the best virtualized

17:42.000 --> 17:47.600
cloud computing if it runs on linux it runs on linode also check a link on our show notes we'll

17:47.600 --> 17:53.120
have a link to their top docs talk that's right top docs talk and they have one about the benefits

17:53.120 --> 17:58.320
of using infrastructure as code and you know that's something we're big fans of so check in

17:58.320 --> 18:05.200
the notes for that linode.com slash ssh go there support the show get 100 in 60 day credit and of

18:05.200 --> 18:13.440
course check out all the features of linode linode.com slash ssh well a few weeks ago i

18:13.440 --> 18:19.760
promised something along the lines of a self-hosted community deep dive you know every so often we're

18:19.760 --> 18:23.760
going to have somebody from the self-hosted community come on and chat with us and sort of

18:23.760 --> 18:30.560
talk about the apps they run why they run them you know what they what they wish that they set up did

18:30.560 --> 18:35.280
that it doesn't currently do and a lot of hopefully discussions about why they made some of

18:35.280 --> 18:40.400
the decisions that they made hopefully it'll be an interesting portal into some of our community

18:40.400 --> 18:47.040
members for you and the first volunteer or the first glutton for punishment is the orange one

18:47.040 --> 18:51.840
from our discord server hey jake how you doing hi yeah i think i feel like maybe the correct term

18:51.840 --> 18:58.960
for this is victim um yes yes yes but yeah no it's it's great it's great to be here it's

18:58.960 --> 19:02.640
it's gonna be good well it's been interesting trying to schedule three different people in

19:02.640 --> 19:07.520
three different time zones so thank you for joining us at i think what is 10 30 p.m uk time

19:08.160 --> 19:13.840
yeah it's 10 30 i've got to be up in nine hours for another seven and a half hours of work that

19:13.840 --> 19:20.240
used to be your life alex yeah pre-dad life huh sleep is a distant memory all right so why don't

19:20.240 --> 19:25.360
we dive in with the first question then and let's talk a little bit about your hardware setup so

19:25.360 --> 19:29.920
specifically talking about the stuff you have at home and things like that talk us through some of

19:29.920 --> 19:36.400
the stuff you've got there most of my setup is at at home the sort of self-hosting life is very much

19:36.400 --> 19:44.400
i run everything on on my lan sort of as normal um most of my setup is a single uh single machine

19:44.400 --> 19:53.360
because running things over the network is a bit a bit funky my main rig is a ryzen uh 3000 series

19:53.360 --> 20:00.560
3700x is the sort of beating heart of it yeah various other parts it runs proxmox because

20:01.360 --> 20:06.240
virtual machines are great do you use vms for a lot of stuff because i know you're into sort of

20:06.240 --> 20:12.400
the one big vm we often have this discussion on discord about the one big vm versus lots of smaller

20:12.400 --> 20:17.760
like lxc containers and docker containers and things like that what's uh what's your philosophy

20:17.760 --> 20:23.280
on that if i'm running a hypervisor with vms i'd rather not do that i'd rather have sort of

20:24.080 --> 20:30.400
everything nicely containerized to fully uh take advantage of vms in their sort of

20:31.120 --> 20:38.560
natural habitat of what they're good for so i think my setup is currently six vms or so spread

20:38.560 --> 20:45.440
most of the different uses there is still one single lxc container which runs docker which has

20:45.440 --> 20:52.720
most of my docker applications in there's probably 10 or so containers running under that besides

20:52.720 --> 21:00.000
that i've got a separate one for um my monitoring applications that would be prometheus again your

21:00.000 --> 21:08.400
advice grafana i've got a separate vm for home assistant which runs home assistant os couple

21:08.400 --> 21:14.720
other ones one which deals with uh ingress coming into my house which is an interesting setup

21:14.720 --> 21:21.040
because i'm sure we'll touch on later and yeah various other little things the other place i've

21:21.040 --> 21:29.360
diverted away from what you've previously done is i've also moved the storage out of the one

21:29.360 --> 21:34.560
big vm and so storage is handled directly on the host why is that then the main reason for that is

21:34.560 --> 21:42.320
i tried running true nas in a vm and it it installed great it i could access all my files

21:42.320 --> 21:50.240
the issue was that performance was horrible absolutely horrible um i just got latency spikes

21:50.240 --> 21:58.320
everywhere next cloud ground to halt uh sq lite over nfs is a really really bad time i don't

21:58.320 --> 22:02.960
recommend it to anyone so talk us through that a little bit more than you know uh performance was

22:02.960 --> 22:09.120
was bad were you passing through a disk controller to that vm or or what were you doing so from some

22:09.120 --> 22:14.880
advice i got from i'm sorry i can't remember who it was on the self-hosted discord uh suggested

22:14.880 --> 22:24.400
using uh an lsi xba that xba i then passed in through regular pci pass through into true nas

22:25.200 --> 22:34.720
from there uh regular mounted a very small two drive zfs pool exposed via true nas's built-in

22:34.720 --> 22:43.440
nfs sharing which was super easy to do which is great mounted that as normal through etsy fs tab

22:43.440 --> 22:49.120
and then from there just pointing my docker containers at it as if it was a directory

22:49.920 --> 22:55.760
in that container thing because it was running entirely over the internal network inside the

22:55.760 --> 23:03.280
machine latency wise it was absolutely tiny you're talking like fractions of milliseconds but for

23:03.280 --> 23:08.320
some unknown reason it didn't like it now that might be because i went a little bit insane and

23:08.320 --> 23:15.440
decided to run true nas scale rather than true nas directly so this may be a performance regression

23:15.440 --> 23:22.400
with true nas scale because at the time i ran it was in alpha and we know full well don't run alpha

23:22.400 --> 23:29.680
software but i did anyway just to try it is scale the bsd one and core is is the linux one or is it

23:29.680 --> 23:34.560
the way around i can never remember other way around so scale is the linuxy one which at the

23:34.560 --> 23:43.040
time was in alpha so i tried it it didn't work great yes i have some thoughts on bsd this week

23:43.040 --> 23:50.480
after the whole wire guard kernel merge thing but let's let's not derail your yeah that that's not

23:50.480 --> 23:57.680
a fun discussion it's all embarrassing after i tried scale out it it didn't work too well for

23:57.680 --> 24:05.280
me and i didn't want to try uh porting over to the actual core version of true nas because

24:06.160 --> 24:11.760
keeping going with that process it meant i had to deal with issues where that one storage vm as it

24:11.760 --> 24:18.480
were would have to stay up and alive sort of all the time and if i needed to reboot that machine

24:18.480 --> 24:25.280
that vm even i would have to reboot sort of everything in the entire machine which felt a bit

24:25.280 --> 24:31.840
like a faff and eventually i concluded well if i want high performance i want things to be easy

24:31.840 --> 24:39.200
then if i move the storage on to the actual host hypervisor under proxmox proxmox has built-in

24:39.200 --> 24:46.640
support for zfs because the os is on zfs so just works it means latency is nice and low and because

24:46.640 --> 24:53.280
the majority of my applications live in lxc there's the nice benefit of rather than using

24:53.280 --> 25:00.480
nfs to mount all of my data i can use bind mounts and bind mounts are you have no network latency

25:00.480 --> 25:05.840
because it's just passing directories into containers in much the same way that you give

25:05.840 --> 25:12.640
bind mounts to docker containers there's no extra latency extra overhead extra complexity

25:13.360 --> 25:18.560
around that it just works so sounds like a lot of a lot of different application uses and it

25:18.560 --> 25:24.880
sounds like you have a pretty distinct line between what is a container and what should be a vm when

25:24.880 --> 25:29.680
i see complexity like this i start to wonder like what's your backup strategy looking like

25:29.680 --> 25:38.400
my backup strategy at the moment is on that one docker lxc there is a single instance of duplicati

25:38.400 --> 25:46.160
which backs up because eat that lxc specifically has access to my entire zfs pool i can just take

25:46.160 --> 25:53.680
the entire pool compress it up with duplicati and push it up to currently there's a mixture of back

25:53.680 --> 26:02.400
blaze and s3 for various bits depending on how much i care about it i intend at some point in the

26:03.200 --> 26:08.480
maybe not too distant future to switch parts of that out to restic ah good man i was just about

26:08.480 --> 26:15.040
to ask you about that duplicati is such a pain in the ass sometimes and it you know it runs fine

26:15.040 --> 26:21.120
for weeks and weeks and then you log in and have a look at it and in the intervening time stuff's

26:21.120 --> 26:27.280
just broken for seemingly no reason and it breaks silently and can only configure it through the ui

26:27.280 --> 26:31.840
which you know how much i love that so restic i think is something i'm really going to be looking

26:31.840 --> 26:38.320
into a lot in the future with uh minio with the s3 back end as well so you can you can use restic

26:38.320 --> 26:44.480
with that so you use backblaze and a little bit of s3 so is that amazon s3 uh yeah wow made of

26:44.480 --> 26:50.320
money boy there's there's like a couple hundred meg in there just because oh okay then i was

26:50.320 --> 26:56.000
testing stuff like this was before when i was only backing up like the tiny bits and i concluded

26:56.000 --> 27:00.960
well if i'm just backing up the tiny bits i might as well back up everything well object storage

27:00.960 --> 27:06.000
is perfect for that exactly 100 let me ask you this then because i'm picturing the audience

27:06.000 --> 27:09.280
somebody's out there building their backup strategy right now if you were going to start

27:09.280 --> 27:13.680
again today start fresh how would you build it better what would you do differently what message

27:13.680 --> 27:18.960
would you send a past version of yourself past version would definitely be installed backups

27:18.960 --> 27:25.040
sooner um i'm very glad that i've never had a case where i've had to actually restore from

27:25.680 --> 27:30.160
an off-site backup i had one case where i had to restore from an on-site backup

27:30.880 --> 27:38.080
which i still think is sort of a bug in docker where i was messing around with some weird

27:38.080 --> 27:43.840
dockery stuff and i went to log into nextcloud a few hours later and the entire nextcloud bind

27:43.840 --> 27:51.040
mount was empty completely empty no app data no files no nothing just gone i have no idea

27:51.040 --> 27:58.000
why it happened fortunately that morning i had done an on-site backup to a disconnected hard drive

27:58.000 --> 28:05.360
so a few hours of syncing files back i lost as far as i'm aware no real data because i'd not

28:05.360 --> 28:11.440
made any changes but that that was not fun so definitely anyone listening i think alan jude

28:11.440 --> 28:15.760
says it best if it doesn't exist in three places it doesn't exist at all oh you had to go and

28:15.760 --> 28:21.360
reference alan huh yeah i kind of did but it's also it's such a good point is that now my data

28:21.360 --> 28:29.920
exists on my server it also exists using zfs send to a random shuck hard drive sitting on my desk

28:29.920 --> 28:36.080
good man and then as well like i say back up to backblaze which has been absolutely great i did

28:36.720 --> 28:43.440
for a small amount of time decide hey what if i roll my own backblaze would not recommend it uh i

28:43.440 --> 28:50.960
had a ten dollar machine from kim sufi which are a very cheap dedicated server host out of france

28:50.960 --> 28:56.560
they're a subsidiary of ovh and we all know how ovh are doing right now yeah i hear their business

28:56.560 --> 29:03.200
is on fire at the minute oh alex too soon too soon too soon hey i thought it was funny yes i

29:03.200 --> 29:10.320
tried running that and minio and it worked fine but once i realized that i was backing up a server

29:10.320 --> 29:17.360
i owned to a server i owned it was great but it was the kim sufi box was a bit finicky it was

29:17.360 --> 29:25.760
low powered minio as tiny as it is it's much more resource heavy than i would expect it to be so

29:25.760 --> 29:30.720
should we talk a little bit about some of your favorite self-hosted apps top three maybe oh so

29:30.720 --> 29:38.480
i'd have to say the one i definitely use the most is uh ttrss which is an rss reader my rss reader

29:38.480 --> 29:47.040
of choice i do most of my content consumption via rss all of my youtube consumption is entirely via

29:47.040 --> 29:53.120
rss because youtube's algorithms and suggestions and things like that are just quite frankly

29:53.120 --> 29:58.320
terrible that's amazing i think um more people should do this because i watched a film the

29:58.320 --> 30:04.400
other night called the social dilemma which talks about how insidious those algorithms are in

30:04.400 --> 30:08.800
controlling what you see and what you eventually what you think and what you believe you know the

30:08.800 --> 30:14.800
ultimate conclusion if anybody's on the fence as to whether you know facebook and google and twitter

30:14.800 --> 30:19.840
and what have you are forces for good in the world or not uh i recommend watching the social

30:19.840 --> 30:24.880
dilemma it might change your mind anyway as you were that's definitely one for my watch list as

30:24.880 --> 30:31.280
well um yeah so ttrss is definitely way up there what clients do you use for that i actually just

30:31.280 --> 30:38.800
entirely use the web ui mostly cool it's easy and it works other than ttrss i would have to say next

30:38.800 --> 30:45.600
cloud is currently quite far up there that's been a really nice tool for just accessing files it's a

30:45.600 --> 30:52.560
little bit heavy for my needs but it is the plugins are great it's fast enough and the sync

30:52.560 --> 30:57.040
clients when they work they work really really well see everybody always says this like oh the

30:57.040 --> 31:01.600
syncs a bit hit and miss i know chris you've had some actual experience with it losing data for you

31:01.600 --> 31:08.000
but i've used it now for i guess three years solid and it's just next file's just been really really

31:08.000 --> 31:15.280
reliable for me so i've only had two issues with it one is that it doesn't do uh partial syncs

31:15.280 --> 31:20.880
so if you modify a small part in a very large file it will sync the entirety of the large file

31:21.600 --> 31:28.000
i don't deal with large files but i suspect if you guys are pushing around very large mp3s or mp4s

31:28.000 --> 31:34.080
uncompressed media yeah then it can be really really slow the other issue i've had or i did

31:34.080 --> 31:39.600
have which i haven't had in a while is it would keep forgetting who i am oh no big deal right

31:39.600 --> 31:47.680
i know who i am but it just forgets and it gets very difficult to sync anything if it just

31:47.680 --> 31:52.640
forgets who you are it'll just keep logging me out i'd love to see them add land sync too

31:52.640 --> 31:57.120
because that's a fantastic feature when you when you power up a laptop and it hasn't been on the

31:57.120 --> 32:02.480
internet for maybe a week or more if you can sync from other nodes on the network directly it's

32:03.040 --> 32:07.840
way faster and it reduces the demand on your internet connection i love that feature about

32:07.840 --> 32:13.280
dropbox also i think dropbox has some intelligence about the order in which they sync files and what

32:13.280 --> 32:18.640
operations sync first versus what operations can be queued where nextcloud's c sync subsystem

32:18.640 --> 32:24.000
doesn't seem to support that so we've had situations where the nextcloud server is kind

32:24.000 --> 32:30.320
of like processing and sinking down some directory cleanup that we've done and maybe it's a significant

32:30.320 --> 32:36.320
amount of like just reorganizing or something and the client has to process all of those changes

32:36.320 --> 32:42.560
and operate all of those file system operations before it will process the sync command to send

32:42.560 --> 32:46.960
the new files up to the server and so we've literally just had editors on the other side

32:46.960 --> 32:53.840
waiting for files and so that stunk but what we did is we just changed the way we operate we don't

32:54.800 --> 32:59.200
make those kinds of changes on any kind of show day anymore we you know we wait and we make sure

32:59.200 --> 33:03.120
we do it like with a couple of day buffer and we've adjusted the way we operate and it's we've

33:03.120 --> 33:08.320
made it work now we've been using it for uh i mean i don't know alex do you remember since the since

33:08.320 --> 33:14.480
the sprint in 2019 right yes and since i appeared yeah roughly yeah right since we brainstormed and

33:14.480 --> 33:21.120
started this show so and and uh it's been running but yeah it isn't ideal so what's your last pick

33:21.120 --> 33:26.320
then it's a project i've been involved with a little bit in sort of contributing and writing

33:26.320 --> 33:31.840
content for uh which is probably also going to be a bit of a sore subject for some people uh it's an

33:31.840 --> 33:39.200
application called plausible plausible is a self-hosted google analytics alternative it's

33:39.200 --> 33:45.760
backed by a company there's a hosted offering it's really really nice the ui is beautiful

33:46.480 --> 33:53.680
it's fully gdpr compliant so it only tracks the data that it needs to do to do its job it doesn't

33:54.480 --> 34:00.400
track things around various other places it's entirely self-hosted so i run my own instance

34:00.400 --> 34:06.000
which tracks my own websites it doesn't track anything else and what that means is i can see

34:06.640 --> 34:11.840
which pages are getting the most traction which ones aren't where people are coming from and

34:11.840 --> 34:18.160
that's about it that looks great yeah really nice it's really nice i highly recommend it

34:18.160 --> 34:23.440
to anyone that's got a website especially if they're running google analytics and want to

34:23.440 --> 34:29.280
sort of take back some of their control from google and various other companies like that

34:29.280 --> 34:34.160
uh-oh ding dong you said it take back control my that's a trigger phrase for me

34:36.080 --> 34:41.120
something something brexit anyway oh it says the guy who's immigrated to the states to the

34:41.120 --> 34:47.840
guy who's still over there incredible uh-huh awkward one final question for you though jake

34:47.840 --> 34:53.120
and it's the one everybody's been waiting for it's the how many terabytes on your land question

34:53.120 --> 35:00.560
oh yeah oh so this is going to be an interesting one i'm going for the opposite record to what

35:00.560 --> 35:06.080
people are probably expecting um to have from guests on here i'm going for the lowest result

35:06.080 --> 35:14.480
possible so my current pool has four terabytes in wow i love this idea because why the headache if

35:14.480 --> 35:20.720
you don't need it right it's two four terabyte seagate drives they've been working pretty well

35:20.720 --> 35:27.760
for my use case there's only 200 gig on the pool so i've got ample storage space i've got ample

35:27.760 --> 35:34.960
space to grow it's been working absolutely flawlessly there is an additional single six

35:34.960 --> 35:40.560
terabyte drive which currently houses all of my media i need to get that into a pool of some kind

35:40.560 --> 35:45.280
as quick as possible because i can see alex's face physically pained as i say that perfect media

35:45.280 --> 35:52.480
server.com yeah i know where to go it's motor fs snap raid are two things yeah reasonably high up

35:52.480 --> 35:59.200
on my list of things to do when i get a free second but yeah four terabytes is exactly just

35:59.200 --> 36:05.040
about enough for my needs and i don't really have any intention of growing that anytime soon so i'm

36:05.040 --> 36:09.200
sticking right here at the bottom of the list so far okay well there's no shame in that i mean you

36:09.200 --> 36:14.880
could be like the michael gambon of uh terabytes huh uh that's an old top gear reference for some

36:14.880 --> 36:19.360
people that don't know what i'm talking about so thanks very much for coming on jake it was

36:19.360 --> 36:24.000
really nice to talk to you and please let us know from from the audience like if number one you

36:24.000 --> 36:28.240
would like to be you know one of these community spotlights that we're going to do what you thought

36:28.240 --> 36:31.840
of the segment let us know as well if it's something you'd like to see us do more of let

36:31.840 --> 36:36.800
us know if it's something you didn't like well maybe keep that opinion to yourself wow is there

36:36.800 --> 36:41.760
anywhere else you'd like to send people jake you know twitter or your personal blog that i know

36:41.760 --> 36:47.680
you write a lot of yeah i believe you described me as a quote prolific blogger and many people who

36:47.680 --> 36:53.920
hang out on the discord know i write quite a lot uh my website is theorangeone.net which i'm sure

36:53.920 --> 37:00.480
will be in the show notes uh my twitter account as well is at realorangeone which i suspect as well

37:00.480 --> 37:05.600
will be in the show notes well jake thank you a quick thank you to cloud guru for sponsoring

37:05.600 --> 37:10.160
this episode and i'd like you to know about their powershell core for linux admins course

37:10.160 --> 37:14.400
it's an intermediate level course and it teaches you the concepts of using powershell core with

37:14.400 --> 37:19.520
linux this could be game changing if you're in a multi-platform environment and the course includes

37:19.520 --> 37:25.520
of course administration installing docker working with the sql server even managing azure instances

37:25.520 --> 37:30.000
as well as integrating all with visual studio code there's a lot there so you'll have to click

37:30.000 --> 37:35.280
the link in our show notes that'll be at selfhosted.show slash 42 and you'll see the

37:35.280 --> 37:42.160
powershell core for linux admins course and thanks to a cloud guru for sponsoring this episode and of

37:42.160 --> 37:47.360
course a big thanks to our members over at selfhosted.show slash sre you can go there to

37:47.360 --> 37:51.760
support the show and get a limited ad feed we often talk as well in the post show about some

37:51.760 --> 37:56.080
little knickknacks in our lives and things that are going on uh so you get a little bonus show

37:56.080 --> 38:01.520
little bonus extra content yeah selfhosted.show slash sre and you can also find the contact page

38:01.520 --> 38:06.480
at selfhosted.show slash contact that's the place to get in touch with us i'm on twitter as well you

38:06.480 --> 38:11.680
can get me there i'm at chris las and i'm there at ironic badger and don't forget the show at

38:11.680 --> 38:32.160
selfhosted show so thanks for listening everyone that was selfhosted.show slash 42

