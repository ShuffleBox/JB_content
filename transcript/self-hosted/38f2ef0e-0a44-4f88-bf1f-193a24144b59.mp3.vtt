WEBVTT

00:00.000 --> 00:05.600
Rumor has it a new TV has showed up in the Alex household a wild LG appeared. Oh, really?

00:06.000 --> 00:10.480
Did you happen to get one that has a web OS and home kit? I certainly did

00:10.480 --> 00:14.560
Yeah, I remember when I was at palm I think had web os back in the early days

00:15.120 --> 00:18.080
And LG bought it and everyone was like what they're going to do with this

00:18.560 --> 00:22.160
And then they turned it into I think one of the best smart TV interfaces around

00:22.400 --> 00:25.600
I've only tried it in a limited capacity, but I was pretty impressed

00:26.320 --> 00:28.240
it's it's actually

00:28.240 --> 00:31.280
I would say good enough that you might not even need a set top box hooked up to it

00:31.280 --> 00:36.560
Are you going to keep your shield hooked up? So I have the shield right now and uh Brent is staying with me right now

00:36.960 --> 00:43.680
And we watched uh last night. So this this is um, let me rewind a little bit. This is an LG C9 OLED TV

00:44.320 --> 00:48.080
Last year, um, I was looking at buying a new TV after I emigrated

00:48.720 --> 00:53.120
and I was looking at the OLEDs really closely, but they were they were about three thousand dollars, which is

00:54.160 --> 00:56.160
Let's let's be fair. That's a lot of money for a TV

00:56.160 --> 01:02.960
um, then the black friday deal started coming through for this year about a week ago and I was on slick deals and

01:03.280 --> 01:05.280
Best Buy came up with the

01:05.280 --> 01:09.520
LG OLED for about two thousand one hundred dollars, which is again still a lot

01:10.400 --> 01:15.040
And then another deal came up on ebay. That was like seventeen hundred and I was like, oh

01:15.680 --> 01:19.040
Okay, now we're talking. It's got super fast

01:19.760 --> 01:21.760
processor in it because

01:21.760 --> 01:23.760
you know i'm coming from the shield which

01:23.760 --> 01:28.880
That thing hardly ever stutters like it's just ridiculously overpowered for what it's trying to do

01:29.360 --> 01:35.120
It's the set top box performance benchmark. It really is. Maybe maybe the apple tv is is parallel to it

01:35.120 --> 01:39.440
But it's very good. But the thing about the shield is it can run kodi it can run plex

01:39.440 --> 01:45.440
It can run iPlayer because it's android. It will also do open vpn, which is important for me to get iPlayer working

01:45.680 --> 01:49.920
Oh, I hadn't really considered that I think it's also worth mentioning not only does it

01:49.920 --> 01:55.040
Play plex, but the shield in some capacity can also act as a plex server

01:55.040 --> 01:58.960
And if you only are streaming to one or two computers or tvs in a house

01:59.520 --> 02:05.600
You actually could just have your set top box be your plex server and it has some units have built-in storage

02:05.920 --> 02:10.240
And some units have external storage. I suppose at this time everybody knows about the shield though, right?

02:10.560 --> 02:15.760
I feel like you and I are such fans, but we've we've been fans for so long and they just released a new version too

02:15.760 --> 02:20.480
Mine's the original 2015 version. So, uh, it's getting quite old now, but it works just great

02:20.480 --> 02:23.680
um, I had an issue with the power supply on it about uh,

02:24.720 --> 02:30.560
Three months ago and nvidia, you know considering it's a four-year-old device at this point full credit to them

02:30.880 --> 02:36.880
They shipped me out a new power adapter. No questions asked no proof of purchase even required. So oh, that's good

02:36.880 --> 02:40.160
I've heard some people complain. Those are hard to get so you just gotta know who to ask

02:40.400 --> 02:42.880
They just sent it to me for free, you know, so

02:42.880 --> 02:45.520
Really great experience there from a customer perspective

02:46.960 --> 02:52.160
So the thing is about using um the built-in smart tv stuff

02:52.400 --> 02:58.560
I've always been a proponent of I want my screen to be dumb. I just want it to be a really good quality panel

02:59.200 --> 03:06.720
I'll handle the content. Don't worry about apps. Don't worry about anything else could have a five to ten year panel

03:06.960 --> 03:09.440
And then a set top box you replace every couple of years

03:09.440 --> 03:15.280
Potentially depending on price. Um, now the downside to that is that you need to make sure that everything every link in your chain

03:15.520 --> 03:17.520
Between your set top box and your tv

03:18.160 --> 03:19.200
supports

03:19.200 --> 03:24.080
The audio formats the the video resolution so 4k and things like dolby

03:24.800 --> 03:30.080
Dts master audio is pretty well supported. But there are some others that are slightly more esoteric that sometimes

03:30.720 --> 03:33.200
Don't get full pass-through support. So

03:34.240 --> 03:36.720
Brent and I ran into this last night. I was like, oh my god

03:36.720 --> 03:40.080
so Brent and I ran into this last night actually, so

03:41.280 --> 03:43.280
There we are watching the matrix

03:44.160 --> 03:48.560
A full-on uhd blu-ray rip that I have stored

03:49.040 --> 03:51.120
um on my plex server

03:51.760 --> 03:55.920
And we're watching through the nvidia shield through my denon avr

03:56.800 --> 03:58.800
into the

03:58.800 --> 04:00.000
lg

04:00.000 --> 04:02.400
We got halfway through the movie and it started buffering for some reason

04:02.400 --> 04:04.800
I think there was several people watching my plex or something

04:04.800 --> 04:10.080
Um, so I started looking at some data and it turned out it was actually only

04:10.560 --> 04:15.200
Playing at 1080p on the screen because my receiver doesn't do 4k pass-through because it's old

04:15.840 --> 04:21.440
Okay, so I now need to upgrade my receiver great, but then I thought hmm. What if I use the plex app built into the tv?

04:22.400 --> 04:27.840
Turns out because it's built into the tv it not only bypasses my receiver

04:27.840 --> 04:34.320
Um in terms of that 1080p limitation, but it also supports hdr which my receiver didn't

04:34.800 --> 04:39.280
So brent and I are sat there and there's that lobby scene where they're, you know, shining flashlights in the matrix

04:39.280 --> 04:45.840
You all know the scene and um, you know neo and trinity are doing the cartwheels and shooting each other and all the people

04:46.400 --> 04:51.840
It's a classic. Yeah, there were moments in that scene where both of us were sat in a dark room where it was like so

04:51.920 --> 04:54.400
bright because of the hdr stuff we're just like

04:54.400 --> 05:01.440
Oh, that's like, you know when someone shines a flashlight in your eyes in real life. It was genuinely like that from a tv

05:02.320 --> 05:03.920
astonishing

05:03.920 --> 05:09.120
I actually think i'm probably going to ditch the shield for the majority of my content now because

05:09.600 --> 05:17.440
The lg thing has this magic wand remote you can wave around and it's it's like a I guess a wee a wee nunchuck remote type deal

05:17.920 --> 05:19.200
um

05:19.200 --> 05:25.440
It's fantastic. And you've sort of simplified too, which is kind of nice because really all of the hard work's being done back on your

05:25.440 --> 05:28.880
Plex server. You just need a front end to stream the hd64 stream

05:29.360 --> 05:36.400
And you need it in the right colors in the right sound channels direct play all the things but so having uh plex on the

05:37.360 --> 05:43.280
Tv leads to an interesting issue that I hadn't even considered getting sound to your speakers, correct? Yes

05:43.280 --> 05:49.440
So I discovered last night and this is quite an old technology, I think but I discovered audio return channel last night

05:50.000 --> 05:52.980
There's a hdmi port on my tv that has an arc

05:53.840 --> 05:57.360
Thing and there's a hdmi port on my receiver that has arc marking

05:57.840 --> 06:05.440
So it will take the sound from the plex app or any sound from the tv actually and then it will use hdmi. I think cec

06:06.300 --> 06:08.400
Protocol to actually turn the receiver on

06:08.400 --> 06:13.600
Send the sound to the amp. Um, and then I get the full surround sound passed through coming through the amp

06:13.680 --> 06:16.960
That's so much fun getting something like that. And it sounds like you got a really good one

06:17.440 --> 06:21.840
Um, and did you say you got it as a black friday deal too? Yeah, I love early black friday stuff

06:22.240 --> 06:26.080
I'm looking for storage. You got a tv lots of good deals to be had at best buy on storage

06:26.160 --> 06:28.960
Those uh easy stores are still 12 terabytes

06:29.740 --> 06:31.740
470 180 bucks something

06:32.800 --> 06:36.640
I love it. You i'm in a telegram group that brings out a bunch of stuff

06:36.640 --> 06:41.840
I'm in a telegram group that broadcasts when there's great deals on hard drives. Have you seen this telegram group?

06:42.000 --> 06:46.640
There's a server builds.net one that's pretty good for sort of an used enterprise gear that i'm part of

06:47.440 --> 06:53.840
That's even better. That's a great one. So, um on the opposite end of that is my home assistant setup, which is

06:54.240 --> 06:58.400
Uh running on raspberry pi 4 in a docker container and then I have another one

06:58.480 --> 07:03.520
I have two I have another one here at the studio, which is running on a much larger x86 box

07:04.400 --> 07:06.080
and home assistant

07:06.080 --> 07:11.280
Is probably one of the open source projects. I am the most passionate about now

07:11.920 --> 07:17.680
What I love about home assistant is it allows me to take all of the different quote unquote cloud connected smart devices

07:18.160 --> 07:23.200
And control them with one interface over my lan with no cloud connectivity required

07:24.240 --> 07:26.260
Home assistant works off of these integrations

07:27.120 --> 07:34.880
And these integrations enable additional functionality home assistant is underpinned by very simple easy to read yaml configuration files

07:34.880 --> 07:40.800
And it's got a default ui that's built around something called lovelace, which is pretty easy to customize or you can just throw it all out

07:41.280 --> 07:45.200
Uh, I am not as long of a home assistant user as you are though

07:45.200 --> 07:50.000
I think you've probably been using it for probably twice as long as I have it was january that I started

07:50.400 --> 07:54.960
Uh, it was the smart led project that I talked about at linux fest northwest

07:55.600 --> 08:02.240
You know just I i'm a huge proponent of solving real problems to get yourself excited about something

08:02.240 --> 08:05.040
And for me that was lighting. It's a great way to learn

08:05.840 --> 08:07.840
It's like the way for for me to learn really

08:08.640 --> 08:15.280
It's a very low risk way to learn. So if if you're let's put it this way. So if your lights don't switch on

08:16.160 --> 08:20.240
Nobody's going to really get hurt or you know something

08:20.240 --> 08:23.920
It's not going to cost you a huge amount of money or something like that. Whereas if you're automating

08:24.640 --> 08:29.520
Like the the locks on your house instead, like you might be locked out if you screw up, right?

08:29.520 --> 08:32.640
And that's that's obviously a bit more of a a big kind of risk

08:33.200 --> 08:38.160
Um, so for me lighting is a really great way for people to get started. It's uh, it's fairly cheap

08:38.160 --> 08:40.800
You know, you can either just buy off-the-shelf bulbs from

08:41.360 --> 08:47.200
Philips hue or lifex or any other z wave compatible or zigbee compatible kind of brand

08:48.080 --> 08:50.240
Uh, I think ikea even makes some stuff now

08:50.800 --> 08:53.360
Or you can make it yourself, which is what I which is what I did

08:53.360 --> 08:56.960
I had a lot of pre-existing smart products

08:56.960 --> 09:01.760
Because I initially went for speed and ease and I went and I tried

09:02.560 --> 09:08.240
the uh google smart stuff the alexa smart cancel. Sorry everybody the echo smart stuff

09:10.080 --> 09:11.280
And um

09:11.280 --> 09:17.680
I also went pretty deep into home kit because I really liked that home kit was over the land. No like cloud api stuff

09:18.400 --> 09:25.920
And so I ended up with a real hodgepodge of devices and it wasn't until I got this project off-grid mandate to say no

09:25.920 --> 09:31.040
Cloud I want all of this stuff that i've learned to like and love in some cases to work when I don't have internet

09:31.760 --> 09:36.080
And that's when I really started to refocus on home assistant. So not the longest user

09:36.800 --> 09:40.640
But I have gotten so much out of this

09:40.720 --> 09:46.080
It has it has become a quality of life project for me. Like it's improved our quality of life

09:46.880 --> 09:50.720
so much so that um, even as recent as this morning

09:50.720 --> 09:56.400
And this is this we've had this conversation several times now my wife and I have been discussing how it has improved

09:56.800 --> 09:58.800
our quality of life in the rv over

09:59.360 --> 10:04.000
the fall and into winter and then something you touched on there too alex is

10:04.560 --> 10:06.160
Sometimes things can go rough at work

10:06.160 --> 10:11.120
You can have a couple of losses in a day at work and you're not feeling that great and if you can go home and

10:11.840 --> 10:13.200
accomplish something

10:13.200 --> 10:14.720
it sort of

10:14.720 --> 10:20.480
Softens the blow of what happened during the day at work and it gives you a sense of accomplishment that you can you can enjoy

10:20.880 --> 10:24.480
so this landed really at a great time for us because i've been

10:25.360 --> 10:29.360
Really experimenting with how lighting can change our space

10:30.560 --> 10:33.760
and putting in light strips and light bars and um

10:34.400 --> 10:41.200
just kind of experimenting with different lifex bulbs and seeing how changing colors and adding light essentially painting our home where I

10:41.200 --> 10:45.040
I looked around and I said, where is it really kind of dark? Where's the light falling off in this space?

10:45.840 --> 10:49.920
and then I put warm different kinds of lights in there that shine lights on walls and ceilings and

10:51.280 --> 10:53.840
tying all of that to the sunset and the sunrise

10:54.880 --> 10:56.880
and morning and wake scripts

10:57.360 --> 11:02.880
It's really made it feel homey. How cool does it feel when you're just sat on the couch watching tv?

11:03.440 --> 11:06.720
You haven't thought about it. You haven't even noticed it's getting dark outside

11:06.720 --> 11:12.000
And then suddenly your light switches on just gently and it's like I did that

11:12.320 --> 11:16.400
I mean, okay home assistant did that but I thought to write that automation that did that

11:16.960 --> 11:22.480
And home assistant has sunrise and sunset as a trigger, which is just fantastic. So it does that figuring out for you

11:23.040 --> 11:26.240
And then you just say when sunset occurs fade these lights on for me

11:26.880 --> 11:30.880
And it's wonderful. Another thing I love about home assistant are the the

11:31.680 --> 11:34.560
Metrics that you can use to figure out what's going on

11:34.560 --> 11:39.200
Are the the metric s ton of integrations that it has

11:39.920 --> 11:45.680
Looking at the website home hyphen assistant dot ios slash integrations. They have at the time of recording

11:47.340 --> 11:49.340
1492 different integrations

11:49.760 --> 11:52.560
And so what can you do with some of those things right now?

11:52.880 --> 11:54.480
Um, I don't live in london anymore

11:54.480 --> 11:59.680
But when I did, um, it would have been quite useful just to have some kind of a visual indicator in the morning

11:59.680 --> 12:04.640
Not another notification, but just like some some kind of visual thing that says hey

12:04.960 --> 12:08.080
Your train is going to be delayed this morning

12:08.480 --> 12:13.840
What I have done is I have used one of the many things you can do in home assistant besides integrations

12:14.480 --> 12:16.480
But just something the lovelace ui allows

12:16.960 --> 12:23.760
Is I pull in traffic cams from all of the major intersections around my home and the studio. So I have one tab

12:24.560 --> 12:27.120
In home assistant. I get a snapshot of the weather

12:27.120 --> 12:32.240
The temperature at the studio the temperature at home and all of the driving conditions. Very cool

12:32.800 --> 12:36.240
the thing that I love most is the fact that it's a single pane of glass for

12:37.040 --> 12:41.040
every single iot type situation that you have so

12:41.520 --> 12:47.600
You know in london you're taking the tube somewhere and you know, let's say your your tube line is delayed

12:47.760 --> 12:49.760
There's a london underground integration

12:50.320 --> 12:55.360
So it will go and pull the london underground api and say the circle line this morning

12:55.360 --> 12:58.880
It has massive delays. So I could change my route based on that maybe

12:59.680 --> 13:04.720
And because it's a sensor home assistant has a bunch of different constructs in it

13:04.720 --> 13:06.240
And one of the things in there is a sensor

13:06.720 --> 13:11.520
So that could include stuff like a water sensor for you in your rv to check that something isn't leaking

13:11.840 --> 13:15.040
It could be a light sensor in the window to check the ambient light levels

13:15.040 --> 13:18.400
So if it's a particularly gloomy day, it will turn the lights on in your house

13:18.960 --> 13:24.240
Or in this case, it is an api call that this integration makes to the london underground

13:24.240 --> 13:30.320
Api to say hey, this tube line is screwed this morning avoid and that status

13:30.880 --> 13:37.280
Access sensor input to the home assistant system and so then think of it a bit like if this then that but on your lan, right?

13:37.840 --> 13:39.840
So you have a sensor

13:40.400 --> 13:42.400
that triggers

13:42.400 --> 13:45.840
Something so again, you have another another construct called a trigger

13:46.480 --> 13:52.880
So a sensor triggers an automation and so an automation can be anything that you can think of

13:52.880 --> 14:01.520
It could literally be changing a light bulb from 50% red to 50% blue number one impact on our quality of life

14:02.160 --> 14:08.000
Has been what I have done with our heaters and our water system because they actually make living in the rv possible

14:09.040 --> 14:15.920
RVs are not super well insulated and ours has three slides and where the slides are at air can pass and so it can be a challenge

14:16.000 --> 14:19.600
To keep it comfortable when it's 30 and 20 degrees fahrenheit outside

14:19.600 --> 14:23.760
So I have a series of sensors and i'll link to my sensors that I just absolutely love

14:24.800 --> 14:28.160
That report into home assistant constantly every couple of seconds

14:29.360 --> 14:33.120
So I also get data I get chartable data on my temperatures, but we'll get to that

14:33.760 --> 14:37.440
so I have an automation that gets triggered by this sensor data that says if it's

14:38.320 --> 14:44.640
between 7 p.m. And 9 a.m. And the temperature in this room drops below 67 degrees

14:44.640 --> 14:49.120
Turn on a heater until it right rises to 72 degrees

14:49.680 --> 14:52.240
Now the thing is in an art that sounds great, but in an rv

14:52.880 --> 15:00.240
You can lose temperature so fast that you either a can't keep up with the demand or b as soon as you turn the heater off

15:01.280 --> 15:03.280
The room starts to get cold

15:03.440 --> 15:08.960
I have solved this with a oil heater that is very low slow

15:08.960 --> 15:16.160
Ambient once it's going it just sort of radiates heat and small little 500 watt space heaters that will kick in in the short term

15:16.960 --> 15:23.360
As the temperature begins to climb up the short term 500 watt heater kicks off and the oil heater finishes the job

15:24.000 --> 15:27.120
And then we have the same thing if the temperature begins to drop too rapidly

15:27.840 --> 15:32.560
The little 500 watt space heater will kick in to shore up the gap and keep it around 67

15:33.360 --> 15:35.920
68 degrees in our bedroom all night long. That's not a problem

15:35.920 --> 15:42.480
67 68 degrees in our bedroom all night long. That's nice. It's it's changed our lives. We sleep so much better

15:43.200 --> 15:47.520
and my wife is particularly sensitive to the house not being comfortable for me, you know, it could be

15:48.240 --> 15:52.720
60 degrees i'm fine, right throw a jumper on yeah, exactly

15:52.800 --> 15:57.520
But she does not want to have cold toes. No cold. She has a no cold toe policy alex

15:57.520 --> 16:04.000
So i've really gotten a nice quality of life improvement out of just a couple of sensors and

16:04.320 --> 16:10.560
Just different smart plugs activating oil heaters or space heaters when you add things to the system

16:10.640 --> 16:15.440
They all become data input points. So when you add a camera, it can also be a motion sensor

16:15.600 --> 16:23.040
A lot of these also offer motion sensing and humidity sensing and this is all information you bring into home assistant that enables you to make

16:23.040 --> 16:28.160
Different decisions and different actions. I'll give you another example

16:29.040 --> 16:34.640
It's very possible for our water to freeze this time of year our water comes in from a hose into a water bay

16:35.040 --> 16:40.560
Now water bay is outside the rv. It's in an enclosed space, but it's low and it gets colder than the inside of the rv

16:40.560 --> 16:41.680
does

16:41.680 --> 16:48.000
I have a temperature sensor. It's a z-wave device. It runs off of a little tiny lithium battery. It runs for a year

16:48.960 --> 16:51.360
And it's 3m taped to the inside of that bay

16:51.360 --> 16:53.760
And it measures the temperature constantly

16:54.240 --> 16:59.360
When the temperature reaches 37 degrees it turns on a traditional incandescent light bulb

17:00.240 --> 17:05.840
That light bulb in an enclosed space is enough heat to raise the temperature up above 40

17:05.920 --> 17:09.280
Even when it's freezing outside and when the temperature reaches 40

17:09.600 --> 17:15.280
It turns off the light and that prevents my water lines just that that simple little tweak prevents my water lines from freezing

17:15.280 --> 17:21.680
Doesn't take much does it and uh, sometimes those those really small jobs add up to a

17:22.400 --> 17:23.680
cumulative

17:23.680 --> 17:25.680
massive impact on your life

17:25.680 --> 17:32.400
You know for me a couple of my favorite automations are around a bedtime routine. So in my house. I'm like, hey hockey puck

17:32.400 --> 17:38.640
It's bedtime that that starts off like a 20 minute routine in my house with the lights doing a certain dimming pattern

17:39.120 --> 17:43.520
Um, so that I don't have to reach for any switches when you know when you're lying in bed and you're comfortable and you're ready

17:43.520 --> 17:46.640
To go to sleep. The last thing you want to do is reach over and actually turn the light off

17:47.200 --> 17:52.080
Um, I don't have to do that anymore. But the other thing and this is a really weird fringe benefit is that

17:52.800 --> 17:57.760
Archie my dog has learned to recognize that particular phrase of bedtime

17:58.320 --> 18:00.880
So much so that as soon as I say hey

18:01.680 --> 18:02.560
g

18:02.560 --> 18:07.680
uh bedtime he'll jump up from his bed and go and stand by the back door and wait to be let out, you know, so it's

18:08.640 --> 18:10.640
I've automated my dog

18:10.640 --> 18:16.480
You know what I stole that idea from you when I when I visited you I saw that and so I went home and I implemented

18:16.560 --> 18:18.560
a bedtime script

18:18.640 --> 18:21.840
And a good morning script now scripts are not the same as automations

18:22.160 --> 18:28.000
Scripts are when you just want to manually execute a series of things and you can program in and what you did

18:28.000 --> 18:30.000
Which I totally ripped off from you

18:30.640 --> 18:33.360
Is you programmed in some delays and some dims?

18:33.680 --> 18:37.680
So when you kick off the sequence, it's sort of a cascading shutting down

18:37.680 --> 18:42.240
Of the lighting in your home and they ratchet down their brightness and then they turn off completely

18:42.480 --> 18:44.480
And there's kind of like it's it

18:44.480 --> 18:49.360
Over a month or so of using that it builds in a routine. Like it's you know

18:49.680 --> 18:55.040
I'm really going to bed now. Like the house is shutting down. I I can't just stay up and just do what I want

18:55.040 --> 19:00.800
I got to go to bed now. I've kicked off the routine. I supplemented it a little bit because we have kids and we're sometimes when we're

19:01.360 --> 19:04.000
When we're moving we're sometimes in noisy areas like rest stops

19:04.000 --> 19:08.800
We have placed a couple of white noise makers into smart plugs

19:08.800 --> 19:15.280
And so my bedtime scripts turn those on as well lights start to dim the noise makers come on when those noise makers come on

19:15.280 --> 19:19.920
That's leafy's cue to go get in bed as well. Same thing. I've automated the dog and in the morning

19:20.240 --> 19:23.840
I hit that it turns off the noise makers and it does a soft lighting

19:23.840 --> 19:28.320
So that way not everybody gets blasted with lights a couple of small lights come on and then over a 10 minute period

19:28.320 --> 19:30.320
They come up to full brightness. So

19:30.320 --> 19:36.880
Some of these automations and stuff do require quite a lot of thought to get them right and tweaking when they're longer

19:36.880 --> 19:42.000
Yeah, tweaking and stuff. This isn't something i've done yet, but I want to investigate something called node red

19:42.560 --> 19:49.360
Which allows you to basically have um, I don't know the terminology but you have boxes and lines that you draw between things

19:49.920 --> 19:53.360
To basically create a automation flow chart

19:53.920 --> 19:58.960
So you say, you know if this then that but on a graphic level you can basically draw a flow chart

19:58.960 --> 20:00.960
And that but on a grand scale

20:01.520 --> 20:07.040
And it can do stuff based on presence detection, which is something i've not really investigated much

20:07.120 --> 20:09.280
But it's a huge part of home assistant really

20:09.920 --> 20:13.200
There's a bunch of sensors that can detect when your phone is on wi-fi

20:13.680 --> 20:16.880
You could use a service like life 360 to detect when you're driving

20:17.760 --> 20:20.340
You and I both have the automatic obd2

20:21.520 --> 20:28.160
Things in our car obd2 ports to read. I don't know like engine statistics and mileage and all that kind of stuff

20:28.160 --> 20:34.320
And you couple all of those data points together and then home assistant can actually have a pretty good picture of whether you're home or not

20:34.880 --> 20:37.760
And so a lot of the problems with things like phillips hue

20:38.240 --> 20:45.840
Is that it has a gps thing built into my phone and it uses that for presence detection on the lights in the house

20:46.320 --> 20:48.320
Well, what about if my wife's home and i'm not

20:48.800 --> 20:55.840
That the logic is just not smart enough to deal with that kind of actually pretty basic situation and very common

20:55.840 --> 20:59.520
Not to mention the privacy implications, too. That's going to their cloud service

20:59.840 --> 21:05.120
Yeah, and a lot of this other presence data doesn't leave my lan in the home assistant world. So

21:05.920 --> 21:12.640
There are just huge huge benefits that it does take a bit of you know, effort to to get started with home assistant

21:12.640 --> 21:19.120
But once you do boy and you can start with simple just turn one or two things on and off with this cheap smart plug

21:19.600 --> 21:24.480
If you want something dead simple a couple of devices I can just recommend off the top of my head

21:24.480 --> 21:30.160
Is there's a fantastic tp-link integration with home assistant if you have a one of those casa smart plugs

21:30.320 --> 21:32.800
You can use them immediately with home assistant

21:33.440 --> 21:39.280
Nearly all home kit smart plugs that just speak the home kit standard protocol

21:40.080 --> 21:46.240
Will work with home assistant. So that for me was huge because that covered everything I had also the I know for sure

21:46.800 --> 21:50.100
Like I have a few in production kind of like um recommendation

21:50.100 --> 21:55.620
Recommendation the I home smart plugs, which are home kit will work

21:56.260 --> 21:58.900
I've the reason why I mentioned home kit a couple of times is

21:59.460 --> 22:01.460
It's a pretty solid protocol

22:01.860 --> 22:08.180
Does not require any ios devices on your network when you're using home assistant and it's all over the lan

22:09.060 --> 22:16.100
The company you bought the device from never even needs to know it's online so you can take advantage of economic

22:16.640 --> 22:17.860
compact

22:17.860 --> 22:22.660
wi-fi capable smart devices over your lan and that for me is huge because

22:23.380 --> 22:25.380
That means anybody can get started with home assistant

22:26.020 --> 22:29.380
I like the tp-link ones because I buy them in a two-pack for 30 bucks

22:29.700 --> 22:33.300
And that's not even the most economical way. There's even cheaper ways to do smart plugs

22:33.620 --> 22:38.420
Especially if you go the diy route like you do alex. Yeah, one of the first projects I did was

22:38.980 --> 22:43.860
Again, like lighting was a very low risk one, but smart plugs again are quite low risk. They're very

22:43.860 --> 22:48.340
Easy to to do and very low risk if they go wrong

22:49.220 --> 22:52.920
And so I ordered a four pack of something called the tekken sp20

22:54.100 --> 22:58.440
And these guys are 100 to 240 volt compatible

22:59.220 --> 23:02.260
And they will support a maximum load of 16 amps

23:03.300 --> 23:05.300
now inside these guys is

23:05.920 --> 23:07.780
essentially an arduino

23:07.780 --> 23:10.020
And what some very smart person

23:10.020 --> 23:15.060
Figured out was that the firmware callback that this makes when you first connect it to your wi-fi

23:15.860 --> 23:18.980
Is trying to connect to tekken to do a firmware update

23:19.220 --> 23:23.780
So what they did was they reverse engineered it and performed like a man in the middle attack

23:24.180 --> 23:29.940
So using my raspberry pi its wi-fi chip and the ethernet to basically

23:30.500 --> 23:32.180
Be the man in the middle

23:32.180 --> 23:35.540
My raspberry pi turned into the tekken update server

23:35.540 --> 23:39.620
Provided a bogus update file to this little white box in my hand

23:40.020 --> 23:44.500
And so I was able to flash it with the tasmota firmware, which is completely open

23:44.900 --> 23:48.340
I will never so long as I own this physical piece of hardware

23:48.820 --> 23:52.740
Ever be beholden to tekken and their business model

23:53.380 --> 23:55.860
And so I now own this piece of hardware

23:56.900 --> 24:02.740
Completely there's no other business model at play here other than I paid 10 bucks for this piece of plastic

24:02.740 --> 24:09.780
Okay, now let's get to the more advanced stuff because we keep mentioning voice control. However home assistant

24:10.500 --> 24:12.500
Doesn't provide home

24:12.660 --> 24:16.340
Automation via voice control out of the box. It's an actively developed project

24:16.340 --> 24:23.700
Maybe it will one day, but how have you solved that problem? Because there's really two routes with home assistant google assistant is

24:24.500 --> 24:29.780
Supported as is the the one that begins with the letter a it's supported

24:29.780 --> 24:34.900
But it's really you have there's two routes you can take on how to actually make it work and you and I have gone

24:34.900 --> 24:37.700
Very different ways on this. There are two routes. You're correct

24:37.700 --> 24:42.420
There is an automatic setup via home assistant cloud and the other one is a manual setup

24:42.420 --> 24:46.660
So I I went through the manual setup. Um, my home assistant is exposed through

24:47.140 --> 24:53.060
A reverse proxy and there are some security implications to exposing your home automation system to the internet

24:53.540 --> 24:55.620
If you're not comfortable with those then

24:56.340 --> 24:57.540
Don't do it

24:57.540 --> 25:03.300
And so if you don't go the manual route, you can go the home assistant cloud route and home assistant

25:03.840 --> 25:05.840
partners with nebuchadnezzar

25:06.580 --> 25:09.060
to provide essentially a

25:10.180 --> 25:14.180
Way to run or control home assistant from anywhere

25:14.820 --> 25:20.420
Without you needing to really understand or configure your own port forwarding or reverse proxy

25:20.500 --> 25:24.820
So I can speak to that a little bit because that's the route I went for another reason

25:24.820 --> 25:29.700
For another reason and that is I am behind some carrier grade double net

25:30.340 --> 25:33.380
There's just no way I could punch a hole through even if I wanted to

25:33.860 --> 25:37.220
plus I have taken it on as a challenge to just

25:37.860 --> 25:42.820
Not allow anything from the outside to this network and I just assumed I would always use a wire guard vpn

25:43.860 --> 25:45.220
but

25:45.220 --> 25:52.260
Not ideal if you want some quick remote access or you want voice assistant integration. So this home assistant cloud is

25:52.260 --> 25:59.060
Is you have partners? Maybe they're connected like it's it is a commercial arm of some of the people behind home assistant

25:59.780 --> 26:01.780
and they seem to be

26:01.840 --> 26:08.820
Essentially proxying and mirroring a home assistant setup in the cloud. There's a slight delay using the system, but it's not bad

26:09.620 --> 26:11.460
and I decided to

26:11.460 --> 26:13.460
pay after the trial because

26:14.020 --> 26:16.020
The way the proxying works

26:16.260 --> 26:18.740
I never have to expose my network to the outside system

26:18.740 --> 26:22.660
But I can still get in I can still view my cameras. I can manage it as if I was at the land

26:22.660 --> 26:24.660
It's 100 like i'm at the land

26:25.300 --> 26:28.340
And by doing that I also get one button

26:28.980 --> 26:29.780
click

26:29.780 --> 26:32.660
Publishing to the echo or the google assistant

26:33.140 --> 26:38.980
Which solves that which you had to kind of build a system including stand up some software on your server to enable that I believe

26:39.380 --> 26:44.420
yeah, and then an nginx reverse proxy is is how I did it and then you have to go into

26:44.420 --> 26:48.100
To the actions section of your google account console

26:48.900 --> 26:56.020
Create a new smart home card a new smart home recommendation and build an action and it probably took me an hour or two

26:56.100 --> 27:00.820
To get it working in the end. Uh, it's not been a hundred percent reliable either

27:01.380 --> 27:03.380
Like quite often I will say

27:03.860 --> 27:06.180
Sync my devices to the google assistant

27:06.820 --> 27:09.780
It will just say i'm sorry has is not available right now

27:09.860 --> 27:13.540
Even though I can go straight to the has url and it's perfectly fine

27:13.540 --> 27:19.700
I have actually had really great results with the home assistant cloud and the other thing it gives you which i'm not utilizing yet

27:20.260 --> 27:23.220
But it gives you a public webhook url

27:23.380 --> 27:27.540
So anything that can be triggered by a webhook can be given a publicly accessible url

27:27.940 --> 27:30.340
So you can send data back to your home assistant

27:30.900 --> 27:35.220
System from anywhere in the world without actually having to expose it to the internet itself

27:35.940 --> 27:39.300
And that's really handy for collecting data outside my environment as well

27:39.940 --> 27:41.620
um, but

27:41.620 --> 27:46.900
Same time I could understand why people wouldn't necessarily want to pay five dollars a month and they might not necessarily want somebody else

27:47.300 --> 27:49.060
hosting a instance

27:49.060 --> 27:50.340
I don't know what they're doing

27:50.340 --> 27:55.460
But the setup process takes a bit like they're building a system behind the scenes and it seems to be its very own

27:55.540 --> 28:00.820
Instance that's dedicated to you and they seem quite confident in the security. I I did look into it a bit

28:01.300 --> 28:08.180
But once you've done either what what alex has done or this route you can then pair it with a voice assistant and it will

28:08.180 --> 28:14.200
Integrate to some effectiveness enough that we can turn our devices on and off which is really all we want

28:14.440 --> 28:19.320
I just want a dumb simple way to start off routines or automations or scripts or whatever. Yeah

28:19.480 --> 28:22.280
Yeah, it's nice when your hands are full or whatnot or when you're in bed

28:22.360 --> 28:25.640
So, okay, so that's that was one of my kind of more complicated ones

28:26.360 --> 28:28.360
The other one I want to ask you about

28:28.520 --> 28:34.280
It's going to come up as soon as you start digging in very far, especially in the home assistant communities

28:34.280 --> 28:39.580
Mqtt there's a lot of answers on the internet that will be well, you should really be doing this with mqtt

28:39.720 --> 28:44.520
You could get a zig beta mqtt device and bring it into home assistant that way

28:45.080 --> 28:48.840
And I know you use mqtt for even those tasmota devices

28:48.920 --> 28:54.120
You were talking about explain this to me because what i'm familiar with is like from the mainframe days

28:54.900 --> 28:57.900
Mqtt is a message queuing transfer

28:57.900 --> 29:04.080
Protocol I don't know what mqtt itself stands for but message queue is pretty much all you need to know

29:04.800 --> 29:09.120
And I know it allows for publishing and subscribing to certain messages from devices

29:09.200 --> 29:13.280
You can subscribe to something and always get updates on it once you have that set up, correct?

29:13.520 --> 29:15.520
So if you're familiar with something like kafka

29:15.920 --> 29:20.640
Or any other situation where you're sending a message into a queue to be processed by something else later

29:21.200 --> 29:24.160
That's pretty much where you're at. Now. There's a few key

29:24.160 --> 29:29.200
Uh concepts to be aware of you have as chris said the publish and the subscribe thing

29:29.680 --> 29:32.640
But you also need what's called an mqtt broker

29:33.200 --> 29:39.060
And in this situation you can enable that inside home assistant with one single line of configuration

29:40.000 --> 29:45.360
And so where that becomes useful is let's say you have a sensor in my case. That is

29:45.920 --> 29:48.320
These techin smark plugs that I talked about

29:49.360 --> 29:51.180
these guys are

29:51.180 --> 29:53.180
publishing to a topic

29:53.180 --> 29:57.420
The amount of voltage the amount of amps being drawn

29:58.140 --> 29:59.100
the

29:59.100 --> 30:02.540
total cumulative kilowatt hours consumed et cetera

30:03.100 --> 30:07.100
They're publishing all of that data to an mqtt topic

30:07.820 --> 30:10.940
now until that topic gets subscribed to

30:11.820 --> 30:13.820
It will just sit there and be

30:14.460 --> 30:16.220
in the broker

30:16.220 --> 30:21.600
So when you're writing your automations you want to consider that maybe you could subscribe

30:21.600 --> 30:26.320
To a topic which is essentially like a push notification at that point

30:26.960 --> 30:33.920
When you subscribe to that topic, you're in a situation where you're not having to go to the end device and say hi

30:34.160 --> 30:36.880
What's the latest amp draw? What's the latest voltage?

30:37.600 --> 30:42.000
the sensor is publishing that data to the broker and then

30:42.560 --> 30:45.840
Maybe you have an led strip that will change color

30:46.400 --> 30:49.200
based on the contents of that published

30:49.200 --> 30:54.160
Topic. Yeah, like you were saying that the traffic was really bad on the tube

30:54.240 --> 30:56.240
You could have a light strip turn red

30:56.240 --> 30:57.840
You wouldn't have to look at your phone or anything

30:57.840 --> 30:59.280
If that light strip is red, you know

30:59.280 --> 31:05.680
You need to take your alternate route that day and the way it does it is through publishing usually a json payload

31:05.760 --> 31:08.800
so, you know, you'll have key value pairs in there which you can

31:09.520 --> 31:14.240
reference in pretty straightforward to write arduino code and then using

31:14.240 --> 31:19.120
Off-the-shelf microcontrollers. You can do some pretty cool things. You can turn on ac you can

31:19.600 --> 31:23.360
Stop a 3d print if the room's got too hot or something

31:23.360 --> 31:28.480
You could turn a light on and off you could I don't know launch a locket to the moon if you wanted to

31:29.120 --> 31:35.840
So if i'm following you in this case the small little lightweight iot device it it just gets its data off of it says

31:35.840 --> 31:37.840
Here's my information. It sends it to the broker

31:37.840 --> 31:45.040
The broker collects it home assistant itself is not a broker home assistant subscribes to the broker

31:45.200 --> 31:49.040
Then brings that in as a sensor data point, which you can then build automations around

31:49.200 --> 31:53.200
Yeah, there's so you can run an mqtt broker as a separate

31:53.760 --> 31:58.240
Container on your system if you want to and just have a dedicated standalone mqtt instance

31:59.040 --> 32:04.240
And do you use a particular one? No, I just use the one built into home assistant because it's stupid simple to enable

32:04.240 --> 32:10.720
It's literally mqtt colon and then it's enabled in your config. That's it. I know other people use what is it mosquito?

32:11.120 --> 32:13.760
I think is one that people use i've heard that's a pretty popular one

32:13.760 --> 32:18.480
That's why I thought maybe you were using mosquito. There are performance concerns. I've never run into any

32:19.120 --> 32:23.360
Let's say you've got I don't know a hundred of these smart plugs in your house and they're all

32:24.240 --> 32:28.080
throwing updates every couple of seconds plus all of your lights plus everything

32:28.960 --> 32:31.200
you know, you will end up in a situation where

32:31.200 --> 32:37.840
Um, you might want to start considering an external broker, but for my needs the internal one has been absolutely fine

32:38.640 --> 32:45.360
I think maybe in my setup being raspberry pies my home assistant pie does the most it does several other it runs like seven other

32:45.360 --> 32:48.080
Containers that are kind of busy. So it has

32:48.640 --> 32:53.200
Sort of the highest workload next to my shinobi pie, but my pie hole

32:53.760 --> 32:57.760
Raspberry pie is just sitting there not really doing much. So I was thinking making that my network services

32:57.760 --> 33:01.440
Pie and putting mosquito on there and putting

33:02.240 --> 33:09.360
Grafana on there because I know grafana is another thing that I could get down the rabbit hole to get really good long-term pictures of data

33:09.920 --> 33:12.980
How does grafana which is a incredible graphing?

33:13.980 --> 33:15.760
Application, how does that?

33:15.760 --> 33:21.200
Tie into home assistant because i've seen a lot of people do that. Yeah, so you can enable the influx db

33:21.840 --> 33:27.120
Output from home assistant which writes pretty much every event that happens in the home assistant

33:27.120 --> 33:31.200
database to the influx db time series database, so

33:31.760 --> 33:33.520
you end up with a

33:33.520 --> 33:36.080
a time series database in influx of

33:36.880 --> 33:43.440
Every single event that happens. So every time motion is detected in a camera or every time you turn a light on and off or

33:44.000 --> 33:50.080
Every time your thermostat detects the the temperature is changed by half a degree. It will write to a home assistant event log

33:50.640 --> 33:52.960
That then gets pushed into influx db

33:52.960 --> 34:00.080
And then grafana supports a bunch of different time series databases influx is one prometheus is another there are there are lots

34:01.040 --> 34:05.760
And you can then create queries which will graph your data out and make it look pretty

34:06.080 --> 34:10.560
It's so neat because i've just done some graphing with the built-in stuff in home assistant

34:10.640 --> 34:13.360
And I really feel like that combined with the event log

34:14.080 --> 34:21.360
I get a I get a real complete picture of what's happened with my family and my home throughout the day in one single day

34:21.360 --> 34:23.360
Home throughout the day in one spot

34:23.600 --> 34:28.240
And I can kind of review it and see when things got cold and how things all respond and what levels of tanks were at

34:28.240 --> 34:30.240
and for me, it's

34:30.240 --> 34:32.080
It's a really nice way to kind of wind down in the evening

34:32.080 --> 34:36.320
It's just see what my home was doing all day while I wasn't there doing the research for this episode last night

34:36.560 --> 34:43.920
Um, I was talking with you after lup about the different integrations at home assistant has and I came across my electric supplier in

34:44.240 --> 34:47.700
North carolina duke energy actually have a home assistant integration

34:47.700 --> 34:52.660
So these guys have an api available for the smart meter on the side of my building

34:53.220 --> 34:55.620
that must have a cellular modem in there to

34:56.420 --> 34:59.860
Send my meter readings back to them every I don't know every day or whatever

35:00.580 --> 35:05.140
um, so I turned that integration on last night in about 10 minutes and

35:06.260 --> 35:13.060
now I have all of that meter data for my electricity supply in home assistant

35:13.060 --> 35:19.780
In home assistant, I could do automations based on that. So let's say my energy usage has gone bit gone above a certain threshold

35:20.260 --> 35:24.580
In a certain day, I could say right that's it. No more electric today turn everything off

35:26.100 --> 35:30.660
More realistically what i'm going to do with that is take that data feed it into influx

35:31.380 --> 35:38.420
And then create a grafana graph so that I can more accurately track my monthly and daily energy usage across the entire house

35:38.580 --> 35:42.500
Not just where each of my smart plugs is at that's so cool

35:42.500 --> 35:46.020
I plan to do something very similar because a future electrical system

35:46.020 --> 35:50.980
I plan to get for as part of project off grid feeds off all of that information via bluetooth

35:51.060 --> 35:52.820
So i'll capture it that way

35:52.820 --> 35:56.980
This is an area where we could go on and on for hours

35:57.540 --> 35:59.380
We could talk about

35:59.380 --> 36:04.340
Z wave and zigbee and wi-fi we could talk about integrating motion and security sensors

36:04.900 --> 36:10.260
Or we could talk about crazy great integrations and automations. I'd love to hear what the audience is doing

36:10.260 --> 36:16.020
With their setups and what they'd like to know is possible. So go to self-hosted dot show slash contact

36:16.500 --> 36:22.100
And let us know or of course, there's always that hashtag ask ssh. So I think that'll do it for today

36:22.180 --> 36:28.500
I'm on twitter at ironic badger. I'm at chris las and the show is at self-hosted show

36:28.500 --> 36:40.500
And as always you can find our show notes and all the rest of the information about this show on self-hosted dot show slash seven

