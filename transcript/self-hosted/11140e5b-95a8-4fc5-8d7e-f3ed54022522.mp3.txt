Coming up on today's show, we discuss the Home Assistant Security Bulletin.
I've got some pretty cool Bluetooth low-energy OLED temperature sensors for you from Xiaomi,
and we get philosophical in the feedback section. I'm Alex.
I'm Chris, and this is Self-Hosted 37.
You know, it's only the last few weeks I realized that we just sort of
blew right past our one-year anniversary in September.
We're one!
Yeah, I think it's just because we were doing the whole going independent thing again,
and so we just had a lot on our plate.
What's your opinion on first birthdays?
I think the show's been really well received, and it seems like it's still growing,
but it's found its audience, and I think it's a good first year,
especially because, you know, we're not weekly,
and so for some podcasts that can be rough, but it doesn't really seem to have held us back.
I wasn't talking about that. I was talking about, like, you know, kids,
first birthday, do you make a whole big deal about it?
Because obviously they're not going to remember it.
That's true, that's true. Yeah, I don't know, I feel like for podcasts,
it's a good sign that it's a stable podcast, but there's like kind of this,
the real, I think, real landmark for a podcast is five years.
That feels like the one you celebrate to me.
Yeah, you've done a few that have reached episode 300.
I think for me that's a big number.
Yeah, that's also a pretty big one.
Yeah, so congratulations though on the anniversary.
We thought this seems like the perfect episode to follow up on a lot of things because of that.
You know, it's going to take us 11 and a half years at twice a month to reach episode 300.
Maybe we'll have to step it up at some point.
Maybe we'll go daily for the last little bit.
We have flirted with the idea of weekly, but you know, with going indie,
you've had so much on your plate again.
It's not really been feasible for both of our schedules yet.
Yeah, life is busy, but you never know. Things change in the future,
but right now we don't have any plans to change it. We have discussed it from time to time.
The future is, well, it hasn't happened yet, but this episode has happened.
It's happening right now and it's brought to you by a cloud guru,
the leader in learning for cloud Linux and other modern tech skills.
Hundreds of courses, thousands of hands-on labs.
Get certified, get hired, get learning, a cloud guru.com.
I got a rather alarming set of emails and Reddit posts from the Home Assistant project this week
about security bulletin and I wanted to get your take on how they're handling it because
to me, it seems like controlled, well, not even controlled.
It just seems like chaos over there.
Yeah, they're really trying to get the word out. That's one of the reasons I think by now,
when this episode comes out, people will know about it.
But just because this seems to be really important,
I even got a notification again this morning via their Discord community.
So there was a security bulletin put out by the Home Assistant project.
We will have the blog post linked in our show notes, but there's not much to it other than it
just strongly encourages you to update as fast as possible and spread the word as far as possible.
There is a specific call out in the blog post to an issue with custom components,
which are not reviewed by the core Home Assistant team.
But otherwise, there's really zero information in the bulletin as we record.
This is several days after the bulletin as well.
We were told there would be an update with more information,
but it so far hasn't shown up anywhere.
However, we do have several questions that we'd like to have answered,
like which integrations were leaking stuff,
under which circumstances were those integrations leaking stuff,
and does the update that's been released fully address those issues?
Or, as some are speculating right now, is it just merely mitigating them?
Will there still be some risk after updating if we use whatever integration this supposedly was?
So there's definitely questions that haven't been properly answered by the Home Assistant project right now.
I wonder if that's because they just don't have the answers yet. You speculate, really.
And at this point, I want to just let the audience know we are recording this a couple of weeks ahead of time.
I've got some personal stuff coming up, so it's unavoidable.
But, you know, from my perspective, I want to see like CVE-style clarity here.
I want to know what the problem is, I want to know what they've done to fix it, or that they haven't fixed it.
I actually don't necessarily mind if they haven't,
because at least I know what the problem is, so I could maybe go and try and contribute to creating a fix, perhaps.
Yeah, I'm sure they're very busy.
But there are basic questions like, if I didn't use any custom components, do I have any cause for concern?
Now, if you go by the code, because it's an open source project, it looks like maybe they caught that
some nasty things were happening via the HTTP API.
Seems like maybe they've added some basic filters to the code for some common web-based attacks.
But really, the context matters here, so that's only something the project can provide.
Yeah, I see some stuff in the code for one of the commits that's referenced in the forum post
about the security bulletin, about file injection attacks at certain web URLs,
as well as SQL injection protections and stuff like that, so who knows what's going on.
This is where it's a really tricky balance, especially for a overburdened project,
and especially a new one that hasn't really had to deal with a security issue quite like this yet.
There is a real high standard for a platform, a really high standard of clear communication.
And even if that communication is a status update, that they don't have the full report yet,
it needs to be communicated. It's a hard lesson to learn. You also have to create process.
It's a human problem as well as a process problem. But clear communication is critical
for any kind of popular platform. And I know that they're very busy, but that's always going to be the case.
And as more and more people integrate their homes and businesses around this,
it's pretty important that we know what's going on. That's where the communication is probably going to
be a bit of a learning opportunity in the future. But it also reminds me that they're still,
as far as a project goes of this scope, relatively young. And they still have things that they're
going to have to figure out. And it's not why it's a knock when I say this, but it sort of speaks to
why I'm not a huge fan of their entire integrated approach with the OS and Home Assistant and the
Supervisor. I'm not a huge fan of this project building an OS. With these types of security
things, with the underlying platform, that's just an area I'd like to outsource that work to the
folks at Canonical, Red Hat, or Debian. I just don't really prefer having the project control
the entire stack. I understand why they do it. And it's an entirely separate conversation. But
it's one of my arguments why I hope they keep making it possible for folks like me to deploy
the entire Home Assistant experience on the OS of my choice. Because just for my personal comfort,
and just the way I view the world, I like to know that a vendor like Red Hat or Canonical is behind
the server OS that I'm using. I mean, I see on a daily basis at work, a lot of the stuff that goes
on behind the curtain of maintaining a kernel, of maintaining a Kubernetes distribution and that
kind of stuff. And it's an astronomical amount of work. And I've got to agree with you. I think if
the project were to take the limited resources that they have and kind of share them out in their
area, well, not share them out, but like, delegate the responsibilities of the more complex tasks,
like building an OS to vendors whose day job it is, and who have 25 plus years, I'm looking at
Debian, experience in doing this kind of stuff. And then they can focus on what they're good at,
which is building a brilliant home automation platform. But to their credit, they caught this.
And the other thing I think they've done right in this process is they have communicated the need
to upgrade. They haven't been particularly great about communicating why, other than they've
been very good at getting the word out. And there is a pretty safe process to do that upgrade. So I
decided to do it over the weekend. So that way I could report back here on the show. And my setup
is it's Ubuntu 20.04 running on a Raspberry Pi four. I can't even remember how I set it up now,
but I have the full supervised home assistant setup so I can install the add-ons and take
snapshots. And I really love that setup, even though it's not technically a supported setup anymore.
But I went into my home assistant supervisor and I clicked update. Well, first I took a snapshot,
actually did the snapshot. And whenever I'm doing something that may introduce a breaking change,
because it wasn't clear here, if there was an issue with custom integrations, I thought it's possible
they just disabled custom integrations for temporary, you know, until they have this thing
fixed. And so I thought this could be a breaking update. I don't know. There's not really been any
information about that. So I took a snapshot and then I downloaded that snapshot to my local hard
drive, just in case. Then I head over to the update button, click the update. Nothing happens. Click it
again. Nothing happens. And it's not exceptionally good at communicating status. So I SSH into the
server. Again, I love that it's a server I can just get access to. And I have things like
bashtop installed and I run bashtop and htop and I get an idea is like, is there anything happening
in the background? And I pretty quickly determine nothing's happening. So I turned to an integration
that I have. And this is one of the reasons I wanted the full home assistant experience and not
just home assistant core, because there is there's integrations like the upgrade configuration
checker that will download the latest version of home assistant, do a fake container check,
install and then check it against your config yaml and tell you if there's anything that's going to
break in the upgrade. So I thought, I'll run that. Only it broke. And I had to go digging for the
logs on the file system to discover that there was some issue with, quote, custom integration quote,
but they didn't say which integration it was. So I didn't really know what was going to happen.
But I decided for the good of the show, I'd pull the trigger and I did the update. And I
pulled the trigger and I did the update and it still did nothing. Okay, what's going on?
So is the configuration check failed? The update has failed. There must be something wrong. So I
reboot the whole machine figure. Let's just get that out of the way. Home assistant loads back up
by verify functionality. I go in the supervisor, I hit the update button and I started to get the
circle of progress. It starts working all of a sudden, even though I hadn't changed anything.
I just did a reboot and the machine had only been rebooted about 24 hours ago,
too, which I thought was kind of funny about it. It pulls it down. It does the update. And so far,
I don't I don't see any issue. I have the now the latest version. Everything seems to be going just
smooth. And I'm not quite sure why I had the problems with that update. I'm not quite sure
why my config check had problems. But everything's tested and working. The only time I've had issues
with the config checker is when there's been an error in my config, actually. Yeah, I created an
include that was pointing at a missing file or something. And rather than telling me that the
config checker just sat there and span and span and span. It takes a while to on the Raspberry Pi
because you're doing it, you know, you're downloading it, which I don't have the fastest
connection in the RV. So I'm waiting for that. Oh, yeah, it can it can take a beat. That is true.
At least I would say set aside two or three minutes. Yeah. Oh, yeah. Or more. Maybe 15.
But you see the air. I put it there in the show notes for you. It just says invalid config for
script integration. And then it's just blank. And it says not found two quotes that are just empty.
Very helpful. Yeah. So I'm going to pull it up. It says it's online 21. So I know where to go look.
But I decided to run the update since I had a snapshot and everything went through. I have
the latest version and it's working perfectly fine. But I do kind of wonder what that custom
integration airs about and if it's related to some of the fixes they just did since their fixes are
related to custom integration. So I'll be diving deeper into that into the future. But have you
decided to pull the trigger on the upgrade for you? Well, I mean, I was I was quite busy the other
night and I just saw the notification come through and was like, oh, so I just hit upgrade. I didn't
have time to check. I subscribe through the Nabu Casa app. So technically, my install is internet
facing, even if you have to guess a very long obfuscated URL. When did you start doing that?
I didn't know that. Well, I started supporting the project. That was the reason I actually
started paying for it was really to support development, not necessarily because I wanted
the remote features. But it actually turned out to be pretty handy because, you know, with COVID,
I haven't really left the house that much. So I haven't had the need to SSH into my house remotely
very much. And I got to where I was going and found out I couldn't connect to my house to pass
the time or whatever. And so I opened up Home Assistant in the phone app, looked at the URL,
type that into on my on my laptop, and then use the VS code plugin with the built in shell
to create the SSH keys that I needed. And I was good to go.
That's a great little example of how all that stuff can really come together.
Yeah, so I got the update loaded. I haven't actually updated the version on my Home Assistant
blue hardware at the studio, but I'm you know, more a couple of weeks into using that. And I'm
still loving that as well. I'm grateful they're doing the update. What do you use for snapshots?
I use the built in supervisor tool that does the snapshots.
Have you come across the Google Drive backup plugin?
I don't think I have.
No, it's not in the main store. I'm pretty sure it's an external thing, but it is awesome. So I
think in the self hosted life hack that we did a few months ago, I showed it off there where I
basically took a completely fresh install of Home Assistant, applied the snapshot, which was taken
by this Google Drive plugin. So it automatically does stuff like snapshot rotation. So you can
have a daily, a weekly, a monthly, yearly snapshot, that kind of thing. Really? I can
have up to seven days and four months or whatever. You got to link this. You got to link this up. I
got to check this out. All right. Yeah, it's pretty slick. And it obviously integrates with
Google Drive. So, you know, each snapshots 200 megs or so in my setup. So it doesn't really take much
storage. Linode.com slash SSH. Go there to get a $100 60 day credit and support the self hosted
podcast. Linode is our server provider. Whenever we're building something for the show or my
personal infrastructure and now JB 3.0's infrastructure. Yeah, it's all up on Linode
and gamers. Linode is your DIY of choice. They make it really easy. And there are plenty of
simple one click deployments for things like Minecraft and CSGO servers. That's a really
simple way and a really nice and fast way to get a nice private gaming space. And they will
have you fill out like just some of the basics you need to get some of the fundamental server
options set and they'll deploy it pre configured for you. So make sure you check that out. Every
plan comes with Linode's amazing human powered customer support. We've had story after story
from our audience of great experience with Linode's customer support. You can email,
you can hit them up on social media, you can pick up a phone and talk to an actual human.
How about that? I mean, Linode gets it. They've been around for a long time.
They started in 2003 as one of the first companies in cloud computing, three years before AWS and
other enterprise providers. And they're independently owned and they're founded
on a love for Linux and open source technologies. And they really support the community that
surrounds them. Like this show, like the Kubuntu project, like Linux Fest Northwest,
which you know is very special to us. Linode's a supporter of them. But you get a $100 credit
when you go to linode.com slash SSH. So you can play around with their really powerful
systems if you want. Try out building some tools around object storage. It's a great opportunity
to experiment with different stacks. That's one of the things I've done on Linode is I tried
several different WordPress stacks to see which one I like, you know, with nginx or I even try to
web browser where everything runs out of RAM and they have all of this stuff that is just ready to
go as configuration scripts that you can just kick off and get going. It's really simple. And they
also offer a lot of powerful tools. They don't hide that stuff from you either. So try it out.
Linode.com slash SSH. How often do you ask yourself the question, when does it make sense
to build versus buy a solution? A lot of times that's one of the first or second questions I
ask myself. I very frequently do that math. You must as well. Yeah, what's particularly annoying
is that I actually built a solution last year and there's a solution I can now buy that is so much
better for half the price that I'm kind of sat here going, I wish I hadn't built one now. Yeah,
it's tricky, right? Because things like temperature sensors and humidity sensors,
you might end up wanting a lot of them. You do. Yeah. So I mean, probably every single room is a
bit of overkill, but certainly at the other end of the spectrum, just a single thermostat as a
single point of measurement in a house is, it's always struck me as weird. It's absolutely nutty.
It's even nutty in a tiny space, like a tiny home or an RV. Yeah, because one room, if you shut the
door can get to several degrees higher than the hallway. Yeah. So I'm holding in my hand up to
the camera so you can see it. This is the little temperature sensor I've bought. It's from Xiaomi.
So it's a Bluetooth low energy temperature sensor with an OLED screen. There'll be a picture of it
in the show notes. It's about the size of three or four keys on my keyboard square. So it's pretty
small, fits in the palm of my hand very comfortably. And they supply these things with a small little
piece of adhesive tape that you can use to just stick it on the wall anywhere. They're fully
battery powered. They connect to an ESP32, which you flash with ESP Home. You give it the Bluetooth
Mac address of this device, and then ESP Home will connect to these sensors. There is a catch.
You need to flash a custom firmware on the sensors as well. So expect to set aside an evening to do
this if you're flashing half a dozen sensors or so. But the best part is that it's $9 for a four
pack of these sensors. No. With the screen on there? I mean, that's what I love about them.
I know. It's crazy, isn't it? I have very expensive temperature sensors that will do all kinds of
fancy things. But you know what they don't do is they don't actually just display the temperature
on them. And in a way, that's that's a killer feature because you get the context right there
for the room you're in. And it's also being fed to home a system, the temperature and the humidity
on the screen, which in the south east of the US humidity is my is the bane of my life. So
yeah, so you want to you want to keep an eye on that damn thing. Yeah. How long would you say for
four of them to get that flashing process done? Well, it's actually a really slick sort of web
configurator thing built into the GitHub repo that's linked in the show notes. So what you do
is you fire up your phone, you connect your phone's Bluetooth to this thing, flash the firmware through
a web browser, and then listen for the MAC address in the logs that way and then paste that into the
ESP home configuration and flash that to your ESP 32. It sounds like a lot of steps, but it really
isn't that bad. If you're familiar with the SP home doesn't sound bad at all, actually. Sounds
quite doable. Yeah, very slick. I've been very impressed with it. I think I came across this
first on the intimate tech YouTube channel. We had him on a few episodes ago. The Quinn led guy,
they just seem to work really well. I had a couple of Bluetooth dropouts with the ESP 32 is being on
a different end of the house. So I've ended up buying for ESP 32, which is the most expensive
part of the setup, one on each floor at each end of each floor. And they're basically stacked on
top of each other at each end of the house. So I mean, even at $11 each on Amazon for an ESP 32,
we're not talking crazy amounts of money. And you can definitely order them a lot cheaper than on
AliExpress if you're willing to wait for the slow boat. So now that you're getting the temperature
data, what are you going to do with it? Are you going to do any automations? Because that's,
I mean, that's really where it gets next level. Yeah, I want to. I haven't quite figured it out
yet. So I, we're going to talk more about this in the post-show. I think we've got something in
there about thermostats and the vent style unit that I use, but what I want to do is take the
average. And this is something Dr. Z's does a lot of. He takes the average of several sensors and
then uses that as his thermostat input number. What I would like to see is, is I take the average
across the entire top floor of my house, for example, and then use that as the input to the
thermostat. I haven't figured out how to use a custom input with a thermostat that has an
integration. You can do that with the generic thermostat module of Home Assistant, but I haven't
quite joined all the dots up to make it work with a pre-configured one. Justin wrote into the show.
He said he was, he was actually writing it because on Coder Radio, which by the way,
not this podcast. Where's my robe? Yeah, I'm working on it. I am wearing the minimum viable
robe at the moment. I was talking to Mike about his problems with, he moved into a new place and
it comes with a smart thermostat and it's been freezing him out at night. And mine has my system
every now and then something happens and the automation triggers don't fire and I cook out.
I get like too hot, like a heater doesn't get turned off. And I generally, this fix has always
just been, I reboot my Home Assistant host and then it doesn't happen for another couple of weeks.
But Justin wrote into the show and he said, you'd mentioned that failed automation. Home Assistant,
like you were just talking about, Alex, he says, has a generic thermostat component and it is
fantastic. I use it in several rooms of our house. You provided a temperature sensor and a switch
and the component handles all of the rest. It looks like there's some affordance for it
understanding if you want something in a target temperature that it might need to kick in a little
bit at a different time in order to actually get that temperature just right. It seems clever and
like a way better idea than me completely building this automation from scratch like I have been. So
when you do go down that route, I agree with listener Justin, check out the generic thermostat.
Yeah, I need to connect those dots for sure. I mean, in my specific situation,
the room above my garage happens to be where we spend most of our time. And if I close the door
to the hallway on this room and the heat is running, it can easily get four or five Celsius
higher in this room than the hallway. When the forced air is blowing, it gets very dry, the air
and the static electricity becomes a bit of a problem and stuff like that. So what I really
want is just a way to use that sensor that I'm looking at right now in this room as the dedicated
input to the thermostat. If I can use an average, then well, even better. But what I absolutely want
is an automation that fires when that particular sensor gets above a certain threshold that it just
doesn't turn off the heating because that's not what I want. I just want it to stop heating me
for a bit right now and then evaluate things in 10 minutes and figure out whether it needs to still
keep blasting us with the heat or not. And to add an extra layer of complication,
if it could also be somehow energy efficient aware. So if you were running off grid or maybe
in your case you have like a Tesla Powerwall and the grid was down and you were running off battery,
if the system could adjust to use less power but still maintain a minimum comfort,
that'd be the next level. That's what I really want now for dupes.
That's our next business idea. We had cloudfree.shop. The next one is this
sort of mega thermostat that beats the pants off the nest.
Right. So Jim wrote into the show and he wants just our thoughts on going solar. He says,
I'm looking for solar for my home and I'm not really sure where to start looking. Everywhere
I go I get bombarded with ads and people who seem like salesmen. I've looked at businesses like
Tractor Supply and other sources but I worry about what they're selling and if they're actually the
best tech. And he wonders what we did to look into this because I know you've considered solar for
the home. You've considered Powerwalls for the home. I'm curious what your route and trajectory
is when you go off on a research binge for this. It's amazing how quickly you end up with the
Tesla stuff when you start googling this stuff. They must spend a lot on marketing or SEO or
something. I ended up looking at getting, I think it was like 12 panels put on my roof. Ultimately
it ended up being too expensive to consider right now and they weren't in North Carolina yet and
stuff like that. So I haven't done it yet. It's definitely on my list because I do feel guilty
about burning several hundred watts a day of permanent server electricity and stuff like
that that could very easily be supplied through solar. Part of it is I want to try and do my bit
for the environment but the other part is it'd be nice to save some money too. The research of it
for me has always kind of been I try to find communities that are discussing the type of
builds that I'm doing. So in my case they're more mobile builds but we just shift communities
depending on the build. And then also YouTube tends to play a pretty significant role and
it's really a process of finding and refining the selection of YouTubers you find and getting
their advice. I went to a company called AM Solar to have my mobile install done and I did that
through a process of reading lots of reviews about people's solar installs and finding forums
where people were discussing getting solar installed and kind of narrowed it down to a few
companies and then you know had my geographic location and they were kind of within my
striking distance and then I went and looked up pictures of their work which I think is another
really good tip if you can find any on their website or on Google Images I went and found
pictures of their work and thought that you know everything looked really good and tidy and
that was something that was important to me in this installs. I didn't want it to be just a ball
of wires I wanted it to look like it was maybe built from the factory that way and they did
absolutely that. So that was sort of my process. I don't know about you but the more salesier
company is the less interested I am. Yeah and when it comes to that kind of stuff too it's easy
to get scammed so just take your time you know get get multiple opinions on stuff. And the other
thing is and this is a very US-centric comment but there are some federal tax incentives that
tend to expire at the end of each calendar year so I noticed the number of texts I was receiving
about sign up for solar now in December was a lot higher than it has been in January so
just factor that in as well. So Phil wrote in he's a fan of your perfect media guide I think
it's really helped him a lot and he had questions about your VDEV configurations that you're using
for the perfect media server. From what I understand if you use one disk per VDEV there is
no protection benefit for ZFS. I'm researching options for setting up a DIY NAS and need to have
a cost to bring to the wife to get the spousal approval. Yeah we've been there you know my
biggest fear in life is that my wife sells my servers for what I told her they cost.
Yes and I know she's listening to this so hello wife. I run in a mirror VDEV very very simple
I just mirror two drives and that gives me 50% you know space efficiency and stuff like that
so I can I can sustain one drive failing locally before I need to start resorting to backups.
Standard moment where I say RAID is not a backup and you should never rely on it as such I very
much look at it as that's my primary like source of truth but if anything was to go wrong with
that server or both of those drives were to fail at once I actually have just you know been using
the Helios 64 since the review for this but I'm just putting together a new system to act as a
local ZFS mirror of the mirror VDEV in my house so that will live at the other end of the building
in case one end I don't know catches fire or something god forbid. So the short answer is
mirrored VDEV and if you can swing it as well a second copy of the data somewhere else and
preferably another copy off site. Well this is right on topic because listener Phil wrote in he
said you guys often talk about syncing files off site for backup but I'd like to hear a little bit
more detail how are you guys protecting your backups from things like ransomware or accidental
mass deletion in those cases maybe you're not even aware that something is wrong for months
I know we do it in the enterprise level but I'd love your thoughts on using tools for yourself
for folks at home thanks and keep up the good work Phil. How do you protect your backups and I
think you might mean encryption and other things like you know the whole gamut. Well ZFS recently
added data set encryption so the remote system in my setup isn't encrypted it's at my dad's
house so I do trust that as an end point but I think that is a valid thing that I want to try and
implement moving forward but this is one of the primary reasons I run ZFS is snapshot support so
I can roll back to a specific snapshot you know much like the Home Assistant Google Drive plugin
that lets me do hourly, daily, weekly, monthly backups. ZFS lets me do that as well and I use
Jim Salter's Sanoid tool to configure I think I've got like 24 hours worth of hourly backups and then
I've got a week's worth of daily backups and then I've got four weeks worth of backups going back a
month and then I've got one month backup going back six months I think and then I've got an
annual thing as well so pretty well covered I think but I don't know how I would spot ransomware
other than just going to access a file and being like oh crap. Ransomware I'm not particularly
concerned about because it would have to get executed and you know the server environment's
my data city none that's not that's not particularly likely. Kind of like yourself I have the NAS here
at the studio is kind of like a central repository of truth and then JB as a business has several
cloud instances of different data sets I have my data set personally in lady jupes I think all of
that back to the NAS here at the studio I don't have a great backup solution for that NAS now most
of the data on it is actually reproducible by all the other locations if I just brought them all
back again but now I have a little bit more historical information on there that isn't
necessarily duplicated anywhere else and I'm starting to change my opinion on backing up my
media stuff in the past I always thought well I have the source material and what I can't find
on disk I could probably find on the internet and I'm okay with that because I've likely paid for
it at some point so I think I'm okay but now I actually have found that that's not necessarily
the case I've had trouble getting DVDs and Blu-rays and I've had trouble finding things online of
some series so now I'm actually thinking maybe I need to back up absolutely everything but that
becomes like you know a 15 terabyte problem I have to solve becomes a race to the bottom yeah
very quickly yeah and then there's just I mean I think the only way would be I need to create like
a box that maybe I mean maybe it's possible if USB storage if I had the money if I wanted to
invest that kind of money into it and sync it here locally and then take it off site via my
cell set it up somewhere off site and sync it up that is the solution you know is to build a server
and stick a hundred terabytes in it and and just forget about it at your well in my case my parents
house I could do my dad's I could probably even do it at Angela's house you know she has fiber at
her at her place she's a pretty good connection I know I know I would love that as far as protecting
my backups that I send to Google Drive which are things like my Docker config directories my Docker
compose files that kind of stuff I still am very happily using duplicati which I think I've been
using for the entire run of the show and that will do encryption for me and it handles the
both sides encrypting and decrypting side of it and I just love it and I have I've experimented
with using duplicati to save to multiple different cloud providers which is kind of what I would do
in the case of say mass deletion on Google Drive or some sort of issue but I haven't pulled the
trigger yet just because of the bandwidth requirements every single night to do that
it's not like Google ever killed a product either is it so it seems like drives pretty core but you
never know right they could also start doing you know stupid things like revoking API access for
third-party applications Google Drive itself as a core product is probably safe yeah although
nothing truly is with Google but the workarounds that I've been using for the last several years of
buying one seat of G Suite or whatever it's called this week and then just uploading three
or four terabytes I think those days are numbered so yeah I don't know if you saw but they're also
revoking sync access to the Chromium upstream you know open source browser they change the
terms all the time and I could see them revoking they've also revoked like the sign-on for Geary
the email client on Linux that's just hostile isn't it I thought their slogan was don't be evil
well I think their slogan now has become ginormous I'm not sure they've done a lot of stuff with
turning the screws on storage particularly in the last six months yeah so I really don't think that
relying on Google anymore as your off-site backup is going to be a viable strategy beyond
I think it's June this year the Google photos unlimited storage for pixel owners deal that was
that ended is now officially done too as this episode is out so that's all over yeah you're
right there hasn't been a lot of changes there that's why you mentioned it earlier
I think things like cloudfree.shop are the way to go because they're devices that have just been
they're pre-divorced from the cloud when you get them they've been pre-flashed with OS's that are
open source that just use your local network that don't need any cloud connection and like Alex said
it's somebody in the community that built this and I just think it's so cool they're like our
official unofficial sponsor we do have a promo right do we have a promo code we do yeah self-hosted
is the coupon code I think you get 10% off a light bulb and we get a little kickback from anything
else that you buy oh you know what I need light bulbs at the studio I was going to mention they
have that outdoor smart plug too which is slick but I actually am in the market for light bulbs
correction I think it's smart plugs not smart bulbs my bad sorry you know what man you got
me so excited I thought he's got like some sort of light bulb it's all built in over there no
that's cool that's cool the smart plugs smart plugs will do I thought of a slogan for them
though cloudfree.shop your cloud prenup that's pretty good I like that I like that yeah you
welcome that that's free what do you say we do a couple of NFC automation tricks that the audience
wrote in about because you know we've talked about these NFC tags a couple of times I have one right
here on the mixer that I've set up to do like D&D and stuff like that and turn on lights this is
particularly relevant for me right now because I've just switched to iOS I wanted to take my
camera game to the next level and boy is the camera on this thing good but moving some of the
NFC stuff across and just some of the you know more esoteric Android stuff that I like has been
tricky so with with iOS what happens is when I tap my NFC tag I then have to tap on a notification
that comes in on the phone which is just it's just one extra step right but someone wrote in with a
workaround oh yeah and this we got two workarounds and I was wondering about these so that's why I
love these emails because I had seen these as possibilities in the in the back of my mind I
was chewing on it as maybe something to try but these this confirms my suspicions Billy wrote in
with the first one on episode 35 you guys talked about NFC tags in the car I also use an NFC tag
to open my garage door just like the badger I switched recently from Android to an iPhone and
figured out a way to run the NFC automation without having to click the notification
it does require that you have your garage door brought into home kit which I am using via home
assistant he says then you just create an automation in the home app when a specific
tag is tapped like toggle the garage door it kind of sucks that you have to do it that way
but it is triggering a home assistant action if you're already using the app this is very easy
and it's simple to make it work you could just create a boolean that acts as a virtual switch
in the home app and then triggers a home assistant automation or action that's great that is a great
idea and I actually I have encouraged you off air but I'm encouraging you on air at some point in
the future to play around with the home kit integration with home assistant I don't know
if this gets talked about enough because I think maybe we have a lot of Android users out there
that are home assistant users but it brings all of the functionality and home assistant
into home kit and that makes it work with your watch with the home pods with Siri it's it's
pretty great I am glad that Billy wrote in with that one I'm also even more gladder that's not
a word but you know what I mean that he called me the badger that's fun that is fun Quinton Ronin
with maybe even a better one though uh he's also uh he says he's a site reliability engineer I think
one of you commented about using NFC tags I found a way around this you create a web hook in home
assistant and then use an automation on the phone which is created with the shortcuts app to call
that web hook you're allowed to trigger these from an NFC scan without having to confirm the action
manually and he has linked us to a post where he explains it more on his blog so I will include
that in the show notes but this isn't this if you look in the home assistant app you'll see this
web hooks action you combine that with a shortcuts app and you've essentially solved the problem so
you got two options and one of them doesn't require you mess around with home kit at all
that's neat I mean I I've only ever really used web hooks when it comes to Jenkins
so the fact that we can use them for something actually fun and useful cool hey just a thank
you to our members I've noticed some of these emails are from SREs and we really appreciate
everyone who becomes a site reliability engineer helps the show stay independent and as a thank you
you get a little extra content a limited ad feed with a little extra content at the end if you'd
like to help the show and become a member it's self-hosted.show slash sre and so Linus writes in
I don't know if it's that Linus although I doubt it let's just pretend okay Mr Torvalds I'm going
to give you advice on something yeah right okay Linus writes in could you give your opinions on
how your setup will survive you what will happen to your awesome setup if you aren't around anymore
will your spouse just pick up everything and it just work how can I strive towards such a situation
if worse comes to the worst thanks for a great podcast Linus. Deep question one that's a little
uncomfortable to think about sometimes I do think this played a little role in my recent
renewed push to document as much as my setup as possible in markdown but I know that no my my
family wouldn't wouldn't really use these systems I have documented the passwords in a password vault
that they have the password to so they if they needed to could get access to that and then they
could share that with somebody like Alex who could help spin stuff up or down for them and
you know transition them I think that's a great point plain text all the things as much as possible
and have a bit warden or a last pass or something like that yeah so right now it's in last pass
however I have been thinking about transitioning to something else like bit warden or or something
that is I mean it's something I want to have a conversation with them because I need to have
their buy off as well but I want to share you know primarily with my wife but there's some
things that I would leave for Angela too and so I kind of wanted something that could accommodate
different logins with different different credentials so if anybody has any suggestions
I'd love to know but what do you think about what would you think your wife would keep it going for
a bit do you think she'd ask just for somebody to help or do you think she'd just shut it down and
get a cable subscription and start reading books I mean what do you think she would do
well at the end of the day this stuff is my hobby right right and it just so happens I've been lucky
enough to turn it into a podcast and linux as a job but I also enjoy doing this stuff in my spare
time as well yeah I just don't see how she or anyone else in my family would have that level
of interest to keep things on the road beyond you know the initial six twelve months you know
that these things would probably continue running for untouched there are some things I think that
would be missed in terms of quality and life like plex like booksonic like home assistant
but are they sufficiently useful that it's not worth just buying a netflix membership or
or buying some proprietary smart home automation stuff like a lot of what we've done is ultimately
boils down to being nice to have versus absolutely critical I view it as critical because of my value
set and who I am but there's a huge swathe of people in my immediate circle in my family that
wouldn't care if that stuff went away tomorrow really so I think it would continue to work for
some time but ultimately it would sort of decay and die with me which is a bit sad to think about
yeah I think the things that they would care more about would be things like documents and photos
I think that is something that would be a little more significant and so that's something I try to
give thought to a little bit long term is just tripped in that maybe I haven't done a good enough
job with that currently but it wouldn't take a lot of work to make that pretty accessible
to my wife without my without my help maybe the way to think about this is try to think of things
that they would want access to and then make it as easy as possible for them but it's it's always
worth thinking and trying to build your systems that way if nothing else because even though it's
a little bit of a of a morbid thought I think it actually leads to building better systems
totally does I mean just just stop and ask yourself the question now if if something did happen to
you tomorrow or well even if it doesn't right if you just had to give your partner or your brother
or sister or parent or something your laptop and say go and do something you know download a photo
or find this this tax return or whatever it is do you think they'd be able to do it without you
going oh you just do this oh you just do that you know and if the answer is no then like Chris says
maybe maybe you need to write some better documentation and print it out or something
and put it in a safe or something and say go to this web URL and you will find the answers to the
kingdom you know it kind of goes back to a topic that comes up on our show well several times over
the you know the year plus run now because it's over a year now craftsmanship absolutely you know
and that can be another aspect of craftsmanship about your setup and why not because nobody else
is going to do it and it's your setup it's your opportunity to show a little craftsmanship and
also it's another it's another nice way for people to remember you guys look at the time and effort
he took to make this accessible for us so it's a win-win it's it's just a matter of time and I kind
of pulled back on it a little bit but you know what Mr Torvald's writing in here it's got me
feeling like I'm going to keep up with it again it's like inheriting uh someone else's workshop
tools you know yeah when my wife's dad passed away we inherited a bunch of his workshop stuff
and it was I don't know just just odd to be in someone else's cave you know and I guess it's a
similar situation with these types of systems so I'm all sad now thinking about this I feel like
if I logged into your box though I'd feel pretty comfortable I'd have a pretty quick yeah but
you're a massive nerd mate you know I know I know but that's what's I mean there's something about
that that's like kind of weird like server swapping we should try that sometime and then
record a reaction yeah like wife swap but shitter yeah just like almost like that but just a little
bit different just see what it's like where would it air would it air on tlc would that be the place
no I don't think they'd want it but you know it's funny is if you look at some of my servers
you can really see transitions and how I organize stuff or just legacy stuff like the way we have
the nas setup here is really really far removed on how I build a system now and the way I lay out
the disks and all of it and actually the the zfs array that we're using was originally set up and
partitioned and managed by alan jude so it's like extensively complex the man the mr legend yeah he
set it up while he was out here and we it's worked with us I mean it's clearly scaled for years
because we've changed out operating systems we've moved hardware but that zfs pool is still
there and that zfs pool just continues to grow and and survive but if you look at it now it's
a total total misrepresentation of how I would build a system not to mention just because it's
an arch server didn't it start life on bsd and now yeah like you say it's running arch yeah bsd
for a while I think it lived on fedor for a bit and now it's on arch and it's it's so far it
stayed there because it's a minimum viable arch so it's just the absolute bare minimum of a system
that was it coda where you're talking about minimum viable server and uh I was I was resonating so
hard with that because I've just switched over to proxmox and all of its weird abstractions and
stuff and I was thinking oh I was just on arch this would have been so easy I'd have been done
10 minutes ago you know but yep yep yep yeah there is something to that I also want to mention our
sponsor cloud guru is on social media so if you are learning this stuff right now and you want to
engage with them on social media they're just slash a cloud guru on youtube twitter and facebook
alex you're probably on twitter too I bet I sure am I'm there at let's stop that let's stop that
right now I am there at ironic badger yep and you can contact the show self-hosted show slash
contact that's the place to get in touch and get your email on the show I'm at Chris LAS and the
show itself is at self-hosted show on the twitter okay I almost started doing it again I'm sorry I'm
telling what came over me it was weird it got weird oh I shouldn't do accents that's what we've
learned you can find the network at Jupiter signal and that was self-hosted dot show slash 37.
