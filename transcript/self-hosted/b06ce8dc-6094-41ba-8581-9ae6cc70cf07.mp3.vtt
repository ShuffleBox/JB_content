WEBVTT

00:00.000 --> 00:05.320
Coming up on Self-Hosted 16, we're getting to some network basics and tips for solid

00:05.320 --> 00:06.560
Wi-Fi connectivity.

00:06.560 --> 00:12.120
Plus, we make the biggest compromise in the history of the show. I'm Alex, I'm Chris,

00:12.120 --> 00:14.000
and this is Self-Hosted 16.

00:14.000 --> 00:18.320
Hello Alex. Staying sane while staying indoors, I assume?

00:18.320 --> 00:22.960
Doing my best. Yeah, I realised I haven't actually left this building in four days.

00:22.960 --> 00:26.880
You're such a nerd though, because you sent me a screenshot of a new home assistant card

00:26.880 --> 00:33.520
you have that tracks your quarantine amount percentage-wise. You were like 99.4% at home.

00:33.520 --> 00:41.920
It's QuarantinoMeter. It was on the Home Assistant Reddit page. It uses my Life360 integration

00:41.920 --> 00:48.000
to calculate how many hours I've been at home in the last seven days. Turns out I've only

00:48.000 --> 00:54.280
left the house for three hours in the last seven days, which is fine. I know as a community

00:54.280 --> 00:58.320
and as a society, we all need to be doing that. But when you see the data presented

00:58.320 --> 01:02.760
to you, you think, what was I doing for three hours? Okay, I was grocery shopping for somebody

01:02.760 --> 01:06.760
that had just come down from New York, and they were self-isolating. So I was doing a

01:06.760 --> 01:10.800
good thing for the community, and at the time I was out walking my dog. But you think to

01:10.800 --> 01:15.880
yourself, well, actually, I could probably do seven straight days. And then here I am

01:15.880 --> 01:19.120
on day four, and I'm going slightly mad.

01:19.120 --> 01:24.220
I feel like I could do it. I love it. Something about it. For me, it's like, I love being

01:24.220 --> 01:29.080
all in there and cozy and working on stuff. Also, it's given me a great chance to hang

01:29.080 --> 01:31.840
out in our new Discord, which has been amazing.

01:31.840 --> 01:37.760
Yeah. So we've launched a Discord server. We have unfortunately fallen into the traps

01:37.760 --> 01:42.320
of a non-self-hosted chat platform. I know that's what you're thinking.

01:42.320 --> 01:45.740
Within 20 minutes of launching it last week, we already had people giving us a hard time.

01:45.740 --> 01:49.400
So we've definitely gotten it. Should we just address why that elephant is in the room?

01:49.400 --> 01:52.800
Because even going back to episode one, I think this is something we flirted with, but

01:52.800 --> 01:56.200
this is the first time we've really, this and maybe Plex.

01:56.200 --> 02:02.360
It's like the whole GitHub versus GitLab self-hosted argument of, yes, each organization, each

02:02.360 --> 02:08.000
project, whatever, could host their own chat server. You know, a Mattermost, a RocketChat,

02:08.000 --> 02:15.040
an IRC server, whatever it is this week, a matrix thing. But in reality, you have to

02:15.040 --> 02:20.460
go where the communities are. And if you look at the purpose behind why we've launched this

02:20.460 --> 02:25.620
Discord server, it's to give people a place to hang out and talk about everything relating

02:25.620 --> 02:34.640
to self-hosting. Not necessarily to be a self-hosted platform itself, but it's to enable the community

02:34.640 --> 02:39.380
to grow and, you know, build relationships and stuff like that. And whilst the Telegram

02:39.380 --> 02:44.960
group that we have is fantastic with, you know, 1700 people in it and growing still,

02:44.960 --> 02:49.920
and Telegram isn't self-hosted either, by the way, conversations and threads get lost

02:49.920 --> 02:53.120
in that number of people sometimes. And I think it's going to be really great for people

02:53.120 --> 02:58.000
to have an area they can come and just talk about a specific topic without blasting it

02:58.000 --> 03:00.360
off to 1700 people every time.

03:00.360 --> 03:03.080
Trenton Larkin Absolutely. We'll have a link in the show notes

03:03.080 --> 03:07.320
at self-hosted.show slash 16. And I'll also try to remember to put a link at the top of

03:07.320 --> 03:12.020
the website for the Discord. I want to underscore something here because I want to make it clear.

03:12.020 --> 03:15.980
It's not a decision Alex and I came to lightly. It's something that he and I have literally

03:15.980 --> 03:22.880
been discussing since episode zero when we were just brainstorming. And while we almost

03:22.880 --> 03:28.880
always default to self-hosted, it is in a few exceptions where we don't. And there's

03:28.880 --> 03:33.520
other areas, too. I'll just admit to it right now. I use Twitter and I use YouTube and I

03:33.520 --> 03:40.400
don't like it. I actually don't like it because I don't host them. But that is where the audience

03:40.400 --> 03:47.480
is. And I think for a lot of people it's all a balance. Some stuff is really worth going

03:47.480 --> 03:50.880
on to the top of the hill and fighting to your death. And some stuff is just easier

03:50.880 --> 03:56.280
to go with the flow and just get collaborating. And I think that if this Discord server leads

03:56.280 --> 04:01.200
to more people collaborating and trying out more self-hosted software and technology and

04:01.200 --> 04:04.080
building out more self-hosted infrastructure, then it's a net win.

04:04.080 --> 04:07.240
Trenton Larkin Yeah, couldn't have said it better myself.

04:07.240 --> 04:12.440
Let's do some follow up from last episode where we talked about Grossi, the toilet paper

04:12.440 --> 04:14.680
stockpiling inventory management system.

04:14.680 --> 04:15.680
Josh Birk And batteries.

04:15.680 --> 04:19.360
Trenton Larkin And batteries. There is a really cool thing

04:19.360 --> 04:23.660
that you can get called Barcode Buddy. So one of the pieces of feedback I had was it's

04:23.660 --> 04:29.380
quite laborious to enter all of your stuff into the inventory system. Well, with Barcode

04:29.380 --> 04:35.080
Buddy, there's a link in the show notes. With Barcode Buddy, you can actually scan using

04:35.080 --> 04:39.400
an app on your phone, the barcodes of, you know, tins of beans and all that kind of stuff

04:39.400 --> 04:43.320
and actually add it to the database that way. So I thought that was pretty cool and worth

04:43.320 --> 04:44.320
sharing with you.

04:44.320 --> 04:46.960
Josh Birk That I actually would do. Not so big on the

04:46.960 --> 04:52.560
manual entry, but the old scan and go, I'm okay with that. I think that's a nice little

04:52.560 --> 04:53.880
addition. I love that.

04:53.880 --> 04:56.840
Trenton Larkin Right. Shall we come on to the bad news of

04:56.840 --> 04:57.840
the day?

04:57.840 --> 04:58.840
Josh Birk Okay, I'm ready.

04:58.840 --> 05:01.960
Trenton Larkin It was announced this week that Dark Sky have

05:01.960 --> 05:03.560
been bought by Apple.

05:03.560 --> 05:05.160
Josh Birk Yeah.

05:05.160 --> 05:06.160
Trenton Larkin Sad trombone.

05:06.160 --> 05:09.640
Josh Birk This is a bad one because it's super popular

05:09.640 --> 05:15.000
as a tool in the home assistant community. But I've discovered based on the now daily

05:15.000 --> 05:18.480
messages I'm getting from audience members that a lot of other projects are using it

05:18.480 --> 05:25.220
too for their backend information. This is an example where a hosted project maybe wasn't

05:25.220 --> 05:29.560
the best solution. And I don't know what your answer is here for weather other than it did

05:29.560 --> 05:34.160
get me thinking. Is it time for a weather station in the junkyard?

05:34.160 --> 05:38.000
Josh Birk You could easily do it with an ESP8266 board

05:38.000 --> 05:41.440
and you know, maybe $15 worth of parts.

05:41.440 --> 05:43.040
Trenton Larkin Yeah, you think?

05:43.040 --> 05:44.040
Josh Birk Yeah.

05:44.040 --> 05:46.320
Trenton Larkin Okay. All right. Sounds like we got a project

05:46.320 --> 05:48.160
for next time Alex visits Washington.

05:48.160 --> 05:50.600
Josh Birk I've been meaning to do this in my backyard

05:50.600 --> 05:52.800
since I moved here. So I will do it. I will do it.

05:52.800 --> 05:54.560
Trenton Larkin I'd legitimately be interested to see how

05:54.560 --> 05:55.560
it goes.

05:55.560 --> 05:56.560
Josh Birk Don't tempt me.

05:56.560 --> 06:00.280
Trenton Larkin This is a shame though. Apple bought them

06:00.280 --> 06:04.680
and you know, it's not unusual for when they make an acquisition like this for them to

06:04.680 --> 06:11.340
either shut down or just change the game completely. The good news is if you already have API credentials,

06:11.340 --> 06:14.880
it sounds like it's going to remain on until maybe some point in early 2021.

06:14.880 --> 06:18.400
Josh Birk Yeah, that is air quotes good news. New users

06:18.400 --> 06:23.560
cannot get API keys anymore. So even once Apple integrate this into whatever product

06:23.560 --> 06:28.800
they have in mind, presumably the weather app, right? They're gonna be doing API calls

06:28.800 --> 06:35.000
under the hood anyway. Dark Sky is a paid service. I think I pay 79 pence or $1 a year

06:35.000 --> 06:39.880
or something for Dark Sky access through my phone. It's such a small amount of money that

06:39.880 --> 06:44.400
I can't remember exactly how much it is. But you know, the point is, is that Apple could

06:44.400 --> 06:52.080
maintain the existing product without necessarily really affecting, in my opinion, whatever

06:52.080 --> 06:55.720
integrations they're trying to do. Now, obviously, I'm not, you know, Scott Federighi. I don't

06:55.720 --> 06:57.960
exactly know what plans they have for it.

06:57.960 --> 06:58.960
Trenton Larkin Craig Federighi.

06:58.960 --> 07:01.560
Josh Birk Oh, Scott Forstall, wasn't it?

07:01.560 --> 07:05.160
Trenton Larkin Yeah. You know, I follow you. I think they

07:05.160 --> 07:09.560
would brand it as like iCloud weather or something like that, and then nobody would want it.

07:09.560 --> 07:13.200
I think Apple looked at this and they say, well, this isn't enough money to be worth

07:13.200 --> 07:18.520
our time. Let's just keep our competitive advantage. And we'll just internalize it.

07:18.520 --> 07:24.400
So not only is it probably not a moneymaker, even at $1, as you say, a year, or a month,

07:24.400 --> 07:29.680
whatever. I think that combined with the competitive nature of them being the exclusive holder

07:29.680 --> 07:33.360
of this information is probably worth it. I mean, for me, the thing I loved about Dark

07:33.360 --> 07:38.560
Sky was that super hyper local rain information. As you can imagine here in the Pacific Northwest,

07:38.560 --> 07:39.560
I check that thing daily.

07:39.560 --> 07:42.000
Josh Birk Almost like it rains a lot where you are.

07:42.000 --> 07:43.680
Trenton Larkin Almost like that.

07:43.680 --> 07:46.100
Josh Birk One time I stood outside a pub in London with

07:46.100 --> 07:50.360
some colleagues and I got Dark Sky out and we were having a pint stood outside. You know

07:50.360 --> 07:53.360
how it is in London. If you've been there, there's the little tape on the floor. You

07:53.360 --> 07:57.960
have to stand inside. And so we were stood just outside the tape, outside the canopy,

07:57.960 --> 08:02.420
and it started to absolutely throw it down. And I said to people, right, this rain is

08:02.420 --> 08:07.280
going to last for three more minutes. Three minutes later, it stopped. Bang. Dead on.

08:07.280 --> 08:09.880
Trenton Larkin Yep. Same thing. I was at a meetup and we

08:09.880 --> 08:13.200
were eating outside and we checked Dark Sky. Is it worth going inside? Because there was

08:13.200 --> 08:17.640
really no tables. What would we do? Look at Dark Sky. Yep, it's worth going inside. It's

08:17.640 --> 08:21.720
going to be raining for an hour. It was really nice. While we're still on the Home Assistant

08:21.720 --> 08:26.000
topic, what are you going to do in Home Assistant to replace Dark Sky? What is do you have an

08:26.000 --> 08:27.000
option right now?

08:27.000 --> 08:29.000
Josh Birk I don't know. I'm hoping to solicit feedback

08:29.000 --> 08:32.960
from the audience. Quite honestly, self hosted dot show slash contact.

08:32.960 --> 08:35.160
Trenton Larkin While we're still in follow up and on the

08:35.160 --> 08:40.340
topic of Home Assistant, the last episode, I think it was, you made a very, very strong

08:40.340 --> 08:44.900
pitch for me to switch to what I refer to as has IO, which is just now Home Assistant.

08:44.900 --> 08:51.120
But it's the whole OS stack, where you get the supervisor with official add ons and third

08:51.120 --> 08:55.480
party add ons. And then it's very easy to add hacks, the Home Assistant community store,

08:55.480 --> 09:00.100
and get even more integrations. And you really kind of piqued my interest when we did a live

09:00.100 --> 09:04.500
stream. And I thought to myself, I got to do this at some point. It all went south though,

09:04.500 --> 09:10.140
when my Raspberry Pi Raspbian install started kicking up a bunch of errors, package errors,

09:10.140 --> 09:15.560
about the Linux image package, which that sounds really bad. It also kicked up a bunch

09:15.560 --> 09:20.800
of errors about my time zone information. And I just don't think it's going to survive

09:20.800 --> 09:24.620
a reboot. So I thought, well, I recognize the problem better do something about it.

09:24.620 --> 09:32.580
So I bought another Raspberry Pi four. Only this time, I put Ubuntu 2004 LTS on that sucker.

09:32.580 --> 09:40.060
And it's running from an external SSD, not off the SD card. It screams, screams, Alex,

09:40.060 --> 09:44.100
I can't believe the performance I'm getting on this thing. Everything's faster. And then

09:44.100 --> 09:49.340
what I did is I grabbed Home Assistant's installation script. And I ran that on top of 2004. It

09:49.340 --> 09:53.260
pulled down all the containers after I had Docker set up. And now I'm essentially running

09:53.260 --> 09:58.160
what I would have traditionally called has IO with custom themes. I got hacks installed,

09:58.160 --> 10:05.020
I got everything reset up. And really, it wasn't as bad as I was expecting. I drove

10:05.020 --> 10:11.260
home dreading this because my Home Assistant setup works so well. And it is actually responsible

10:11.260 --> 10:15.140
for quite a few things. Now. I was dreading it. You told me it wouldn't be so bad. And

10:15.140 --> 10:20.060
you were right. Thank you. Two tricks I'd like to impart upon the audience. The thing

10:20.060 --> 10:25.280
I was most concerned about was moving over my Z wave devices. I have some Zigbee and

10:25.280 --> 10:31.760
Z wave devices that I use for temperature, light, motion, security, base data is battery

10:31.760 --> 10:36.900
based at it's like all kinds of Z wave devices, and outdoor plugs. And I just didn't know

10:36.900 --> 10:43.180
like what what how do you move a Z wave network over. But I shut down the old Docker images

10:43.180 --> 10:48.220
of my old Home Assistant core install, export it out or went in on the file system grabbed

10:48.220 --> 10:54.340
all of the Z wave configs. I shut down the Home Assistant install and has IO move those

10:54.340 --> 11:00.240
Z wave configs over inside the container, and then plugged in the adapter started it

11:00.240 --> 11:05.460
up and all of the devices just moved with the controller and all started reporting they

11:05.460 --> 11:09.940
lost all their names. So I had to rename everything which was a real chore figuring out what was

11:09.940 --> 11:14.980
what? Let me tell you. That can be a pain in the ass. Yep. Yeah, yeah, it was. So one

11:14.980 --> 11:18.660
of my tricks was is I just cranked the heat in the room and then just waited to see which

11:18.660 --> 11:25.740
one registered. So that was the other room. I opened all the windows. It was a mess. And

11:25.740 --> 11:30.180
then the HomeKit devices were particularly hard because once they're paired with something

11:30.180 --> 11:35.140
that can't be repaired with and a lot of them just have a general reset defaults. They don't

11:35.140 --> 11:38.740
have a way to unpair them by holding down keys. So I had to go around to the HomeKit

11:38.740 --> 11:45.460
smart plugs, reset them, rejoin them to my phone, then remove them from HomeKit and then

11:45.460 --> 11:52.960
add them to Home Assistant one by one. So I got rid of those. Now, I will say last thing,

11:52.960 --> 11:56.260
if you want a really easy smart plug that isn't something you have to flash, I still

11:56.260 --> 12:01.140
think the TP links were a good purchase because they were automatically all redetected. And

12:01.140 --> 12:05.180
the names I had given them were actually written to the device. So they all showed up with

12:05.180 --> 12:10.020
the names I had from the old Home Assistant install, auto populated, clicked right in.

12:10.020 --> 12:15.020
The easiest part was the TP link. And they're the smaller ones that only take up one plug.

12:15.020 --> 12:17.860
I think if you're going to get a smart plug that isn't something you reflash, that's still

12:17.860 --> 12:22.500
the one to get. Just works immediately with Home Assistant. It does require an app.

12:22.500 --> 12:27.340
You know, it's even better than the TP link ones. This is a point where I talk about Tasmota

12:27.340 --> 12:28.340
again.

12:28.340 --> 12:29.900
No, you're right.

12:29.900 --> 12:35.320
When I rebuilt my Home Assistant instance, the DNS name that I use for my MQTT server

12:35.320 --> 12:39.740
meant that I didn't even have to reconfigure the plugs. It just picked up the MQTT server

12:39.740 --> 12:40.740
again and

12:40.740 --> 12:46.740
Oh, that's even better. You're right. See, what I appreciate about the TP links is I

12:46.740 --> 12:51.260
could get them in two packs for like $35 from Amazon. And then they just plug in. You use

12:51.260 --> 12:54.340
the app once to configure them. You never have to use the app again after they're on

12:54.340 --> 12:55.340
your network, though.

12:55.340 --> 12:56.340
Yeah, it's not too bad.

12:56.340 --> 13:00.140
It's not too bad. But one day that app will probably go away.

13:00.140 --> 13:03.740
Yep, it will. Don't know when, but it will.

13:03.740 --> 13:08.540
Yeah. In the meantime, it's not so bad. Just how I'm on the fence like with those kinds

13:08.540 --> 13:09.540
of things.

13:09.540 --> 13:14.860
You know, I think there is a real value in doing a Nuke and Pave. When it's a new thing

13:14.860 --> 13:20.760
like Home Assistant, it's relatively new. I think back to my early days with Windows

13:20.760 --> 13:28.220
of Linux of even Mac OS, the way I used to learn the most was when I was rebuilding those

13:28.220 --> 13:32.120
systems, rebuilding those automations, whatever it might be.

13:32.120 --> 13:36.860
It's like a trail. You're re-stamping down the grass and the weeds. You're making that

13:36.860 --> 13:42.060
trail. You're working it in. It took me, what, a week or two the first time, and it took

13:42.060 --> 13:48.100
me an evening this time. Maybe it's not 100% done, but in other ways, I have more functionality

13:48.100 --> 13:53.580
now with the add-on store hacks. Now I have snapshots, themes.

13:53.580 --> 13:59.020
Additionally, this time around, I thought, well, why not set it up more with their Nebuchadnezzar,

13:59.020 --> 14:06.320
the Home Assistant online services. I decided, let's turn on the Echo integration. I'd never

14:06.320 --> 14:07.320
done that before.

14:07.320 --> 14:12.860
Jason Valee It's pretty great. I can kick off automations

14:12.860 --> 14:19.660
and scripts via the Echo. Now that's money. If I say Echo, run bed time, which we call

14:19.660 --> 14:24.740
last call, from anywhere, and then I can say Echo, good morning, and it just, from anywhere,

14:24.740 --> 14:30.300
it's really nice. Via the Echo, I can set brightness levels. So I can just say Echo,

14:30.300 --> 14:31.300
set kitchen strip to 10%.

14:31.300 --> 14:34.220
Jason Valee Again, that speaks to the whole...

14:34.220 --> 14:37.900
Jason Valee...compromise. Yeah, it's a compromise that those things are not self-hosted. They

14:37.900 --> 14:46.300
are reliant upon Amazon and Google and Apple to some extent, and for me, an internet connection

14:46.300 --> 14:50.260
as well, which is not always guaranteed. But the way I look at it is that remote control

14:50.260 --> 14:57.380
is just the beginning. If you can turn something on and off remotely, that then opens the door

14:57.380 --> 15:01.900
to be able to link it in with all the other devices, and this is why, in my opinion, Home

15:01.900 --> 15:08.580
Assistant is doing such a great job. It allows a single entity, a single instance where it's

15:08.580 --> 15:14.420
just got a record of everything that's in your house or in your RV or whatever, and

15:14.420 --> 15:18.620
it's all in one place and it's all aware of what everything else is doing, and then you

15:18.620 --> 15:24.820
can kick off automations based on that. For example, in my garage, I have a light switch

15:24.820 --> 15:29.380
with Shelly in it. Shelly is the thing we talked about a few weeks ago that is a smart

15:29.380 --> 15:34.060
switch kind of like add-on. This is the size of like an Oreo cookie and goes inside the

15:34.060 --> 15:35.060
light box.

15:35.060 --> 15:37.860
Right, turns any regular switch into a smart switch.

15:37.860 --> 15:43.380
Correct. And then I have on a separate light circuit, a separate pair of lights in the

15:43.380 --> 15:47.660
back half of my garage so that I would normally have to walk over to the far side of the garage

15:47.660 --> 15:53.180
and flick a separate individual switch that's on a completely different circuit. But because

15:53.180 --> 15:57.940
these two lights are on the same Home Assistant instance, I can flick one switch and I have

15:57.940 --> 16:02.680
an automation that's always listening for a state change. And if either of those switches

16:02.680 --> 16:08.460
gets toggled, it knows to turn the other one off as well. And once you start thinking about

16:08.460 --> 16:14.220
how you can convert dumb switches into smart switches, oh boy.

16:14.220 --> 16:19.180
Very much so. And I also kind of look at the Echo stuff and even the Nebuchadnezzar or

16:19.180 --> 16:26.160
whatever it's called, remote integration as layers on top of a core. And if that were

16:26.160 --> 16:31.900
to go away, no big deal. I have a tablet mounted to the wall. That's actually my main control

16:31.900 --> 16:35.640
for my Home Assistant is the tablet mounted to the wall, not the Echo.

16:35.640 --> 16:37.260
What do you use? Is it the Fire?

16:37.260 --> 16:43.900
Yeah, I know a lot of people will like reflash it or set up in kiosk mode. I find none of

16:43.900 --> 16:48.180
that necessary. I just got one app to keep the screen on all the time. And then I just

16:48.180 --> 16:52.420
open the browser in full screen mode and just leave it up. And it works all the time.

16:52.420 --> 16:57.540
As you see in the latest Home Assistant update, 1.0.7 is the latest version, there is a new

16:57.540 --> 17:04.260
dashboards feature. So you can actually have different home screens for different devices,

17:04.260 --> 17:10.460
not different pages. It's like a different kind of interface all based off the same Home

17:10.460 --> 17:11.460
Assistant instance.

17:11.460 --> 17:15.380
That's definitely something I'm going to take advantage of because there's an interface

17:15.380 --> 17:20.340
that works well on that tablet, but that doesn't necessarily look good on my desktop browser.

17:20.340 --> 17:23.720
Yeah, tablet, you want big fat buttons for your big fat fingers.

17:23.720 --> 17:25.220
That's exactly what I did.

17:25.220 --> 17:28.340
On a desktop, you want tiny little toggles because you have a mouse, right?

17:28.340 --> 17:34.080
I did exactly that. I did really big buttons with sliders and just to make it really easy

17:34.080 --> 17:39.180
for one spot for them to touch. And then I did like individual smaller toggles for myself

17:39.180 --> 17:43.100
and using like the new temperature cards and stuff like that, that all look very nice.

17:43.100 --> 17:46.940
So visually to the family, it looks like dad just did a big upgrade to the thing that they

17:46.940 --> 17:47.940
use.

17:47.940 --> 17:50.540
Good job, Chris. Well done. Nice effort.

17:50.540 --> 17:55.660
Little do they know, I was like, oh, God, I don't know if I'm going to pull this off.

17:55.660 --> 17:59.300
But I'm glad I did it now. And I'll be playing around more with the stuff that's built into

17:59.300 --> 18:05.940
it. One of the things that works significantly better with this load is my Wyze cams. I pull

18:05.940 --> 18:11.500
the RTSP feeds into picture elements or media elements into Home Assistant. I just have

18:11.500 --> 18:17.900
one security tab where I can get a real time feed of all of my Wyze cams. Works much better

18:17.900 --> 18:22.860
with the new load. That is unless I take advantage of this new firmware they've released.

18:22.860 --> 18:27.420
Yes, with the new work from home movement that seems to be gripping the world by storm

18:27.420 --> 18:31.900
right now, Wyze have enabled a webcam mode.

18:31.900 --> 18:36.540
This is a weird one, but it involves manually installing a firmware onto your Wyze camera

18:36.540 --> 18:42.900
like you would to get RTSP support. And then after that, the Wyze camera no longer communicates

18:42.900 --> 18:48.140
with the Wyze app. It just stops talking to their cloud servers. But you can plug it in

18:48.140 --> 18:53.380
to your machine and it'll power it over the USB port and act as a USB web camera for them

18:53.380 --> 18:54.380
Zoom calls you're making.

18:54.380 --> 19:01.100
You know, I have a top tip if you want a webcam. Probably don't use your Wyze cam. Go to eBay

19:01.100 --> 19:04.780
and buy a Logitech C920 for $40 used.

19:04.780 --> 19:08.860
Yes, great tip. The nice thing about that, too, although probably the Wyze as well, is

19:08.860 --> 19:14.380
that it does H.264 encoding in the camera. So it takes less CPU load, which is always

19:14.380 --> 19:19.300
a good thing and still a pretty good picture. I don't think this is something I would use,

19:19.300 --> 19:23.780
but I do appreciate the flexibility of these $25 cameras. That's kind of fun.

19:23.780 --> 19:27.340
Well, I'll tell you what's great. My wife is a music teacher and she's had to convert

19:27.340 --> 19:32.380
all of her students and teach them through Skype or Zoom or FaceTime or whatever. And

19:32.380 --> 19:37.300
her iPad is getting a real workout at the moment. And if for any reason that went down

19:37.300 --> 19:42.900
and stopped working or whatever and then one of the three laptops I have in the house stops

19:42.900 --> 19:48.420
working and then one of the three other webcams I have in the house stopped working, then

19:48.420 --> 19:52.020
I might use a Wyze cam as a webcam.

19:52.020 --> 19:54.660
And you decide not to just do it from your phone for some reason, which probably has

19:54.660 --> 19:55.660
a better camera.

19:55.660 --> 20:01.380
Oh, yeah. Yeah, yeah. There's a lot that would have to break in my house before I got to

20:01.380 --> 20:04.220
the Wyze cam, but it's not the case for everybody.

20:04.220 --> 20:11.360
However, if you just want to buy one $25 camera, it will do it all, which is, I guess, nice.

20:11.360 --> 20:15.500
We have not dug a lot into home networking yet, but it's something Alex and I are talking

20:15.500 --> 20:20.220
a lot more about. So we thought we'd cover a little bit of home networking basics today.

20:20.220 --> 20:24.260
With this whole working from home business, there's been a lot of calls appeared in my

20:24.260 --> 20:29.260
calendar of people that normally work in an office that are missing that kind of social

20:29.260 --> 20:32.820
contact. Now, for those of you that don't know, I work from home 100% anyway. So for

20:32.820 --> 20:38.620
me, not a huge amount has changed on my day to day, besides obviously the world ending.

20:38.620 --> 20:43.380
And I think that listening to a lot of these people, you know, quote unquote normies talking

20:43.380 --> 20:50.060
about Wi-Fi and firewalls, and I've just referred to other Red Hatters as normies, didn't I?

20:50.060 --> 20:56.820
I know. I just love where this is going. Now, to bail you out a little bit, 100% of my meetings

20:56.820 --> 21:02.380
this week have people working from home dealing with Wi-Fi trouble. And then people like going

21:02.380 --> 21:06.360
from the nice room that they've set up where they've cleaned up behind them to like progressively

21:06.360 --> 21:08.940
having to just move closer and closer to the router. And pretty soon they're like just

21:08.940 --> 21:12.660
in their closet so they can make the call work. Let's preface everything I'm about to

21:12.660 --> 21:19.240
say about Wi-Fi with the caveat that a wire is always better, significantly better for

21:19.240 --> 21:23.860
real time video calls as well. The machine I'm doing this call with you wired in right

21:23.860 --> 21:29.300
now, I would never do this without it being wired in. And so you have this initial spot

21:29.300 --> 21:33.600
with a lot of people's home networks where the Wi-Fi network just by its very nature

21:33.600 --> 21:38.420
because it's radio isn't as solid. And so that right there introduces problems regardless

21:38.420 --> 21:42.380
of the rest of the network infrastructure on your LAN or your internet connection.

21:42.380 --> 21:50.540
Yes. And another thing that a lot of people don't think about is the ISP provided routers

21:50.540 --> 21:55.940
often have Wi-Fi hotspots built into them. You know, your ISP will rent you a router

21:55.940 --> 22:00.980
or sell you a router or maybe just give you one for the duration of your contract. And

22:00.980 --> 22:06.720
quite often they are what's called a combination device. They do all the routing into and out

22:06.720 --> 22:13.680
of your network. So every webpage that you visit, your traffic goes through that firewall

22:13.680 --> 22:18.760
outbound. And then when you request that webpage to come back, it comes inbound through your

22:18.760 --> 22:24.740
firewall that way and then out through the Wi-Fi that's also in the same device. So sometimes,

22:24.740 --> 22:29.220
especially when you have a house full of, I don't know, half a dozen children and, you

22:29.220 --> 22:33.900
know, a dog and everybody that wants to stream Netflix all at the same time, you can end

22:33.900 --> 22:38.420
up quite quickly in a situation where the routing tables in these devices, they're very,

22:38.420 --> 22:45.460
very cheaply made Chinesium type routing devices and they don't have a lot of memory in them,

22:45.460 --> 22:50.860
a lot of these cheap ones. And very quickly you can exhaust the tables that they have

22:50.860 --> 22:55.700
available that will fit in their memory. And that can manifest itself in a number of different

22:55.700 --> 23:04.640
ways, poor performance, slow latency, pages just not loading for no reason, crash, crashes.

23:04.640 --> 23:09.580
One of the things that I did probably four or five years ago that's helped my Wi-Fi experience

23:09.580 --> 23:18.100
the most more than anything else was to separate my ISP modem or my router from the Wi-Fi hotspots

23:18.100 --> 23:24.100
that I use for everything else. Now, I will also say that putting everything I possibly

23:24.100 --> 23:29.300
can on an ethernet cable helps a lot as well. You know, like my Nvidia Shield is on ethernet,

23:29.300 --> 23:36.300
my PlayStation 4, my 3D printer is on an ethernet cable, all of my desktops, my laptop is on

23:36.300 --> 23:41.820
Wi-Fi 90% of the time, but at my desk where I spend most of my day, there is an ethernet

23:41.820 --> 23:49.340
cable there ready for it. So if I can avoid Wi-Fi, I will. But sometimes you just can't,

23:49.340 --> 23:51.900
you know, with a phone or a tablet, for example.

23:51.900 --> 23:58.180
Or in my situation where we have ethernet everywhere in the studio, I go to the RV,

23:58.180 --> 24:03.480
I can't run ethernet at all. It's just literally not an option. And so I have to have extremely

24:03.480 --> 24:04.700
robust Wi-Fi.

24:04.700 --> 24:09.860
And so by separating out the firewall from the Wi-Fi, that gives you a few benefits.

24:09.860 --> 24:14.980
Firstly, if you have to reboot the router, all of the devices in your house will maintain

24:14.980 --> 24:19.660
their Wi-Fi connection. Chromecasts won't decide that they need to now turn into a hotspot

24:19.660 --> 24:24.260
and take a few minutes to figure out that the Wi-Fi is available again. But the same

24:24.260 --> 24:29.460
is true conversely as well. If there's a problem with your Wi-Fi, you can reboot just the access

24:29.460 --> 24:34.900
point and then your internet connection will stay completely stable and solid.

24:34.900 --> 24:40.220
So there's a few benefits to doing it. And the company that I've used for the longest

24:40.220 --> 24:43.940
time now is Ubiquiti, who make the UniFi line of devices.

24:43.940 --> 24:48.100
I think probably most people listening at this point must be familiar with Ubiquiti.

24:48.100 --> 24:54.580
They are extremely popular in our segment. And I think the number one thing I've heard

24:54.580 --> 25:00.240
is they have really sophisticated management. And generally, there's just the one downside

25:00.240 --> 25:05.180
brought up and that is the controller software. But even that doesn't necessarily sound like

25:05.180 --> 25:08.100
it's the end of the world. You just have to be willing to host an application and it has

25:08.100 --> 25:09.820
to be able to talk to the internet.

25:09.820 --> 25:14.060
I was talking to somebody on the Ubiquiti broadcasting telegram just this afternoon

25:14.060 --> 25:19.660
about hosting the UniFi controller out of a Docker container. Linux server obviously

25:19.660 --> 25:26.780
make one and I've used that for years and it just works. Now I have two, I've just recently

25:26.780 --> 25:33.060
added actually a third access point in my house. And all of these devices talk back

25:33.060 --> 25:38.040
to a UniFi controller that's running on a DigitalOcean droplet. So it's not even running

25:38.040 --> 25:43.380
in my house. I wrote a blog post last week, which there'll be a link to in the show notes,

25:43.380 --> 25:49.060
about how to adopt an access point, a new access point with a remote controller. Now

25:49.060 --> 25:52.900
for most people, they're going to be running their UniFi controller on a Raspberry Pi inside

25:52.900 --> 25:54.740
the firewall or...

25:54.740 --> 25:55.740
In a container.

25:55.740 --> 25:59.260
Yeah, something like that. And it's not going to be an issue. It's just going to appear

25:59.260 --> 26:05.260
through magic in the controller. You can adopt it and then configure it that way. It gives

26:05.260 --> 26:10.620
you a lot of flexibility in some ways. It did feel, I will admit the very first time

26:10.620 --> 26:16.740
that I did it, like a bit of a, why do I need, why can't I just go to the IP address of the

26:16.740 --> 26:21.500
access point and do it that way? That's the way I've always done it before. But the advantage

26:21.500 --> 26:27.540
of having a centralized configuration system is that if for any reason I need to reload,

26:27.540 --> 26:32.500
I can back up all my configurations to that central system, wipe the access point and

26:32.500 --> 26:36.780
then just reload the configuration from there. And what it's meant is that I've had now a

26:36.780 --> 26:43.920
stable Wi-Fi configuration and network that's transcended four, five different houses, multiple

26:43.920 --> 26:50.380
different ISPs. And that's another point I didn't actually bring up is if you separate

26:50.380 --> 26:57.620
your Wi-Fi from the ISP provided router, every time you change ISPs, if you move house or

26:57.620 --> 27:02.580
whatever, you don't have to reconfigure all your Wi-Fi devices. You've still got the same

27:02.580 --> 27:03.580
SSID, the same password.

27:03.580 --> 27:08.700
So I've got a couple of questions for you. Are they aware of each other essentially?

27:08.700 --> 27:13.080
Do they balance their signal because they're aware of each other's location? Is that also

27:13.080 --> 27:17.240
a benefit of the centralized controller? I had presumed it was when I had seen enterprise

27:17.240 --> 27:20.580
deployments. Is that true in home deployments as well? Or is it not really applicable for

27:20.580 --> 27:21.580
you?

27:21.580 --> 27:26.420
I don't know if that's because of the centralized controller, but the Unifi gear itself does

27:26.420 --> 27:30.860
have this zero handoff feature, which allows me to roam between different access points

27:30.860 --> 27:37.220
in the building. And I just don't know slash care which particular access point I'm connected

27:37.220 --> 27:38.220
to right now.

27:38.220 --> 27:40.700
Yeah. So have you tested the performance of it?

27:40.700 --> 27:48.780
Yes. Yes, a lot. I use that Libre Speed app running on the server in my basement to test

27:48.780 --> 27:52.700
the throughput of the Wi-Fi. And I actually identified that one of the ethernet ports

27:52.700 --> 27:58.740
on my Unifies was slightly dodgy through that. And I used a bit of hot glue to really jam

27:58.740 --> 28:04.540
the cable in there and keep it there. And so I went from sort of round about 100 megabits

28:04.540 --> 28:09.220
on that one up to pretty much full gigabit speed, not through Wi-Fi.

28:09.220 --> 28:14.780
The reason I asked, and I think this is really important to underscore, is I've been to Buddy's

28:14.780 --> 28:20.780
houses, I've been to a shop, and I've had one set up here in the studio that are all

28:20.780 --> 28:30.620
Unifi Wi-Fi networks. And in those three anecdotal experiences in which I have gone to, I had

28:30.620 --> 28:36.140
some of the worst Wi-Fi experiences like devices not connecting, horrible performance. And

28:36.140 --> 28:39.980
I think what it just sort of underscores is if the rest of your network isn't really up

28:39.980 --> 28:44.380
to shape, it doesn't matter what access points you put in. So like for these guys, their

28:44.380 --> 28:47.940
DHCP server was running on a piece of crap that was so slow that it would time out before

28:47.940 --> 28:50.700
you know you can get an IP. So that was the issue on one of them.

28:50.700 --> 28:55.780
There's other aspects to a network that make it... It's not just the access points, but

28:55.780 --> 29:00.700
I do think that it is more important than ever that Wi-Fi be as close to wire grade

29:00.700 --> 29:01.700
as possible.

29:01.700 --> 29:07.940
So I don't care whether you use Ubiquiti, Microtech, whoever. It really doesn't bother

29:07.940 --> 29:14.340
me whatsoever. The point is that you separate the Wi-Fi from the firewall. And that will

29:14.340 --> 29:19.980
in itself just enable easier troubleshooting. It will also mean, like I just said, that

29:19.980 --> 29:23.300
you can transcend different houses with the same Wi-Fi gear.

29:23.300 --> 29:27.080
Right. And the nice thing about the Ubiquiti gear is that's easy for you to do. And it's

29:27.080 --> 29:31.860
not so easy with a lot of the mesh solutions that are out there now, like the Google one

29:31.860 --> 29:37.100
and the D-Link one and the Eero one, which I've had good success with, but it wants to

29:37.100 --> 29:38.100
be a router.

29:38.100 --> 29:42.380
Now in the Eero solution, you don't have to use it as your main firewall slash router,

29:42.380 --> 29:47.820
but in some of these you do. And I very much like Alex, am a big proponent of separating

29:47.820 --> 29:53.940
those two tasks. I actually reboot my firewall on a somewhat regular basis because I'm often

29:53.940 --> 29:58.300
switching between multiple networks. And I just want to clear things out every now and

29:58.300 --> 30:03.860
then. And it takes like 15 seconds to reboot this little slate that I have. And so I just

30:03.860 --> 30:09.580
toss off a reboot. And I know that all my... What? You like tossing off a reboot? You like

30:09.580 --> 30:12.860
that? I toss off a reboot from here to there.

30:12.860 --> 30:15.540
Tossing off in England is slang for...

30:15.540 --> 30:21.380
I know what it's slang for. I just wasn't going to call it out. So I toss off a reboot

30:21.380 --> 30:26.740
and I just wait a few seconds and the device is reconnected and everything's good. That's

30:26.740 --> 30:27.740
my pro tip.

30:27.740 --> 30:29.460
Who doesn't enjoy a good toss off?

30:29.460 --> 30:35.500
No, especially when it's a reboot. It just feels good. So there's definitely some solid,

30:35.500 --> 30:39.000
solid rationale for separating those two devices. So if you are looking at some of those mesh

30:39.000 --> 30:44.220
networks that do offer some nice advantages, just be wary of that. Separate those functions

30:44.220 --> 30:45.220
if you can.

30:45.220 --> 30:49.780
There's a huge amount of stuff that if you want to hear about, let us know through selfhosted.show

30:49.780 --> 30:56.180
slash contact or find me on Twitter at ironicbadger. And let us know if you want to hear more about

30:56.180 --> 30:59.620
the UniFi. There's a bunch of features in there which we could cover.

30:59.620 --> 31:03.300
Yeah, I would like to get that feedback because we are definitely not done talking about this.

31:03.300 --> 31:07.660
We want to talk about switches and firewalls soon. So it's your chance to get your feedback

31:07.660 --> 31:12.260
in the Discord. That'd be a great spot to just engage with us on this. And it's a spot

31:12.260 --> 31:15.920
not only are we watching really closely, but where we could kind of have a ongoing conversation

31:15.920 --> 31:17.980
about it. So be sure to join us there.

31:17.980 --> 31:23.060
I need to upsell you on PFSense or OpenSense or one of these others.

31:23.060 --> 31:25.820
You think you could run on a Pine64 board?

31:25.820 --> 31:26.820
You're a madman.

31:26.820 --> 31:30.860
I know, I just ordered one and I'm trying to think of, you know that thing's got a PCI

31:30.860 --> 31:31.860
slot, Alex.

31:31.860 --> 31:32.860
Ooh.

31:32.860 --> 31:36.620
Yeah, I know. And I know if I'm thinking about it, thinking about it. But let's wrap up today

31:36.620 --> 31:40.340
by spending a little time talking about a really cool app you can load on your rig to

31:40.340 --> 31:45.260
get really good information. In fact, you can even use it to monitor multiple, it's

31:45.260 --> 31:49.860
called NetData and it's a Westpane special. He loads it on all of our systems here at

31:49.860 --> 31:50.860
the studio.

31:50.860 --> 31:57.100
If you've never tried it, netdata.cloud, it's kind of amazing. So it provides real time

31:57.100 --> 32:02.140
metrics of pretty much everything that's going on in your system. And it's really quite

32:02.140 --> 32:05.320
beautiful. It just runs in the background. You won't even know it's there. It uses very

32:05.320 --> 32:10.140
little resources. But if you want to know, for example, which of your hard disks is being

32:10.140 --> 32:16.180
completely trashed right now and causing your machine to stutter, load up this NetData thing,

32:16.180 --> 32:19.360
go and look at the disk IO section and you'll figure out, oh, it's this one over here. Maybe

32:19.360 --> 32:23.980
I need to move this workload over here or do something else with it.

32:23.980 --> 32:27.860
You can also monitor network traffic. It's a really good way to test, you know, you'll

32:27.860 --> 32:32.080
see quite often in Linus tech tip videos, they're monitoring network speed through an

32:32.080 --> 32:37.220
unraid server and they're using NetData to do it. So there's a lot of different use cases

32:37.220 --> 32:40.940
for this software and it comes highly recommended.

32:40.940 --> 32:46.100
Like you said, it is also very pretty, which I appreciate the way it visualizes everything.

32:46.100 --> 32:48.860
We keep it running here on the systems like I was talking about. And it's just a nice

32:48.860 --> 32:53.620
way to just check in on the health of them to get an idea of what the workload is. And

32:53.620 --> 32:58.420
you will spot weird problems watching these graphs. You will notice something's taken

32:58.420 --> 33:04.180
a long time to wait on X. Maybe it's like Alex was saying, a disk. I found what seemed

33:04.180 --> 33:10.980
to be a wonky Nick. And how about that? A wonky Nick. And we replaced it and it immediately

33:10.980 --> 33:15.580
looked better. It just was one of those things you could immediately visualize the improvement.

33:15.580 --> 33:19.100
And that's kind of cool too. Plus it stores all that stuff and then you can add your other

33:19.100 --> 33:22.880
rigs in there and switch between them. I don't think it stores them on their servers. It's

33:22.880 --> 33:25.460
all local. So they all have to be able to have access to the internet if you want to

33:25.460 --> 33:26.820
be able to jump around.

33:26.820 --> 33:30.780
It's all local. Yeah. Do you want to know the icing on the cake though? What is that?

33:30.780 --> 33:35.500
I discovered a Home Assistant integration for it. Stop it. Link it up. I got to see

33:35.500 --> 33:43.420
that. It's in the show notes. No, no, no, no way. So you could run net data on all of

33:43.420 --> 33:48.260
your pies and then have it show up various stats in Home Assistant about each of those

33:48.260 --> 33:56.100
pies. I do run it on my pies. So I will be doing this. That's great. Home Assistant is

33:56.100 --> 34:02.220
so awesome. This is ultimately why I had to go to the more HaasIO style setup because

34:02.220 --> 34:07.660
I realized there's such a great community around it and it's just getting better. And

34:07.660 --> 34:10.580
so you got to have access to all these cool things people are doing and that's just the

34:10.580 --> 34:11.580
best way to get it.

34:11.580 --> 34:17.900
Absolutely. Now I was on Reddit this week and I saw a post about somebody saying, everything's

34:17.900 --> 34:23.380
gone. All of my stuff is gone. And they'd accidentally exposed one of their services

34:23.380 --> 34:27.980
to the internet and some bad actor had come along and deleted all their media. Oh, that's

34:27.980 --> 34:34.220
so sad. Now we have an Ask SSH question from Seb Couture. Did I get that right, do you

34:34.220 --> 34:38.300
reckon? Let's say yes. I don't know why I'm asking you. You're horrible at pronouncing

34:38.300 --> 34:43.740
stuff. Yeah. I would have said SebCulture or something. And Seb writes in on Twitter,

34:43.740 --> 34:49.420
would you open your Home Assistant behind a reverse proxy? Is it safe? What do you think?

34:49.420 --> 34:55.660
Well my previous answer was no. And then this time I signed up for the Home Assistant cloud,

34:55.660 --> 35:00.500
which is not quite what he's talking about, but it is a form of remote access.

35:00.500 --> 35:05.740
That security through obscurity though almost with the URL's really long string of random

35:05.740 --> 35:06.740
characters.

35:06.740 --> 35:12.860
Yes, it is. And then you have to have authentication and there's those elements to it. And I opted

35:12.860 --> 35:17.820
to do it this time. In the past I required like a wire guard connection to get to it.

35:17.820 --> 35:20.720
And I think you've kind of opted to do the same, haven't you? You've set up a reverse

35:20.720 --> 35:26.180
proxy for yours. So you have kind of made that same sort of call. Again, it's a compromise.

35:26.180 --> 35:32.500
I run a few apps on my reverse proxy, which are public and internet facing, but they all

35:32.500 --> 35:40.180
have at minimum some kind of authentication. The mistake the guy made on Reddit was that

35:40.180 --> 35:45.380
he had no password for anything set. So if you just guessed the URL or the port number

35:45.380 --> 35:51.060
correctly, you could log in and delete whatever you wanted with no password.

35:51.060 --> 35:56.060
I don't think I would expose any of my media server or media collection applications to

35:56.060 --> 36:01.460
the web. I would only expose applications that are explicitly designed to have public

36:01.460 --> 36:05.540
facing features. And I know that just because some of these apps are web apps, it seems

36:05.540 --> 36:09.260
like they're designed for that, but they're not. They should only be used on your LAN,

36:09.260 --> 36:11.420
I think, or with a VPN.

36:11.420 --> 36:15.980
Right. And that was going to be my point, you know, with WireGuard making it into the

36:15.980 --> 36:24.220
Linux kernel now, which is amazing, incredible. There's no real excuse these days. And perhaps

36:24.220 --> 36:29.700
when we talk about firewalls in an episode or two, we'll talk about why I switched to

36:29.700 --> 36:36.020
OpenSense and what that has to do with WireGuard. But I think, you know, once you're on the

36:36.020 --> 36:42.980
VPN, it's so easy to pretend with DNS or whatever that you're on your LAN anyway. I mean, maybe

36:42.980 --> 36:47.940
five years ago it was different, but nowadays with WireGuard, it's so easy. I don't really

36:47.940 --> 36:51.860
see any excuse to open much to the internet anymore.

36:51.860 --> 36:56.980
I look forward to talking more about networking. That's been Self-Hosted 16, and we'll see

36:56.980 --> 37:10.300
you on Discord.

