1
00:00:00,000 --> 00:00:05,200
Coming up on today's show, I report back from a failure that led to a couple of cold nights.

2
00:00:05,200 --> 00:00:09,600
Alex has been shocking and jiving and we have a pick for you pack rats. I'm Chris.

3
00:00:09,600 --> 00:00:11,600
And I'm Alex and this is Cell Hosted.

4
00:00:12,880 --> 00:00:14,880
What did you end up buying on Prime Day then?

5
00:00:15,680 --> 00:00:22,000
You got me. I actually almost avoided it entirely, but for some reason in the evening,

6
00:00:22,000 --> 00:00:26,400
maybe I'd had a glass of wine, I had a moment of weakness and I opened up the Amazon app

7
00:00:26,400 --> 00:00:32,800
and they had the Fire Tablet, the new 8-inch, I guess it's quote unquote new, on sale for $50.

8
00:00:33,680 --> 00:00:35,840
$50? That's nothing.

9
00:00:35,840 --> 00:00:40,640
I know. And I'd already been thinking, in fact, this is probably why I opened the Amazon app,

10
00:00:40,640 --> 00:00:46,160
is I'd been thinking I'm ready for a second wall-mounted always-on home assistant display.

11
00:00:46,880 --> 00:00:52,320
And I don't know if I love the Fire Tablets, but I could be pretty happy at $50.

12
00:00:52,320 --> 00:00:54,400
What about you? Did you get anything?

13
00:00:54,400 --> 00:00:57,760
So there's two categories of Prime Day purchases, aren't there? There's the ones

14
00:00:57,760 --> 00:01:03,760
that you tell your wife about and the ones that you don't. I'm only kidding, but-

15
00:01:03,760 --> 00:01:07,840
No, you're not because I also just remembered, and I don't think I've told the wife yet,

16
00:01:07,840 --> 00:01:09,600
I went ahead and got a SodaStream.

17
00:01:09,600 --> 00:01:12,560
Oh, wow. 1980s cool. They want their SodaStream back.

18
00:01:13,120 --> 00:01:17,200
I drink water in the studio all the time and I'm getting kind of bored. I've been doing it

19
00:01:17,200 --> 00:01:21,600
forever. Just nothing but water during the day. And I want to spice it up a little bit.

20
00:01:21,600 --> 00:01:24,960
So I picked up yet another TV. This one's from my kitchen.

21
00:01:24,960 --> 00:01:28,400
Oh my, a kitchen TV, Alex? That's what tablets are for.

22
00:01:28,400 --> 00:01:33,760
Well, yeah. I mean, we've been using my iPad for that for a little while, but I don't know,

23
00:01:33,760 --> 00:01:37,280
like when you're cooking, there's something about just having that big display on the wall.

24
00:01:37,280 --> 00:01:43,040
And so I bought a 43-inch TCL TV thinking it would be the same as the other two that I have

25
00:01:43,040 --> 00:01:48,400
with the Roku built-in. I didn't even look, just bought it from Target actually, not Amazon.

26
00:01:48,400 --> 00:01:52,960
It was $179. So it was really very, very cheap.

27
00:01:52,960 --> 00:01:53,760
Wow.

28
00:01:53,760 --> 00:01:57,520
And it comes with Android TV on it, would you believe?

29
00:01:57,520 --> 00:01:58,640
Not, but not Google TV?

30
00:01:59,440 --> 00:02:01,200
It says Android TV on the box.

31
00:02:01,200 --> 00:02:03,440
Oh, right. But it's not Google TV, right? It's not.

32
00:02:03,440 --> 00:02:07,600
No, I know what you're saying. Like it's supposed to be the same as what's on the new Chromecast,

33
00:02:07,600 --> 00:02:10,880
but it's different. It's the same as what's on the Shield.

34
00:02:10,880 --> 00:02:15,200
Ah, okay. That's great. How's the performance?

35
00:02:15,200 --> 00:02:20,720
Performance is what you'd expect from probably a three or four-year-old processor that they've put

36
00:02:20,720 --> 00:02:27,680
in there. Yeah, it's fine. It does the job. It's a very bright, punchy TV. It's not going to win

37
00:02:27,680 --> 00:02:30,560
any awards, but for the price, I don't really care.

38
00:02:30,560 --> 00:02:36,080
Well, here's the question. Are you going to attach any external set-top boxes to it,

39
00:02:36,080 --> 00:02:38,240
or are you going to use the built-in Android?

40
00:02:38,240 --> 00:02:39,920
Well, that's what I bought the Chromecast for.

41
00:02:39,920 --> 00:02:40,720
Oh.

42
00:02:40,720 --> 00:02:42,000
But now I don't need it.

43
00:02:42,000 --> 00:02:43,040
You're right.

44
00:02:43,040 --> 00:02:48,640
So now what are you going to do? You're going to keep the Android TV on there and then,

45
00:02:48,640 --> 00:02:51,920
oh, you know, that Chromecast, you could always just use it as a travel device if we-

46
00:02:51,920 --> 00:02:56,560
If we ever leave the house again. Yeah, maybe. I don't know what I'm going to do with it really,

47
00:02:56,560 --> 00:03:01,440
but it's interesting. It's amazing what you can get for the money these days, really.

48
00:03:02,000 --> 00:03:06,880
Yeah, I did see a lot of really good deals on TVs. I couldn't believe my eyes on some

49
00:03:06,880 --> 00:03:11,760
of the deals during Prime Day. I'm not in a place to really just hang a TV anywhere,

50
00:03:11,760 --> 00:03:16,720
so I didn't get one. But now that I think about it, you know, maybe as a business expense for

51
00:03:16,720 --> 00:03:20,560
the studio, I should have thought of something because I could always use another screen in here.

52
00:03:21,120 --> 00:03:23,520
Well, it's Black Friday again before you know it.

53
00:03:23,520 --> 00:03:23,760
Yeah.

54
00:03:24,800 --> 00:03:28,400
So coming up shortly, I'll talk to you about some of my hard drive purchases, but first-

55
00:03:29,520 --> 00:03:34,000
This episode is brought to you by a cloud guru. Tech moves fast, and so does ACG.

56
00:03:34,000 --> 00:03:38,000
Their courses and labs are always online and obsessively updated. Plus,

57
00:03:38,000 --> 00:03:43,280
they curate all the news on AWS, Kubernetes, Linux, and more. Stay up to date at acloudguru.com.

58
00:03:44,640 --> 00:03:50,240
So Alex, you also got some drives and you've been doing some shucking and jiving, I understand.

59
00:03:50,240 --> 00:03:55,520
Indeed I have. I think I might classify this as a hobby now. I seem to do it really quite often.

60
00:03:56,320 --> 00:04:03,200
So I bought five different chucked drives or five different USB enclosure drives,

61
00:04:03,200 --> 00:04:08,000
mostly so that I could report to everybody here what the different types of drives on

62
00:04:08,000 --> 00:04:10,320
the market are and the prices and that kind of stuff.

63
00:04:10,320 --> 00:04:11,840
Interesting. Okay.

64
00:04:11,840 --> 00:04:20,160
I bought a 10 terabyte easy store from Best Buy, which was $189. I bought that about a week ago

65
00:04:20,160 --> 00:04:27,200
because I found out after my ZFS snafus a couple of weeks ago that one of the drives in the mirror

66
00:04:27,200 --> 00:04:33,920
was failing smart, so it's time to replace that one quickly. The others that I bought,

67
00:04:33,920 --> 00:04:40,560
I bought a pair of 10 terabyte Seagate USB 3 drives, which I think were about $179 again.

68
00:04:41,200 --> 00:04:47,280
Oh no, those two were actually on Amazon warehouse deals, so I got those for like $150-ish each.

69
00:04:48,000 --> 00:04:54,320
And then the final two that I purchased were actually on Prime Day because Best Buy were

70
00:04:54,320 --> 00:05:01,200
matching Amazon and they did 12 terabyte drives for $169 a piece, so I got two of those as well.

71
00:05:01,200 --> 00:05:04,880
And what's really interesting between all these different drives is you don't really know what's

72
00:05:04,880 --> 00:05:11,760
going to be inside the box until you crack the case open. And a few years ago, I shucked about

73
00:05:11,760 --> 00:05:18,160
10 or 12 10 terabyte easy stores and they were all purchased within a few weeks of each other.

74
00:05:18,160 --> 00:05:24,640
And so my logic for buying more drives now is that if one or two drives are starting to go now,

75
00:05:25,520 --> 00:05:30,960
the chances of others from that batch going is probably decently high.

76
00:05:30,960 --> 00:05:31,920
I agree.

77
00:05:31,920 --> 00:05:36,720
They've been subjected to the same environmental conditions, the same vibrations, humidity,

78
00:05:37,520 --> 00:05:45,040
workloads, etc, etc. So it seems logical to start replacing those drives a couple at a time,

79
00:05:45,040 --> 00:05:49,120
you know, every six months or so, or whenever Best Buy has a sale, really.

80
00:05:49,120 --> 00:05:52,160
Now, those people in Europe that want to do this kind of thing,

81
00:05:52,160 --> 00:05:58,480
you obviously don't have Best Buy over there, but Amazon do have some good deals.

82
00:05:58,480 --> 00:06:03,600
So use camelcamelcamel.com to go and track the prices of different things on Amazon,

83
00:06:03,600 --> 00:06:08,560
and then you can see what the historical highs and lows were. Bear in mind that US prices don't

84
00:06:08,560 --> 00:06:14,880
include tax and European ones do. The cheapest I saw was about 200 pounds or so for every drive.

85
00:06:14,880 --> 00:06:19,280
So it's a good deal for a 10 or 12 terabyte drive. So just keep an eye out. They are there.

86
00:06:19,280 --> 00:06:22,000
They are a little more expensive than over here, but they do exist.

87
00:06:22,880 --> 00:06:26,240
So we'll start off with the 10 terabyte Western Digital drives.

88
00:06:26,880 --> 00:06:34,240
Couple of years ago, you used to get rebadged Hitachi storage 10 terabyte Helium drives,

89
00:06:34,240 --> 00:06:41,040
which ran cool. They ran quiet. Everybody suspects that they were actually 7200 RPM drives that

90
00:06:41,040 --> 00:06:46,800
make the cut and were kind of underclocked in firmware to 5400 and rebadged and sold

91
00:06:46,800 --> 00:06:52,800
through the easy store program. Nowadays, in the 10 terabyte easy stores, they seem to be

92
00:06:52,800 --> 00:06:57,920
putting in air filled drives, and that doesn't sound like a big deal, Helium versus air, except

93
00:06:57,920 --> 00:07:02,480
for the fact that in my testing at the moment, and I'm burning all of these drives in right now,

94
00:07:02,480 --> 00:07:07,920
and I'll talk about that more later. I'm burning these drives in at the moment, and the air filled

95
00:07:07,920 --> 00:07:14,000
is running about 10 or 12 Celsius warmer than the Helium filled drives, and that's quite a lot. It's

96
00:07:14,000 --> 00:07:20,640
sat right now at 52 Celsius, whilst the Helium drives right next to it are at 40. So just an

97
00:07:20,640 --> 00:07:25,440
observation there. Yeah, if you don't like heat, take that for what it's worth. You know, if heat

98
00:07:25,440 --> 00:07:30,000
kills hard drives, you do wonder if that would multiply to if they were really smashed together,

99
00:07:30,000 --> 00:07:34,160
would there be even more extreme differences in the temperatures between the Helium and the air

100
00:07:34,160 --> 00:07:39,040
filled? Yeah, I think, you know, it's, heat is gonna, it's gotta go somewhere, you know, and

101
00:07:39,040 --> 00:07:44,400
hard drives don't need a huge amount of airflow, but they need some. And, you know, as long as

102
00:07:44,400 --> 00:07:50,160
they're getting that gentle breeze over them, they'll generally be okay. But a lot of NAS cases

103
00:07:50,160 --> 00:07:55,680
and server, you know, home server grade chassis don't have the best airflow in the world. So

104
00:07:55,680 --> 00:08:00,000
you've really got to pay attention to those temperatures. Somebody was asking me on Discord,

105
00:08:00,000 --> 00:08:07,760
how hot is too hot for a hard drive? And I generally try and keep things in that 40 degrees

106
00:08:07,760 --> 00:08:13,440
or lower range. Often it will go up to 45 at a max, you know, on a particularly hot day. And I

107
00:08:13,440 --> 00:08:18,720
generally think that's fine. But my rationale for that is if you look at the data center

108
00:08:18,720 --> 00:08:25,520
environments, most of those are kept between 20 and 24 Celsius. And, you know, my basement

109
00:08:25,520 --> 00:08:30,160
fluctuates a little bit either side of that, but generally speaking, just through natural convection,

110
00:08:30,160 --> 00:08:34,800
it keeps pretty much at that temperature. You know, if you're aiming to keep these drives

111
00:08:34,800 --> 00:08:40,720
at 45 or lower, you're probably having them in a similar kind of state to what a data center would

112
00:08:40,720 --> 00:08:46,320
be. And because data centers buy so many hard drives, you've got to imagine that that's how

113
00:08:46,320 --> 00:08:51,440
people engineer, these companies engineer those drives to succeed well in those temperatures.

114
00:08:51,440 --> 00:08:56,000
Now, before you shuck a drive, there's a few different considerations that you've got to make.

115
00:08:56,720 --> 00:09:01,920
You don't want to just run a full smart test and then burn the drive in in the enclosure with no

116
00:09:01,920 --> 00:09:07,040
fan on it, because very quickly you'll see your drive temperatures going north of 60 Celsius.

117
00:09:07,760 --> 00:09:13,680
Because those enclosures just aren't built for, you know, stress testing enclosures. They're

118
00:09:13,680 --> 00:09:18,400
basically built for someone to just dump a few, you know, bits of drone footage on to or some

119
00:09:18,400 --> 00:09:22,960
movies or something like that, and just stick it in a drawer and forget about it. They're not really

120
00:09:22,960 --> 00:09:29,280
designed as performance type things, which led me on to another train of thought. I was thinking,

121
00:09:29,280 --> 00:09:36,560
well, how performant are these drives? So I had my air filled 10 terabyte drive. I got a pair of

122
00:09:36,560 --> 00:09:46,000
helium filled 12 terabyte drives. In the Seagate boxes were a pair of Barracuda Pros, which normally

123
00:09:46,000 --> 00:09:53,200
sell for about $300 each. Whoa. So I was very pleased with that. What the heck? That's a great

124
00:09:53,200 --> 00:09:59,200
score. Yeah, no SMR stuff, which is nice. They're all CMR drives. So something else you want to try

125
00:09:59,200 --> 00:10:05,040
and watch out for. But the whole purpose of me burning in these drives now and stress testing

126
00:10:05,040 --> 00:10:12,320
them now when they're only a few days old was actually borne out perfectly for me by the real

127
00:10:12,320 --> 00:10:20,080
orange one over on the Discord. And he has a two month old hard drive, which is failing. And he's

128
00:10:20,080 --> 00:10:23,760
now having to go and do an RMA with Seagate. I mean, they'll replace it. It's under warranty.

129
00:10:23,760 --> 00:10:31,120
That's not the issue. The issue is when hard drive manufacturers replace drives, they almost always

130
00:10:31,120 --> 00:10:35,760
send you a refurb. Yeah. So put yourself in his shoes. He's now got a two month old drive that's

131
00:10:35,760 --> 00:10:40,560
a refurb. That's not great. No. And you wonder why it was sent in in the first place. And of course,

132
00:10:40,560 --> 00:10:46,560
a failure in a disc like that's either going to happen early in its lifetime or on the average,

133
00:10:46,560 --> 00:10:51,280
about what, five years later? It's the bathtub curve. It is indeed. The whole idea between

134
00:10:51,280 --> 00:10:55,120
stress testing them now is to weed out the weaklings whilst I'm still within my Best Buy or

135
00:10:55,120 --> 00:11:00,400
Amazon or Newegg or whatever retailer's return policy. So I can just send it back to them and

136
00:11:00,400 --> 00:11:06,480
make it their problem, not mine. Just reshuck. Yeah. I mean, seriously, it's not the retailer's

137
00:11:06,480 --> 00:11:13,360
fault that Western Digital made a faulty drive. But equally, it's not my fault. And I don't want

138
00:11:13,360 --> 00:11:17,920
to commit data to it either, and then have to copy all that data off in a couple of months time.

139
00:11:18,480 --> 00:11:25,120
And it's just, for me, it's about a day per terabyte to do the burn-in. Now I've written a

140
00:11:25,120 --> 00:11:31,280
blog post about how I do burn-ins. I use bad blocks to do it. Yeah, it takes about a day per

141
00:11:31,280 --> 00:11:37,200
terabyte. So I'm looking at 12 continuous days of burn-in here, but I think it's worth it.

142
00:11:37,200 --> 00:11:43,520
That is definitely a peace of mind test. That long of a test really is going to genuinely

143
00:11:43,520 --> 00:11:47,920
stress that disc. I would actually have a pretty good peace of mind after going through that.

144
00:11:47,920 --> 00:11:54,720
My question to you is, maybe with the Barracudas aside, none of these really seem necessarily

145
00:11:54,720 --> 00:11:58,800
server-grade discs. Is that part of why you're doing this? I don't think they are. I mean,

146
00:11:58,800 --> 00:12:05,520
some of them are rebadged Hitachi UltraStar drives. Some of them are rebadged Western Digital

147
00:12:05,520 --> 00:12:12,400
Red drives. It's this kind of whole situation with the white label drives that go inside the

148
00:12:12,400 --> 00:12:18,080
easy stores. A couple of years ago, you used to sometimes actually get red label drives. They

149
00:12:18,080 --> 00:12:24,160
didn't even used to have a separate skew for the easy store drives that went inside them,

150
00:12:24,160 --> 00:12:29,520
the white labels. But now they've cottoned on to the fact that we've cottoned on to the fact that

151
00:12:29,520 --> 00:12:35,920
they are shipping seconds, basically, in these boxes. They know we know that they know. Now we

152
00:12:35,920 --> 00:12:42,560
all know. Yeah. I think it's kind of an unspoken, you know, just, yeah, okay, we'll sell you drives,

153
00:12:42,560 --> 00:12:47,920
but you have to put a bit of effort in and take them out of the case, which is a five-minute job

154
00:12:47,920 --> 00:12:52,960
per drive. As long as you've got a couple of guitar picks and a screwdriver with a Torx bit

155
00:12:52,960 --> 00:12:59,760
on it, you're fine. I mean, it's really easy, so there's no fear there. But somebody was talking

156
00:12:59,760 --> 00:13:05,600
to me, and this wasn't on Discord, this was at work actually, saying that they thought that these

157
00:13:05,600 --> 00:13:12,320
drives were slow and that, you know, if you want rusty, spinning, slow drives, there's a Best Buy

158
00:13:12,320 --> 00:13:16,480
sale on today, was what they said. And so I thought, hmm, let's go and test the performance of

159
00:13:16,480 --> 00:13:22,160
the two-year-old drives I have in my basement versus the new ones we've got here. And it turns

160
00:13:22,160 --> 00:13:32,720
out that actually the, I have a, I bought an eight terabyte Hitachi $270, 7,200 RPM, 256 meg

161
00:13:32,720 --> 00:13:38,640
cache drive when I first got here. So it's, you know, it wasn't shucked. It was always shipped as

162
00:13:38,640 --> 00:13:44,960
a naked drive. And, you know, so theoretically it's as good as it gets on the consumer side of

163
00:13:44,960 --> 00:13:52,160
things. And what was interesting is that that drive, when I put it through some testing with FIO,

164
00:13:52,160 --> 00:13:58,720
and I used Jim Salter's Ask Technica, how to test your hard drive performance article, I used FIO

165
00:13:58,720 --> 00:14:04,320
to do this. So I got in the region of 134 megs writes to this drive, which is pretty good. And

166
00:14:04,320 --> 00:14:11,520
so then I compared it to a shucked Easy Store, which runs at 5,400 RPM, and I got 116. So 134

167
00:14:11,520 --> 00:14:17,360
plays 116. Now for me, the cost difference, you know, the eight terabyte drive that was shucked

168
00:14:17,360 --> 00:14:24,080
was about half the price. So for 18 megabytes a second, that's fine.

169
00:14:24,080 --> 00:14:28,480
Yeah. I think you could argue it's worth considering if these were disks that you were

170
00:14:28,480 --> 00:14:33,120
putting in your workstation and you were working from them. Okay. Maybe I'll hear that argument,

171
00:14:33,120 --> 00:14:39,120
but these are going into a RAID. The RAID has its own performance characteristics that also

172
00:14:39,120 --> 00:14:43,920
change the math on all of this anyways. And at the end of the day, you're storing items on this

173
00:14:43,920 --> 00:14:49,840
that you access infrequently. And when you do, you're likely accessing them over the network,

174
00:14:49,840 --> 00:14:56,000
possibly even over Wi-Fi. So you have to take the entire use case picture in when you're looking at

175
00:14:56,000 --> 00:15:01,440
the speed versus price argument, I think. Absolutely. Yeah. So, you know, if you're

176
00:15:01,440 --> 00:15:07,680
looking to buy a new drive on Black Friday, my personal advice would be steer away from the

177
00:15:07,680 --> 00:15:15,360
10 terabyte easy stores because they're now hot air drives and go for either the Seagate ones

178
00:15:15,360 --> 00:15:20,880
at 10 terabytes that you can probably find on Amazon warehouse for 150, 160 bucks a piece,

179
00:15:21,600 --> 00:15:27,920
or go for the 12 terabyte easy stores from Best Buy because they are helium drives and they run

180
00:15:27,920 --> 00:15:33,600
nice and cool and quiet and, you know, 12 terabytes. So it's more than 10, isn't it? So...

181
00:15:33,600 --> 00:15:41,600
Linode.com slash SSH. You go there, you get a $100 60-day credit towards your new account,

182
00:15:41,600 --> 00:15:46,720
and you can try out our hosting provider in the cloud. Some workloads are better in the cloud,

183
00:15:46,720 --> 00:15:51,120
and Linode is dedicated to offering the best virtualized cloud computing. If it runs on Linux,

184
00:15:51,120 --> 00:15:56,480
it will run on Linode. They started three years before AWS. They're independently owned and

185
00:15:56,480 --> 00:16:00,800
they're founded on a love for Linux and open source technologies. I started using them about

186
00:16:00,800 --> 00:16:06,800
two years ago, and I roped Alex into it, and Alex discovered that Linode has pretty excellent

187
00:16:06,800 --> 00:16:11,280
Terraform support. Yes, in fact, all of the self-hosted show infrastructure is running

188
00:16:11,280 --> 00:16:17,520
on Linode now, and we're using Terraform to use the infrastructure as code principles to spin up

189
00:16:17,520 --> 00:16:23,760
all of this infrastructure like magic, and it just works. The documentation is top-notch,

190
00:16:23,760 --> 00:16:28,400
and the integration with Terraform and other DevOps tools is fantastic.

191
00:16:28,400 --> 00:16:33,280
That is super slick, and it makes it really easy for us to prepare and test things for the show.

192
00:16:33,280 --> 00:16:37,120
Something else that I rely on a lot for show production, and you should consider it too,

193
00:16:37,120 --> 00:16:41,200
is object storage. Now, there's a lot of ways you could take advantage of object storage. If you

194
00:16:41,200 --> 00:16:46,160
don't know, it's an easy way for you to store and access data without the need for a front-end

195
00:16:46,160 --> 00:16:51,120
server that's producing a website or syncing files. It's perfect for data that doesn't change very

196
00:16:51,120 --> 00:16:55,280
regularly, like maybe you want to store some images, or I store audio clips and video clips

197
00:16:55,280 --> 00:17:00,560
up in the object storage. But additionally, you could use it to host files for a static website,

198
00:17:00,560 --> 00:17:05,680
and man, would your website load fast. It's really worth checking out object storage. If you need

199
00:17:05,680 --> 00:17:10,560
really easy cloud storage that you can generate public URLs for and then embed in websites,

200
00:17:10,560 --> 00:17:15,440
object storage is fantastic. I love Linode. I recommend it to all of our listeners. You can

201
00:17:15,440 --> 00:17:21,520
get a $100 60-day credit for a new account when you go to linode.com slash ssh. So sign up today,

202
00:17:21,520 --> 00:17:26,640
you support the show, and you get that $100 60-day credit. linode.com slash ssh.

203
00:17:27,920 --> 00:17:32,400
Well, it's that time of year. The leaf blowers are firing up and winter is coming.

204
00:17:32,400 --> 00:17:38,880
It's getting cold. Yeah, it is. And I finally hooked up my heating again. I'm very proud of

205
00:17:38,880 --> 00:17:43,520
the automations I've built for the heating system in lady tubes. I finally got them all plugged back

206
00:17:43,520 --> 00:17:49,920
in because what I like to do is during the summer, why not reclaim that space? I pack away the heaters,

207
00:17:49,920 --> 00:17:55,280
but I leave the smart plugs plugged in. So that way, everything's still talking to home assistant.

208
00:17:55,280 --> 00:18:00,080
And then I have a series of automations that will start and stop those heaters based on

209
00:18:00,080 --> 00:18:05,680
the temperature in that area, matching a condition that the sun is below the horizon.

210
00:18:06,240 --> 00:18:10,160
So I have heaters in my bedroom, in the living room, kitchen area, because again, this is a

211
00:18:11,200 --> 00:18:15,360
bus, right? So the living room and kitchen are essentially one area. And then the upfront driving

212
00:18:15,360 --> 00:18:21,520
area has a temperature sensor. My water bay has a temperature sensor and my battery slash electrical

213
00:18:21,520 --> 00:18:26,480
bay has a temperature, mostly so I can monitor if that's just getting too hot. But they all have

214
00:18:26,480 --> 00:18:30,560
temperature sensors in those areas. And the way the system works is it looks at all of that,

215
00:18:31,440 --> 00:18:35,600
looks at the individual rooms and it sees what the temperature is in the room. And it sees if

216
00:18:35,600 --> 00:18:41,520
the sun is above the horizon or below the horizon. And if the sun is below the horizon and the

217
00:18:41,520 --> 00:18:48,480
temperature is, say, below maybe it's the bedroom, so below 67 degrees, the heater comes on. And if

218
00:18:48,480 --> 00:18:53,760
it's really cold, I have I have like supplemental heaters that will kick in to really kind of get

219
00:18:53,760 --> 00:19:00,080
it up there because, you know, it's an RV. The walls are like maybe if I'm lucky, six inches thick,

220
00:19:00,080 --> 00:19:03,920
probably more like four or five inches thick. So it's a thermal loss was a big problem.

221
00:19:03,920 --> 00:19:11,520
Last year was our our best winter in an RV after five years because the the heating was finally

222
00:19:11,520 --> 00:19:18,320
just right. We were really always perfectly comfortable. It'd been really nice. And it had

223
00:19:18,320 --> 00:19:23,440
been just a bliss of having automations that just take care of it. You don't even think about it.

224
00:19:23,440 --> 00:19:30,640
And all of that, Alex, came to a chilling end this recent week. Chilling end. Who are you going to

225
00:19:30,640 --> 00:19:35,440
call? Who are you going to call? Myself. Right. And it's one of that's what's so awful. And

226
00:19:35,440 --> 00:19:39,360
I actually had a bit of a down moment during all this is like, oh, this isn't working.

227
00:19:39,360 --> 00:19:44,400
Dude, this is what I was saying last episode. The perils of self-hosting. Like if it breaks,

228
00:19:44,400 --> 00:19:49,280
you're the one on call. I think you jinxed me. I think you jinxed me. So sure enough,

229
00:19:49,280 --> 00:19:53,440
the night that I hook up the heaters, I think to myself, well, let's go make it cozy in the bedroom.

230
00:19:53,440 --> 00:19:57,520
So I tell home assistant, turn on the heaters in the bedroom, you know, get it nice and cozy in

231
00:19:57,520 --> 00:20:01,280
there. So, you know, I wanted my wife to walk in and go, oh, man, oh, yeah, the heaters are back.

232
00:20:01,280 --> 00:20:08,400
It's so nice. And sure enough, home assistant reliably fires off the heaters. And I have a I

233
00:20:08,400 --> 00:20:12,880
have an automation that when it gets to 73 degrees in the bedroom and if it holds that for three

234
00:20:12,880 --> 00:20:18,400
minutes to turn off the heaters and I'm in bed, I'm getting all comfortable and I hear the heaters

235
00:20:18,400 --> 00:20:25,520
click off, the automation kicked in perfectly to turn off the heaters. I fall asleep and I wake up

236
00:20:25,520 --> 00:20:32,080
right around two a.m. and I'm very cold, like because it's it was the first night here in the

237
00:20:32,080 --> 00:20:36,880
Pacific Northwest where it got into the mid 40s in the middle of the night. And it's so 2 a.m.

238
00:20:36,880 --> 00:20:41,200
I wake up because I'm so cold. That's what woke me up. Right. So, you know, it's uncomfortable in

239
00:20:41,200 --> 00:20:45,280
the room. And I'm I'm like, I wake up. I'm like, what the hell's going on? The heaters are hooked

240
00:20:45,280 --> 00:20:50,240
up like this isn't supposed to be happening. So I get up and I don't want to disturb my wife. So I

241
00:20:50,240 --> 00:20:56,960
go out into the living room perfectly cozy, very comfortable. Clearly that the heating automations

242
00:20:56,960 --> 00:21:03,520
had been working out in the living room flawlessly. But in the bedroom, of course, not working. So I

243
00:21:03,520 --> 00:21:07,760
didn't realize fully the extent of this. I thought, OK, there must have been some mistake. So I open

244
00:21:07,760 --> 00:21:11,440
up home assistant. I looked at I turned my did I turn off the automation because I didn't actually

245
00:21:11,440 --> 00:21:15,920
check because I just assumed I left it on. So I always do just what you want to be doing at 2 a.m.

246
00:21:15,920 --> 00:21:20,400
Oh, yeah. So go to home assistant. Oh, yeah. Look at that. I had left the automation, but I could see

247
00:21:20,400 --> 00:21:24,640
the last time it had been triggered was the first week of May because I haven't used the heating

248
00:21:24,640 --> 00:21:29,840
since then. So I hit the little play button that fires off the automation immediately. And the

249
00:21:29,840 --> 00:21:35,760
heaters kick right on. OK, OK. It's working. It's obviously working. I go back to bed temperature

250
00:21:35,760 --> 00:21:43,200
slowly coming up. I wake up at 6 a.m. and the room is cold again. What I realized was very reliably

251
00:21:43,200 --> 00:21:49,440
very reliably. The turn the heaters off automation works, but the turn the heaters on doesn't work.

252
00:21:49,440 --> 00:21:54,480
So they turn off, but they don't ever turn on. And I didn't really get this. Of course,

253
00:21:54,480 --> 00:21:59,920
it's like 6 a.m. and I hadn't slept well, but I'm dumbfounded, right? Because the turn things off

254
00:21:59,920 --> 00:22:05,280
automation is essentially just the reverse of the turn things on automation. And one's working and

255
00:22:05,280 --> 00:22:12,880
one isn't working. And I'm just really perplexed by this. And there was one star sized difference

256
00:22:12,880 --> 00:22:15,920
between them. But I'll get to that in a moment. But let me just say at first I was actually a

257
00:22:15,920 --> 00:22:21,840
little discouraged that morning. I telegrammed you. I was doing a round of Googling. And what

258
00:22:21,840 --> 00:22:27,280
I was finding is the recent rapid versions of Home Assistant, God bless him, have made it so that

259
00:22:27,280 --> 00:22:31,840
almost every release, something in automations kind of goes sideways for somebody out there in

260
00:22:31,840 --> 00:22:38,000
the Internet because of all these use cases and edge cases. And so you just find all of this

261
00:22:38,000 --> 00:22:43,360
backlog of stuff that's no longer relevant to troubleshooting anymore. All these forum posts

262
00:22:43,360 --> 00:22:47,760
and everything because Home Assistant so quickly outdates it that something that was posted in

263
00:22:47,760 --> 00:22:54,400
April is just really generally not very useful anymore. And the error was so generic that nearly

264
00:22:54,400 --> 00:22:58,800
everything I searched for kind of just showed up, you know, automation not firing off, not triggering,

265
00:22:58,800 --> 00:23:02,880
you know, the kind of basic crap you get with that. You just don't really get any help.

266
00:23:02,880 --> 00:23:08,240
It's like Googling something for Windows. Unless you have the very specific error code, you just

267
00:23:08,240 --> 00:23:15,520
end up in a tar pit of just useless information. Yep. So I go to work, you know, I figure

268
00:23:16,320 --> 00:23:19,200
I'll think about it, but I won't I won't stress out too much about it.

269
00:23:20,000 --> 00:23:23,920
And I'm chatting with my wife and she's like, so there's really no other differences between the

270
00:23:23,920 --> 00:23:28,800
off and on automations, really? You got to bear in mind, like I created these more than a year ago,

271
00:23:28,800 --> 00:23:33,120
right? So I don't implicitly remember them very well. So I open up the two automations,

272
00:23:33,120 --> 00:23:39,600
the off automations and the on automations side by side. And what I realized is the off automations

273
00:23:40,400 --> 00:23:44,880
run 24 hours a day, regardless of what the sun is doing. The idea being that if it gets above

274
00:23:44,880 --> 00:23:48,720
this temperature, I don't want the heat. So I don't want the heaters on. So just I don't care

275
00:23:48,720 --> 00:23:54,640
what time of day it is, turn the heaters off. But the turn on automations only trigger if the

276
00:23:54,640 --> 00:24:00,720
condition of the sun is below the horizon and if that's met and if that isn't met, the automations

277
00:24:00,720 --> 00:24:06,240
don't trigger. So with that realization, I kind of refined my Googling and I found a two year old

278
00:24:06,240 --> 00:24:12,080
Reddit thread that actually was my problem. So I had to change the condition. Now, the conditions

279
00:24:12,080 --> 00:24:16,800
are these options that prevent execution of an automation unless all of the, quote unquote,

280
00:24:16,800 --> 00:24:23,040
conditions are satisfied. So one of my conditions is that the temperature is at a certain threshold

281
00:24:23,040 --> 00:24:28,160
and that the sun is below the horizon. And, you know, I use the crap out of that for like all my

282
00:24:28,160 --> 00:24:33,760
outdoor lights, a bunch of the lights inside the RV are set to come on 30 minutes after sunset,

283
00:24:33,760 --> 00:24:38,960
and those are all working just fine. It's only the two heating automations for the bedroom.

284
00:24:39,600 --> 00:24:44,480
But for some reason, kind of still unknown to me, I had to just make a change in how I was

285
00:24:44,480 --> 00:24:50,240
checking the state of the sun. Stick with me for a second. The sun in Home Assistant is also

286
00:24:50,240 --> 00:24:55,280
essentially a sensor. And so I went from using the built in condition of the sun, which is built

287
00:24:55,280 --> 00:24:59,280
into the automation GUI wizard. You can say sun below horizon is just a built in option.

288
00:25:00,000 --> 00:25:07,040
I had to take that out and I had to instead go get the state of the sun sensor. And then I had

289
00:25:07,040 --> 00:25:14,240
to manually specify in just plain language when the state of the sensor is below underscore horizon.

290
00:25:14,240 --> 00:25:19,920
And when going from a state of the sensor as a condition, the automation started working again,

291
00:25:19,920 --> 00:25:25,680
as expected. And it seems to be maybe something in the logic of how the graphical interface builds

292
00:25:25,680 --> 00:25:31,360
that automation with the sunset condition. So essentially you end up using for if you want

293
00:25:31,360 --> 00:25:36,480
something to reliably work based on the sunrise and sunset in Home Assistant, you need to use the

294
00:25:36,480 --> 00:25:41,520
sensor state, not the built in sun condition. It's confusing. Even the language around it is

295
00:25:41,520 --> 00:25:46,720
confusing. And I still kind of have questions like, why did this only bite me now? I've had

296
00:25:46,720 --> 00:25:50,880
this automation for over a year. This reddit thread is two years old. So somebody ran into

297
00:25:50,880 --> 00:25:57,280
this two years ago. I don't really know when it broke. It must have broke during the summer when

298
00:25:57,280 --> 00:26:00,560
I had the heaters actually disconnected and I just didn't notice that the smart plugs were

299
00:26:00,560 --> 00:26:04,720
clicking on or off. I don't notice that. I'd leave them plugged in all the time. So when did it

300
00:26:04,720 --> 00:26:09,040
break? I don't know. Was it some particular update? I don't know. And why do my other

301
00:26:09,040 --> 00:26:14,720
automations that are using the original sun condition work fine still? And then I guess my

302
00:26:14,720 --> 00:26:19,600
last question is, are they eventually going to break on me? I think we can refer to this as like

303
00:26:19,600 --> 00:26:25,680
the Home Assistant half-life. You know, like they have an entropy of decay that just sort of

304
00:26:25,680 --> 00:26:32,560
happens. Automations just stop working for some reason. And sometimes it's not totally logical

305
00:26:32,560 --> 00:26:41,520
as to why and when it happens. Yeah. Yeah, I felt a little like less confident in the setup

306
00:26:41,520 --> 00:26:46,080
all of a sudden. And then just unrelated, Alex, just a couple of days later, I did an update.

307
00:26:46,080 --> 00:26:51,600
And that night, Home Assistant locked up on me. So I got the heating working for one night. And

308
00:26:51,600 --> 00:26:55,440
then the next night, Home Assistant locked up on me. None of the automations ran. I couldn't

309
00:26:55,440 --> 00:27:00,000
even get to the dashboard. I ended up just rebooting the entire host because it needed

310
00:27:00,000 --> 00:27:05,280
to reboot for some security updates anyways. But so for the second night, so one night it works,

311
00:27:05,280 --> 00:27:10,720
the next night, no heat again throughout the entire place now because Home Assistant just

312
00:27:10,720 --> 00:27:16,640
locked up. It hasn't done that in forever. And I had to reboot the whole host. It's very reliable

313
00:27:16,640 --> 00:27:23,440
for me. I don't have any lockups or anything like that. But I do find that sometimes automations

314
00:27:24,400 --> 00:27:28,560
just stop working. And I don't notice that they stop working straight away. And I don't know

315
00:27:28,560 --> 00:27:35,760
whether it's the pace of updates, like you mentioned, breaking stuff, or whether it's just

316
00:27:35,760 --> 00:27:43,280
that I've introduced another change somewhere else. It maybe almost needs a testing framework

317
00:27:43,280 --> 00:27:50,160
for these automations, like a CI build passing set of badges or something for each automation

318
00:27:50,160 --> 00:27:54,880
somehow. I'm not sure how that would even work. But I don't want to make a change in one place

319
00:27:54,880 --> 00:27:58,800
and then have it break something somewhere else. So I need a way that when I dust this dinosaur

320
00:27:58,800 --> 00:28:04,800
bone over here, the tail doesn't fall off the dinosaur at the back. It's a tricky one though.

321
00:28:04,800 --> 00:28:09,040
Tricky problem. I think that could be doable, Alex. I just got a supervisor add-on that checks

322
00:28:09,040 --> 00:28:14,400
the Home Assistant configuration against any new version. So it takes your existing config,

323
00:28:14,880 --> 00:28:19,760
it looks at the new release config defaults, and does a compare and tells you if there's going to

324
00:28:19,760 --> 00:28:23,280
be any issues. And I could see something like that expanding to automations.

325
00:28:23,280 --> 00:28:28,480
Yeah, particularly given all the changes they made in the latest birthday release to the YAML

326
00:28:28,480 --> 00:28:31,920
structure and that kind of thing. I could see that being useful.

327
00:28:31,920 --> 00:28:37,360
All things considered, I am happier today with Home Assistant than I have ever been. I continue

328
00:28:37,360 --> 00:28:43,040
to be extremely enthusiastic about it. I am constantly integrating new things with it. I

329
00:28:43,040 --> 00:28:50,160
went ahead and just recently integrated the studio's Amazon Echoes, which support Amazon Guard.

330
00:28:50,160 --> 00:28:57,040
And now I can toggle the guard status inside Home Assistant, and all of the Echoes do not disturb

331
00:28:57,040 --> 00:29:04,640
switches and other features show up as sensors and options in Home Assistant now. It's really cool.

332
00:29:05,840 --> 00:29:11,360
So I just have been just bringing more and more into it. Also, I've recently learned that the

333
00:29:11,360 --> 00:29:17,680
Ring API integration is pretty decent. You can bring in still images from Ring cameras into Home

334
00:29:17,680 --> 00:29:23,520
Assistant. You can also bring in their motion sensors into Home Assistant. You can get a little

335
00:29:23,520 --> 00:29:29,520
Lovelace card that shows you the last time they detected motion. It's all great because the way

336
00:29:29,520 --> 00:29:32,800
Home Assistant works with all this stuff is at the end of the day, they're all just like sensors.

337
00:29:32,800 --> 00:29:39,280
So you can just build everything around these. And it still to this day feels like this great

338
00:29:39,280 --> 00:29:45,680
unifier of all these rando products that these different vendors make. And I bring it all

339
00:29:45,680 --> 00:29:51,280
together in Home Assistant. Well, let me just take a moment and thank a cloud guru. You know,

340
00:29:51,280 --> 00:29:56,320
a cloud guru has a system D course. Now it might be worth checking out because system D has taken

341
00:29:56,320 --> 00:30:01,680
over the Linux landscape and you may know some of the basics, but there's a lot more it can do.

342
00:30:01,680 --> 00:30:06,000
It's got some components that you can put together as well, which we'll mention later on in the show

343
00:30:06,720 --> 00:30:11,040
that can make your life a little bit easier. So go to a cloud guru.com or use the link in our show

344
00:30:11,040 --> 00:30:15,680
notes to take you directly to this course. It's a course designed to demystify the sometimes

345
00:30:15,680 --> 00:30:21,840
difficult and admittedly deep topic of system D. You might be using system D today, but are you

346
00:30:21,840 --> 00:30:26,240
really taking full advantage of it? There's an opportunity here to learn more. Use the link in

347
00:30:26,240 --> 00:30:32,960
our show notes, 5.8 hours of content, 40 total lessons and eight hands-on labs. Link in the show

348
00:30:32,960 --> 00:30:38,800
notes and thanks to a cloud guru.com. All right, it's time for some listener feedback. Pete writes

349
00:30:38,800 --> 00:30:43,600
in about his OBD2 data. Yeah, he says, Hey guys, on one of the JB shows a while back, Chris explained

350
00:30:43,600 --> 00:30:50,160
his usage of his OBD2 readings from his vehicle to save him some money on fuel. I was wondering if

351
00:30:50,160 --> 00:30:54,240
Alex does something similar and if you have any interest in to capture this data and maybe put

352
00:30:54,240 --> 00:30:58,480
it into a self-hosted solution like Grafana. So I don't know if either one of us are actively

353
00:30:58,480 --> 00:31:04,160
capturing our OBD2 data from our cars, but I know we both have done things with them. Well, I was,

354
00:31:04,160 --> 00:31:07,760
I was using this thing called the automatic, which you put me onto actually, Chris.

355
00:31:07,760 --> 00:31:12,880
And it wasn't self-hosted. It was an entirely proprietary thing. And I used to talk to if this,

356
00:31:12,880 --> 00:31:18,000
then that and log all my trips in a spreadsheet. And it was, it was kind of interesting. It didn't

357
00:31:18,000 --> 00:31:23,920
really do a lot that was, you know, life shatteringly interesting. I would be really

358
00:31:23,920 --> 00:31:32,080
interested in a device that went into my OBD2 port and could talk to my Grafana and InfluxDB

359
00:31:32,080 --> 00:31:38,080
set up. But then you have to factor in that it needs a cellular connection as well as GPS. And

360
00:31:38,880 --> 00:31:43,920
very quickly it becomes quite a complicated device. So unless you already have a LAN in your vehicle

361
00:31:43,920 --> 00:31:51,760
like I do, not everyone's house is their car. Yeah. I actually mostly just use this for real

362
00:31:51,760 --> 00:31:59,120
time data. It is so aggravating how much information my truck's computer inside the RV has

363
00:31:59,120 --> 00:32:04,320
that is not displayed on the dashboard. I kind of get it for your average commuter car, maybe,

364
00:32:04,320 --> 00:32:09,120
you know, just a couple of dummy lights and some dials fine, but in a super duty engine that's

365
00:32:09,120 --> 00:32:12,880
massive, that has all these different thermal things and just like all these sensors that

366
00:32:12,880 --> 00:32:19,040
they've built in the, the car computer, the truck engine computer is collecting an incredible amount

367
00:32:19,040 --> 00:32:24,960
of information and doing nothing with it. And I find that so aggravating. So I did get just some

368
00:32:24,960 --> 00:32:31,040
crappy one, some Bluetooth OBD2 dongle that you plug in every car manufactured in the United

369
00:32:31,040 --> 00:32:37,600
States since 2012 or sold in the United States at least since 2012 has these ports. You plug it in

370
00:32:37,600 --> 00:32:41,280
there and different vehicles will give you different levels of information. So you need to

371
00:32:41,280 --> 00:32:46,080
pair that with a device that understands the information from your vehicle's engine. A lot of

372
00:32:46,080 --> 00:32:50,640
the apps that you can get for your phone that talk to these dongles have a database of vehicles and

373
00:32:50,640 --> 00:32:55,280
they can kind of do something with the information. And I put that up on either an iOS device or an

374
00:32:55,280 --> 00:32:59,360
Android device as I'm going down the road, especially when I'm going over passes, and I get

375
00:33:00,240 --> 00:33:05,040
all my coolant information, all of my air intake information, I get my engine performance, my turbo

376
00:33:05,040 --> 00:33:10,400
boost information, I get the transmission temperature, the oil temperature, I get all the

377
00:33:10,400 --> 00:33:16,080
sensor information that is never displayed to me on my dash. And I've never thought about capturing

378
00:33:16,080 --> 00:33:20,960
that. But when Pete wrote in with this email, kind of made me realize this would be a fascinating

379
00:33:20,960 --> 00:33:26,320
way to monitor the long term health of an engine, wouldn't it? It's taking all of this data and

380
00:33:26,320 --> 00:33:30,800
graphing it and then seeing trend lines change over time. That's really the power of a good

381
00:33:30,800 --> 00:33:36,160
graph, isn't it? It's just seeing that the overall trend. I mean, the humidity in my basement to

382
00:33:36,160 --> 00:33:41,440
come back to a previous episode, I was able to spot different storms throughout the year and

383
00:33:41,440 --> 00:33:46,320
notice the trend that in the summer it was getting too high, because I had it graphed every day. And

384
00:33:46,320 --> 00:33:50,960
I think if you're able to take a decent set of readings are actually meaningful readings. I mean,

385
00:33:50,960 --> 00:33:55,920
I don't know what you'd necessarily do with oil temperature, although maybe you'd see that over

386
00:33:55,920 --> 00:34:01,120
six months, it creeps up by an average of three or four degrees. Who knows? Certainly an interesting

387
00:34:01,120 --> 00:34:06,480
thing. And if anybody has any, any solutions in the audience, please write in self hosted dot show

388
00:34:06,480 --> 00:34:12,080
slash contact. Optimus Gray writes in. He wants us to put on our consulting hats. So get your day job

389
00:34:12,080 --> 00:34:18,000
hat on there. Alex says I was looking at my Docker list and I have four MariaDBs running. One is my

390
00:34:18,000 --> 00:34:24,160
personal website. I have C file. I have get T and next cloud. Should I work on merging these into

391
00:34:24,160 --> 00:34:30,000
one database, one's database server, or is it worth keeping four copies or more of the same

392
00:34:30,000 --> 00:34:36,560
image running? What a great question. There is no right answer to this question. I don't think. No,

393
00:34:36,560 --> 00:34:41,680
I agree. You asked three different people, you get three different answers. So there are two main

394
00:34:41,680 --> 00:34:45,920
schools of thought, right? So my assumption is that all of these different things are using the

395
00:34:45,920 --> 00:34:53,040
same database engine underneath, whether that's MySQL, Postgres, whatever, it doesn't really matter

396
00:34:53,040 --> 00:34:58,560
what the database is. For a while, for a couple of years, I actually just ran one MySQL database

397
00:34:58,560 --> 00:35:04,400
I actually just ran one MySQL container and then just manually went in through the MySQL command

398
00:35:04,400 --> 00:35:09,760
line and created new databases, added new users, scoped them correctly and learned a little bit

399
00:35:09,760 --> 00:35:16,240
about the MySQL command line. But lately I've been spinning up a lot of stuff for the show

400
00:35:16,240 --> 00:35:21,840
on Linode and doing a lot of stuff for family members and friends and stuff like that and just

401
00:35:21,840 --> 00:35:25,840
testing out a lot of stuff for the podcast, really. And so I don't want to have to futz

402
00:35:25,840 --> 00:35:30,400
with that every time. And most containers that you spin up, most database containers,

403
00:35:30,960 --> 00:35:35,040
have the option to feed in through environment variables, the username and password for that

404
00:35:35,040 --> 00:35:40,560
specific database table you need to create for the app. And so lately I've moved into

405
00:35:41,440 --> 00:35:47,760
creating a database instance per app. It's a bit wasteful in terms of system resources, but

406
00:35:48,640 --> 00:35:52,960
I think it's, you know, in terms of simplicity, it's a lot easier to manage in terms of backups,

407
00:35:52,960 --> 00:35:59,600
in terms of administration, initial setup. One database per container is my current strategy.

408
00:35:59,600 --> 00:36:04,400
Yeah, it really is what you're trying to get out of your setup. Do you want simplicity

409
00:36:04,400 --> 00:36:07,760
and the ability to just easily tear it down and throw things back up again,

410
00:36:07,760 --> 00:36:13,680
or do you want efficiency? And you could also argue that if you only have one instance of a

411
00:36:13,680 --> 00:36:18,960
database running, not only do you save system resources, but you theoretically reduce your

412
00:36:18,960 --> 00:36:22,960
tech surface, right? So there's not as many vulnerabilities when there's something that shows

413
00:36:22,960 --> 00:36:28,000
up in MariaDB. You have only one instance instead of four. You have one version instead of

414
00:36:28,000 --> 00:36:32,400
potentially four different versions, depending on how the containers are set up. So while there is

415
00:36:32,400 --> 00:36:36,880
advantage to it, I think I'm going to side with Alex here is because we kind of used to do the

416
00:36:36,880 --> 00:36:42,880
same exact thing, is we had one database server, both for our cloud instances and for our local

417
00:36:42,880 --> 00:36:49,200
instances. And then all of the containers and applications would use those. And it worked fine.

418
00:36:50,080 --> 00:36:56,480
But we did run into a couple of instances where the application expected it was the sole

419
00:36:56,480 --> 00:37:02,080
use of the database, or there were several scenarios where it became a lot more overhead

420
00:37:02,080 --> 00:37:06,320
to maintain that one instance and reconfigure software on the regular. And what we ended up

421
00:37:06,320 --> 00:37:12,080
doing when we kind of redid things recently is we did the same thing as Alex just suggested.

422
00:37:12,080 --> 00:37:16,160
We just went ahead and did a database for each one of the applications we're running that pulls it

423
00:37:16,160 --> 00:37:20,400
down. And it does mean that I have a couple of instances of the same database software running,

424
00:37:20,400 --> 00:37:24,560
and I don't find that ideal. But because they're not open to the general public,

425
00:37:24,560 --> 00:37:29,280
they're not even open to the general network, I don't consider the attack surface issue to be

426
00:37:29,280 --> 00:37:36,160
as serious as I would have back in the day when these were entire VMs or they were entire physical

427
00:37:36,160 --> 00:37:41,040
servers that were on the LAN and maybe even connected to the public internet, God forbid.

428
00:37:41,040 --> 00:37:47,360
And in that scenario, I would consider the efficiency and the lower attack surface a much

429
00:37:47,360 --> 00:37:51,600
higher important consideration. But when you're running it for yourself on your own LAN,

430
00:37:51,600 --> 00:37:56,240
you maybe have very limited control of what can talk to it publicly. I think the risk scenario

431
00:37:56,240 --> 00:38:00,640
goes down, and then the convenience and reproducibility factor becomes more important.

432
00:38:00,640 --> 00:38:06,160
And I say, just let it be and run each one individually and save yourself the hassle.

433
00:38:06,160 --> 00:38:11,840
The other thing is, if you want to port one service to a different system, let's say you

434
00:38:11,840 --> 00:38:17,280
wanted to move Nextcloud from your LAN to a Linode instance, for example, you haven't got to then

435
00:38:17,280 --> 00:38:22,720
worry about MySQL commands to export and dump databases and all that kind of stuff. You just

436
00:38:22,720 --> 00:38:28,160
move the Docker app volumes and you're good to go. Jay writes in with our last email this week,

437
00:38:28,160 --> 00:38:31,760
and it's a frustrating one. He has an issue where when his clients go to sleep,

438
00:38:31,760 --> 00:38:36,560
they're unable to remount the NFS on his FreeNAS. He tried Samba, but it's not ideal with FreeNAS

439
00:38:36,560 --> 00:38:42,160
in his opinion. And he wanted a solution to automatically remount these. We've mentioned

440
00:38:42,160 --> 00:38:47,040
AutoFS in the past, but he said it's running into some deficiencies. And so I knew this has got to

441
00:38:47,040 --> 00:38:51,040
be a problem that other people run into, where you have a laptop or you have a desktop, it goes

442
00:38:51,040 --> 00:38:56,080
into power saving mode, you bring it back up, and now your mounts are dead. They just will not

443
00:38:56,080 --> 00:39:00,480
reconnect despite all of the tools that are supposed to make them do it. I have some advice

444
00:39:00,480 --> 00:39:04,560
for you, Jay, and anyone else that runs into this. This is an area where it's worth learning

445
00:39:04,560 --> 00:39:10,560
a little bit of SystemD because SystemD has a facility for this that is network aware.

446
00:39:10,560 --> 00:39:13,920
And then it notices that when your network connection comes back up, which is actually

447
00:39:13,920 --> 00:39:19,040
what's happening when you're waking from sleep, it'll auto remount those file systems. And I have

448
00:39:19,040 --> 00:39:24,880
resources in the show notes to help with that. Cloudfree.shop. This is where you go to buy stuff

449
00:39:24,880 --> 00:39:30,880
that's ready to run on your LAN and never needs a cloud connection. A wide range of smart home devices

450
00:39:30,880 --> 00:39:35,600
that come pre flashed with Tasmota. No cloud connection means that you run it for as long as

451
00:39:35,600 --> 00:39:41,040
you want. You own it. And something that Alex and I brought up last episode and we've been informed

452
00:39:41,040 --> 00:39:47,360
is on the cloudfree.shop is these little metal NFC tags that work outdoors that are kind of,

453
00:39:47,360 --> 00:39:52,560
I think, the best looking to. They're on the shop for a dollar a piece. How great is that? So go to

454
00:39:52,560 --> 00:39:57,600
cloudfree.shop and use the coupon code self-hosted at checkout and you'll get a dollar off each one

455
00:39:57,600 --> 00:40:01,760
of the smart plugs you get, which I think they're only like 10 bucks, right? Correct. Yeah. And

456
00:40:01,760 --> 00:40:05,840
they're pre flashed with Tasmota. So it's a great way to get going with Home Assistant and devices

457
00:40:05,840 --> 00:40:13,280
you fully control at a great price. Cloudfree.shop. Well, it finally happened. Can you believe it?

458
00:40:13,280 --> 00:40:20,960
ESXi on a Raspberry Pi. Now, are you taking it seriously? No. I thought this might be it. Yeah,

459
00:40:20,960 --> 00:40:25,360
ESXi. Now, it's a fling edition, which means it's not really meant for production,

460
00:40:25,360 --> 00:40:29,760
but I think they're really serious about it. And I'm going to try it out. There is some

461
00:40:29,760 --> 00:40:34,320
current limitations I thought maybe people should be aware of that are kind of important,

462
00:40:34,320 --> 00:40:38,880
but I think this is huge. Is it the limitation that I read where you can't actually run any VMs

463
00:40:38,880 --> 00:40:44,800
on it? No. No, it's the issue is there's no local storage at the moment. Not even USB.

464
00:40:44,800 --> 00:40:49,520
Not a big deal at all, that one. No, you just do it over NFS. It's fine. It's fine. Yeah,

465
00:40:49,520 --> 00:40:55,680
you do it over it. But it is ESXi 7. You do have to have UEFI boot. And so there's a few extra

466
00:40:55,680 --> 00:40:59,360
steps you have to go through. I'll have a link in the show notes to how to walk through all of that.

467
00:40:59,360 --> 00:41:06,400
But all said and done, you can run four or five ARM VMs on this. You have about six gigs of RAM

468
00:41:06,400 --> 00:41:11,840
leftover after you have VMware in the core OS. It uses somewhere in the neighborhood of just under

469
00:41:11,840 --> 00:41:16,480
two gigs. But if you have an eight gigabyte edition Raspberry Pi 4, you could still run a

470
00:41:16,480 --> 00:41:24,240
couple of VMs. And you get a lot of the more enterprise grade features like vMotion. But also

471
00:41:24,800 --> 00:41:29,600
you could use this to just access VMFS file systems where in the past you'd have to have

472
00:41:29,600 --> 00:41:33,920
a massive expensive x86 server just to mount a disk that you need to recover files from.

473
00:41:34,480 --> 00:41:38,960
Now you can do it with a Raspberry Pi. Additionally, if you are learning VMware,

474
00:41:38,960 --> 00:41:43,280
you say you're getting a job somewhere that is using ESXi infrastructure and you don't

475
00:41:43,280 --> 00:41:47,280
understand VMware, well, you don't have a lot of options that aren't super expensive

476
00:41:47,920 --> 00:41:54,400
to learn on. But now you could go get a $75 Raspberry Pi and actually run an image from them

477
00:41:54,400 --> 00:41:58,640
that gives you a lot of that experience and lets you plug in with the wider VMware infrastructure.

478
00:41:59,200 --> 00:42:02,800
And there's got to be some decent backup scenarios. I'm not even thinking with this.

479
00:42:02,800 --> 00:42:08,240
So you're going to be limited to ARM VMs, but you imagine something like this, Alex,

480
00:42:08,240 --> 00:42:13,760
and you say the Raspberry Pi 8. And now all of a sudden you could see how this could be

481
00:42:13,760 --> 00:42:18,800
really great, like at the edge or on-premises virtualization to run several services on a low

482
00:42:18,800 --> 00:42:24,320
power little Raspberry Pi. But you get the additional benefit of everything being in VMware

483
00:42:24,320 --> 00:42:29,680
so you can manage it with your entire tool set. And I could see this going somewhere kind of cool.

484
00:42:29,680 --> 00:42:32,080
It's early days, but I could see it getting pretty neat.

485
00:42:32,080 --> 00:42:36,560
The cynic in me thinks the only reason VMware are doing this is because of Apple.

486
00:42:36,560 --> 00:42:40,720
When I listened to a podcast, which we have a link in the show notes too, that talked about

487
00:42:40,720 --> 00:42:48,560
a lot of the larger server ARM boards that are these massive ARM systems, minimum 16-core,

488
00:42:49,520 --> 00:42:53,600
160 gigs of RAM minimum kind of system, like massive ARM boxes,

489
00:42:53,600 --> 00:42:58,320
and go up to several terabytes of RAM and whatnot, 24 cores and 32 cores.

490
00:42:58,320 --> 00:43:02,240
One of the things they were saying, though, is that, again, it's the problem of developing

491
00:43:02,240 --> 00:43:08,720
software for those big data center ARM boxes. Developers need something that is approachable

492
00:43:08,720 --> 00:43:13,600
that they can execute ARM code on. And the nice thing about VMware here is they're abstracting

493
00:43:13,600 --> 00:43:19,120
out the details of, are you specifically supporting the Raspberry Pi's video card

494
00:43:19,120 --> 00:43:23,840
and network controller? Or can you just deploy for VMware and just focus on creating really

495
00:43:23,840 --> 00:43:27,200
fast ARM code and then eventually move that up to the cloud? And I think that's part of

496
00:43:27,200 --> 00:43:30,800
their strategy is to give people a development environment they can run on their land,

497
00:43:30,800 --> 00:43:35,600
throw in their bag to deploy on ARM in the cloud running VMware.

498
00:43:35,600 --> 00:43:40,240
You know where I can see this being useful? If you're a traveling salesperson or pre-sales

499
00:43:40,240 --> 00:43:45,120
engineer or something, whip out a Raspberry Pi in a sales meeting and boom. If you don't want

500
00:43:45,120 --> 00:43:48,160
to use AWS for some reason, I don't know. You know that's going to be a thing,

501
00:43:48,160 --> 00:43:52,640
right? People showing up with Pi's and little virtual environments. I'm not a big VMware guy

502
00:43:52,640 --> 00:43:59,440
anymore, but I did, as part of an old job as a previous life, run an infrastructure on VMware.

503
00:43:59,440 --> 00:44:04,960
And so I get kind of excited about this. If this was usable for say, solidly four VMs,

504
00:44:05,520 --> 00:44:08,880
I could see have gone, I mean, have gone this way. I could have gone this way potentially,

505
00:44:08,880 --> 00:44:12,000
instead of having four Pi's, I could have had maybe one eight gig Pi.

506
00:44:12,000 --> 00:44:16,240
I view this very much as a signal of intent rather than something that's useful right now.

507
00:44:16,240 --> 00:44:20,000
Yeah. Something I'm definitely going to keep an eye on and I'll probably wait for a couple of

508
00:44:20,000 --> 00:44:25,040
builds because they're getting a lot of community feedback and they're rolling out releases. So I'm

509
00:44:25,040 --> 00:44:28,400
going to wait for a release or two to land and then I think I'm going to try it on my eight gig Pi.

510
00:44:28,400 --> 00:44:32,880
Now we found a pick for you. This one's called Archivee and it's a self-hosted knowledge

511
00:44:32,880 --> 00:44:37,520
repository that allows you to safely preserve useful content that contributes to your own

512
00:44:37,520 --> 00:44:41,600
personal knowledge bank. Yeah. Imagine like sucking down an entire website and all of its

513
00:44:41,600 --> 00:44:47,280
assets into your own knowledge bank. That's a pretty cool idea. And I like that it ties in

514
00:44:47,280 --> 00:44:51,600
with pocket. If you happen to use that, you can set it up so that anything you put in pocket,

515
00:44:51,600 --> 00:44:56,480
it just sucks all down into your own personal database. I think the UI to navigate it

516
00:44:56,480 --> 00:45:02,320
is a little simplistic, but it gets the job done. And it's a really super cool concept. If you are

517
00:45:02,320 --> 00:45:06,960
an archivist who likes to just pull down all of the things for your research, I've definitely had

518
00:45:06,960 --> 00:45:12,000
projects where we linked to stuff and then that website goes offline or the story changes. And

519
00:45:12,000 --> 00:45:16,240
I really had wished I'd archived an original version. Yeah. Having that local copy of stuff's

520
00:45:16,240 --> 00:45:21,200
very useful. I can't remember what the show was, but I saw another example of Netflix or was it

521
00:45:21,200 --> 00:45:26,720
maybe Disney censoring? I think it was The Simpsons. So it must be Disney censoring episodes of The

522
00:45:26,720 --> 00:45:32,640
Simpsons that are on Disney Plus. Whereas if you had the DVD on your shelf, they could never change

523
00:45:32,640 --> 00:45:38,160
it. So it's a similar kind of mindset. It seems like the project is fairly active and the developer

524
00:45:38,160 --> 00:45:42,400
intends to add integrations with Hacker News and Reddit. So if you have stories on there that you've

525
00:45:42,960 --> 00:45:47,520
upvoted, you could potentially integrate that in with this and just have it go and automatically

526
00:45:47,520 --> 00:45:52,480
archive that story for you, which I really like that idea. So I'm keeping my eye on this one.

527
00:45:52,480 --> 00:45:58,080
You know, I'm interested because it runs out of Docker, but it also requires Elastic Search. So

528
00:45:58,080 --> 00:46:03,520
there is a little bit of no batteries included setup required. So just bear that in mind.

529
00:46:03,520 --> 00:46:08,080
I want to say thank you to our members. If you are interested in supporting the show and get a

530
00:46:08,080 --> 00:46:14,560
limited ad feed of this here show, plus extra content, you get a post show, go to selfhosted.show

531
00:46:14,560 --> 00:46:20,720
slash SRE and become one of our site reliability engineers that keeps the show going. As always,

532
00:46:20,720 --> 00:46:24,960
you can find different ways to get in touch with us at selfhosted.show slash contact.

533
00:46:25,600 --> 00:46:31,200
I'm on Twitter at ironicbadger. I'm there at Chris Lass and the show is at Self Hosted Show.

534
00:46:31,200 --> 00:46:44,960
Thanks for listening, everyone. That was selfhosted.show slash 30.

